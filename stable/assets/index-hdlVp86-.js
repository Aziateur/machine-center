(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();var y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zd={exports:{}},bs={};var hg;function g1(){if(hg)return bs;hg=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function l(o,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var y in u)y!=="key"&&(f[y]=u[y])}else f=u;return u=f.ref,{$$typeof:n,type:o,key:h,ref:u!==void 0?u:null,props:f}}return bs.Fragment=i,bs.jsx=l,bs.jsxs=l,bs}var pg;function v1(){return pg||(pg=1,Zd.exports=g1()),Zd.exports}var g=v1(),Qd={exports:{}},ut={};var mg;function b1(){if(mg)return ut;mg=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),_=Symbol.iterator;function j(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,T={};function k(L,I,_e){this.props=L,this.context=I,this.refs=T,this.updater=_e||C}k.prototype.isReactComponent={},k.prototype.setState=function(L,I){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,I,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function z(){}z.prototype=k.prototype;function A(L,I,_e){this.props=L,this.context=I,this.refs=T,this.updater=_e||C}var B=A.prototype=new z;B.constructor=A,D(B,k.prototype),B.isPureReactComponent=!0;var G=Array.isArray;function V(){}var Y={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function he(L,I,_e){var Se=_e.ref;return{$$typeof:n,type:L,key:I,ref:Se!==void 0?Se:null,props:_e}}function Te(L,I){return he(L.type,I,L.props)}function le(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function ae(L){var I={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(_e){return I[_e]})}var Ee=/\/+/g;function K(L,I){return typeof L=="object"&&L!==null&&L.key!=null?ae(""+L.key):I.toString(36)}function oe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(V,V):(L.status="pending",L.then(function(I){L.status==="pending"&&(L.status="fulfilled",L.value=I)},function(I){L.status==="pending"&&(L.status="rejected",L.reason=I)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function U(L,I,_e,Se,Be){var Le=typeof L;(Le==="undefined"||Le==="boolean")&&(L=null);var He=!1;if(L===null)He=!0;else switch(Le){case"bigint":case"string":case"number":He=!0;break;case"object":switch(L.$$typeof){case n:case i:He=!0;break;case w:return He=L._init,U(He(L._payload),I,_e,Se,Be)}}if(He)return Be=Be(L),He=Se===""?"."+K(L,0):Se,G(Be)?(_e="",He!=null&&(_e=He.replace(Ee,"$&/")+"/"),U(Be,I,_e,"",function(ze){return ze})):Be!=null&&(le(Be)&&(Be=Te(Be,_e+(Be.key==null||L&&L.key===Be.key?"":(""+Be.key).replace(Ee,"$&/")+"/")+He)),I.push(Be)),1;He=0;var De=Se===""?".":Se+":";if(G(L))for(var qe=0;qe<L.length;qe++)Se=L[qe],Le=De+K(Se,qe),He+=U(Se,I,_e,Le,Be);else if(qe=j(L),typeof qe=="function")for(L=qe.call(L),qe=0;!(Se=L.next()).done;)Se=Se.value,Le=De+K(Se,qe++),He+=U(Se,I,_e,Le,Be);else if(Le==="object"){if(typeof L.then=="function")return U(oe(L),I,_e,Se,Be);throw I=String(L),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return He}function X(L,I,_e){if(L==null)return L;var Se=[],Be=0;return U(L,Se,"","",function(Le){return I.call(_e,Le,Be++)}),Se}function Z(L){if(L._status===-1){var I=L._result;I=I(),I.then(function(_e){(L._status===0||L._status===-1)&&(L._status=1,L._result=_e)},function(_e){(L._status===0||L._status===-1)&&(L._status=2,L._result=_e)}),L._status===-1&&(L._status=0,L._result=I)}if(L._status===1)return L._result.default;throw L._result}var se=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},xe={map:X,forEach:function(L,I,_e){X(L,function(){I.apply(this,arguments)},_e)},count:function(L){var I=0;return X(L,function(){I++}),I},toArray:function(L){return X(L,function(I){return I})||[]},only:function(L){if(!le(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return ut.Activity=x,ut.Children=xe,ut.Component=k,ut.Fragment=l,ut.Profiler=u,ut.PureComponent=A,ut.StrictMode=o,ut.Suspense=b,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ut.__COMPILER_RUNTIME={__proto__:null,c:function(L){return Y.H.useMemoCache(L)}},ut.cache=function(L){return function(){return L.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(L,I,_e){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Se=D({},L.props),Be=L.key;if(I!=null)for(Le in I.key!==void 0&&(Be=""+I.key),I)!de.call(I,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&I.ref===void 0||(Se[Le]=I[Le]);var Le=arguments.length-2;if(Le===1)Se.children=_e;else if(1<Le){for(var He=Array(Le),De=0;De<Le;De++)He[De]=arguments[De+2];Se.children=He}return he(L.type,Be,Se)},ut.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:f,_context:L},L},ut.createElement=function(L,I,_e){var Se,Be={},Le=null;if(I!=null)for(Se in I.key!==void 0&&(Le=""+I.key),I)de.call(I,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Be[Se]=I[Se]);var He=arguments.length-2;if(He===1)Be.children=_e;else if(1<He){for(var De=Array(He),qe=0;qe<He;qe++)De[qe]=arguments[qe+2];Be.children=De}if(L&&L.defaultProps)for(Se in He=L.defaultProps,He)Be[Se]===void 0&&(Be[Se]=He[Se]);return he(L,Le,Be)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(L){return{$$typeof:y,render:L}},ut.isValidElement=le,ut.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:Z}},ut.memo=function(L,I){return{$$typeof:m,type:L,compare:I===void 0?null:I}},ut.startTransition=function(L){var I=Y.T,_e={};Y.T=_e;try{var Se=L(),Be=Y.S;Be!==null&&Be(_e,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(V,se)}catch(Le){se(Le)}finally{I!==null&&_e.types!==null&&(I.types=_e.types),Y.T=I}},ut.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ut.use=function(L){return Y.H.use(L)},ut.useActionState=function(L,I,_e){return Y.H.useActionState(L,I,_e)},ut.useCallback=function(L,I){return Y.H.useCallback(L,I)},ut.useContext=function(L){return Y.H.useContext(L)},ut.useDebugValue=function(){},ut.useDeferredValue=function(L,I){return Y.H.useDeferredValue(L,I)},ut.useEffect=function(L,I){return Y.H.useEffect(L,I)},ut.useEffectEvent=function(L){return Y.H.useEffectEvent(L)},ut.useId=function(){return Y.H.useId()},ut.useImperativeHandle=function(L,I,_e){return Y.H.useImperativeHandle(L,I,_e)},ut.useInsertionEffect=function(L,I){return Y.H.useInsertionEffect(L,I)},ut.useLayoutEffect=function(L,I){return Y.H.useLayoutEffect(L,I)},ut.useMemo=function(L,I){return Y.H.useMemo(L,I)},ut.useOptimistic=function(L,I){return Y.H.useOptimistic(L,I)},ut.useReducer=function(L,I,_e){return Y.H.useReducer(L,I,_e)},ut.useRef=function(L){return Y.H.useRef(L)},ut.useState=function(L){return Y.H.useState(L)},ut.useSyncExternalStore=function(L,I,_e){return Y.H.useSyncExternalStore(L,I,_e)},ut.useTransition=function(){return Y.H.useTransition()},ut.version="19.2.4",ut}var yg;function Vs(){return yg||(yg=1,Qd.exports=b1()),Qd.exports}var O=Vs();const Uv=qh(O);var Pd={exports:{}},xs={},Fd={exports:{}},Jd={};var gg;function x1(){return gg||(gg=1,(function(n){function i(U,X){var Z=U.length;U.push(X);e:for(;0<Z;){var se=Z-1>>>1,xe=U[se];if(0<u(xe,X))U[se]=X,U[Z]=xe,Z=se;else break e}}function l(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var X=U[0],Z=U.pop();if(Z!==X){U[0]=Z;e:for(var se=0,xe=U.length,L=xe>>>1;se<L;){var I=2*(se+1)-1,_e=U[I],Se=I+1,Be=U[Se];if(0>u(_e,Z))Se<xe&&0>u(Be,_e)?(U[se]=Be,U[Se]=Z,se=Se):(U[se]=_e,U[I]=Z,se=I);else if(Se<xe&&0>u(Be,Z))U[se]=Be,U[Se]=Z,se=Se;else break e}}return X}function u(U,X){var Z=U.sortIndex-X.sortIndex;return Z!==0?Z:U.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,y=h.now();n.unstable_now=function(){return h.now()-y}}var b=[],m=[],w=1,x=null,_=3,j=!1,C=!1,D=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function B(U){for(var X=l(m);X!==null;){if(X.callback===null)o(m);else if(X.startTime<=U)o(m),X.sortIndex=X.expirationTime,i(b,X);else break;X=l(m)}}function G(U){if(D=!1,B(U),!C)if(l(b)!==null)C=!0,V||(V=!0,ae());else{var X=l(m);X!==null&&oe(G,X.startTime-U)}}var V=!1,Y=-1,de=5,he=-1;function Te(){return T?!0:!(n.unstable_now()-he<de)}function le(){if(T=!1,V){var U=n.unstable_now();he=U;var X=!0;try{e:{C=!1,D&&(D=!1,z(Y),Y=-1),j=!0;var Z=_;try{t:{for(B(U),x=l(b);x!==null&&!(x.expirationTime>U&&Te());){var se=x.callback;if(typeof se=="function"){x.callback=null,_=x.priorityLevel;var xe=se(x.expirationTime<=U);if(U=n.unstable_now(),typeof xe=="function"){x.callback=xe,B(U),X=!0;break t}x===l(b)&&o(b),B(U)}else o(b);x=l(b)}if(x!==null)X=!0;else{var L=l(m);L!==null&&oe(G,L.startTime-U),X=!1}}break e}finally{x=null,_=Z,j=!1}X=void 0}}finally{X?ae():V=!1}}}var ae;if(typeof A=="function")ae=function(){A(le)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,K=Ee.port2;Ee.port1.onmessage=le,ae=function(){K.postMessage(null)}}else ae=function(){k(le,0)};function oe(U,X){Y=k(function(){U(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(U){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var Z=_;_=X;try{return U()}finally{_=Z}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=_;_=U;try{return X()}finally{_=Z}},n.unstable_scheduleCallback=function(U,X,Z){var se=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?se+Z:se):Z=se,U){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Z+xe,U={id:w++,callback:X,priorityLevel:U,startTime:Z,expirationTime:xe,sortIndex:-1},Z>se?(U.sortIndex=Z,i(m,U),l(b)===null&&U===l(m)&&(D?(z(Y),Y=-1):D=!0,oe(G,Z-se))):(U.sortIndex=xe,i(b,U),C||j||(C=!0,V||(V=!0,ae()))),U},n.unstable_shouldYield=Te,n.unstable_wrapCallback=function(U){var X=_;return function(){var Z=_;_=X;try{return U.apply(this,arguments)}finally{_=Z}}}})(Jd)),Jd}var vg;function w1(){return vg||(vg=1,Fd.exports=x1()),Fd.exports}var Wd={exports:{}},Tn={};var bg;function S1(){if(bg)return Tn;bg=1;var n=Vs();function i(b){var m="https://react.dev/errors/"+b;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+b+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(i(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(b,m,w){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:b,containerInfo:m,implementation:w}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,m){if(b==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Tn.createPortal=function(b,m){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(i(299));return f(b,m,null,w)},Tn.flushSync=function(b){var m=h.T,w=o.p;try{if(h.T=null,o.p=2,b)return b()}finally{h.T=m,o.p=w,o.d.f()}},Tn.preconnect=function(b,m){typeof b=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(b,m))},Tn.prefetchDNS=function(b){typeof b=="string"&&o.d.D(b)},Tn.preinit=function(b,m){if(typeof b=="string"&&m&&typeof m.as=="string"){var w=m.as,x=y(w,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,j=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;w==="style"?o.d.S(b,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:_,fetchPriority:j}):w==="script"&&o.d.X(b,{crossOrigin:x,integrity:_,fetchPriority:j,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tn.preinitModule=function(b,m){if(typeof b=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var w=y(m.as,m.crossOrigin);o.d.M(b,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(b)},Tn.preload=function(b,m){if(typeof b=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var w=m.as,x=y(w,m.crossOrigin);o.d.L(b,w,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tn.preloadModule=function(b,m){if(typeof b=="string")if(m){var w=y(m.as,m.crossOrigin);o.d.m(b,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(b)},Tn.requestFormReset=function(b){o.d.r(b)},Tn.unstable_batchedUpdates=function(b,m){return b(m)},Tn.useFormState=function(b,m,w){return h.H.useFormState(b,m,w)},Tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Tn.version="19.2.4",Tn}var xg;function qv(){if(xg)return Wd.exports;xg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),Wd.exports=S1(),Wd.exports}var wg;function _1(){if(wg)return xs;wg=1;var n=w1(),i=Vs(),l=qv();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(f(e)!==e)throw Error(o(188))}function m(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,r=t;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(r=c.return,r!==null){a=r;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return b(c),e;if(d===r)return b(c),t;d=d.sibling}throw Error(o(188))}if(a.return!==r.return)a=c,r=d;else{for(var E=!1,R=c.child;R;){if(R===a){E=!0,a=c,r=d;break}if(R===r){E=!0,r=c,a=d;break}R=R.sibling}if(!E){for(R=d.child;R;){if(R===a){E=!0,a=d,r=c;break}if(R===r){E=!0,r=d,a=c;break}R=R.sibling}if(!E)throw Error(o(189))}}if(a.alternate!==r)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,_=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),A=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),he=Symbol.for("react.activity"),Te=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Symbol.for("react.client.reference");function K(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case k:return"Profiler";case T:return"StrictMode";case G:return"Suspense";case V:return"SuspenseList";case he:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case A:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:K(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return K(e(t))}catch{}}return null}var oe=Array.isArray,U=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},se=[],xe=-1;function L(e){return{current:e}}function I(e){0>xe||(e.current=se[xe],se[xe]=null,xe--)}function _e(e,t){xe++,se[xe]=e.current,e.current=t}var Se=L(null),Be=L(null),Le=L(null),He=L(null);function De(e,t){switch(_e(Le,t),_e(Be,e),_e(Se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?By(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=By(t),e=Hy(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(Se),_e(Se,e)}function qe(){I(Se),I(Be),I(Le)}function ze(e){e.memoizedState!==null&&_e(He,e);var t=Se.current,a=Hy(t,e.type);t!==a&&(_e(Be,e),_e(Se,a))}function lt(e){Be.current===e&&(I(Se),I(Be)),He.current===e&&(I(He),ms._currentValue=Z)}var Ue,Ae;function Ke(e){if(Ue===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ue=t&&t[1]||"",Ae=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+e+Ae}var Ge=!1;function ie(e,t){if(!e||Ge)return"";Ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(we){var ve=we}Reflect.construct(e,[],Me)}else{try{Me.call()}catch(we){ve=we}e.call(Me.prototype)}}else{try{throw Error()}catch(we){ve=we}(Me=e())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(we){if(we&&ve&&typeof we.stack=="string")return[we.stack,ve.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),E=d[0],R=d[1];if(E&&R){var $=E.split(`
`),me=R.split(`
`);for(c=r=0;r<$.length&&!$[r].includes("DetermineComponentFrameRoot");)r++;for(;c<me.length&&!me[c].includes("DetermineComponentFrameRoot");)c++;if(r===$.length||c===me.length)for(r=$.length-1,c=me.length-1;1<=r&&0<=c&&$[r]!==me[c];)c--;for(;1<=r&&0<=c;r--,c--)if($[r]!==me[c]){if(r!==1||c!==1)do if(r--,c--,0>c||$[r]!==me[c]){var Ce=`
`+$[r].replace(" at new "," at ");return e.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",e.displayName)),Ce}while(1<=r&&0<=c);break}}}finally{Ge=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ke(a):""}function ye(e,t){switch(e.tag){case 26:case 27:case 5:return Ke(e.type);case 16:return Ke("Lazy");case 13:return e.child!==t&&t!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return ie(e.type,!1);case 11:return ie(e.type.render,!1);case 1:return ie(e.type,!0);case 31:return Ke("Activity");default:return""}}function Xe(e){try{var t="",a=null;do t+=ye(e,a),a=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var et=Object.prototype.hasOwnProperty,Fe=n.unstable_scheduleCallback,Je=n.unstable_cancelCallback,ct=n.unstable_shouldYield,Ut=n.unstable_requestPaint,Wt=n.unstable_now,kn=n.unstable_getCurrentPriorityLevel,qt=n.unstable_ImmediatePriority,zt=n.unstable_UserBlockingPriority,wa=n.unstable_NormalPriority,ei=n.unstable_LowPriority,Ha=n.unstable_IdlePriority,Ii=n.log,Sa=n.unstable_setDisableYieldValue,ia=null,dn=null;function hn(e){if(typeof Ii=="function"&&Sa(e),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(ia,e)}catch{}}var Ze=Math.clz32?Math.clz32:Gi,ti=Math.log,_a=Math.LN2;function Gi(e){return e>>>=0,e===0?32:31-(ti(e)/_a|0)|0}var $e=256,La=262144,ni=4194304;function In(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var c=0,d=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var R=r&134217727;return R!==0?(r=R&~d,r!==0?c=In(r):(E&=R,E!==0?c=In(E):a||(a=R&~e,a!==0&&(c=In(a))))):(R=r&~d,R!==0?c=In(R):E!==0?c=In(E):a||(a=r&~e,a!==0&&(c=In(a)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:c}function Ea(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function _o(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dl(){var e=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),e}function ra(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Rn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Or(e,t,a,r,c,d){var E=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var R=e.entanglements,$=e.expirationTimes,me=e.hiddenUpdates;for(a=E&~a;0<a;){var Ce=31-Ze(a),Me=1<<Ce;R[Ce]=0,$[Ce]=-1;var ve=me[Ce];if(ve!==null)for(me[Ce]=null,Ce=0;Ce<ve.length;Ce++){var we=ve[Ce];we!==null&&(we.lane&=-536870913)}a&=~Me}r!==0&&ii(e,r,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~t))}function ii(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ze(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function Mt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-Ze(a),c=1<<r;c&t|e[r]&t&&(e[r]|=t),a&=~c}}function Zt(e,t){var a=t&-t;return a=(a&42)!==0?1:kr(a),(a&(e.suspendedLanes|t))!==0?0:a}function kr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ua(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ri(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:lg(e.type))}function li(e,t){var a=X.p;try{return X.p=e,t()}finally{X.p=a}}var la=Math.random().toString(36).slice(2),Ot="__reactFiber$"+la,Qt="__reactProps$"+la,yn="__reactContainer$"+la,Na="__reactEvents$"+la,hl="__reactListeners$"+la,oa="__reactHandles$"+la,Rr="__reactResources$"+la,Dn="__reactMarker$"+la;function Zi(e){delete e[Ot],delete e[Qt],delete e[Na],delete e[hl],delete e[oa]}function sa(e){var t=e[Ot];if(t)return t;for(var a=e.parentNode;a;){if(t=a[yn]||a[Ot]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=$y(e);e!==null;){if(a=e[Ot])return a;e=$y(e)}return t}e=a,a=e.parentNode}return null}function At(e){if(e=e[Ot]||e[yn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Cn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function gn(e){var t=e[Rr];return t||(t=e[Rr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Pt(e){e[Dn]=!0}var Ca=new Set,oi={};function Gn(e,t){ua(e,t),ua(e+"Capture",t)}function ua(e,t){for(oi[e]=t,e=0;e<t.length;e++)Ca.add(t[e])}var Aa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qi={},si={};function pl(e){return et.call(si,e)?!0:et.call(Qi,e)?!1:Aa.test(e)?si[e]=!0:(Qi[e]=!0,!1)}function ft(e,t,a){if(pl(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ui(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Bn(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qa(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ml(e,t,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(E){a=""+E,d.call(this,E)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ci(e){if(!e._valueTracker){var t=qa(e)?"checked":"value";e._valueTracker=ml(e,t,""+e[t])}}function Br(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=qa(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function wt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fi=/[\n"\\]/g;function rn(e){return e.replace(fi,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Hn(e,t,a,r,c,d,E,R){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),t!=null?E==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+pn(t)):e.value!==""+pn(t)&&(e.value=""+pn(t)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),t!=null?di(e,E,pn(t)):a!=null?di(e,E,pn(a)):r!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+pn(R):e.removeAttribute("name")}function Pi(e,t,a,r,c,d,E,R){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){ci(e);return}a=a!=null?""+pn(a):"",t=t!=null?""+pn(t):a,R||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=R?e.checked:!!r,e.defaultChecked=!!r,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),ci(e)}function di(e,t,a){t==="number"&&wt(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ln(e,t,a,r){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&r&&(e[a].defaultSelected=!0)}else{for(a=""+pn(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Eo(e,t,a){if(t!=null&&(t=""+pn(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+pn(a):""}function Hr(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(o(92));if(oe(r)){if(1<r.length)throw Error(o(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=pn(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),ci(e)}function hi(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var nf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bt(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||nf.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function No(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&a[c]!==r&&bt(e,c,r)}else for(var d in t)t.hasOwnProperty(d)&&bt(e,d,t[d])}function Co(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(e){return zn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Un(){}var ca=null;function yl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pi=null,Vt=null;function Zn(e){var t=At(e);if(t&&(e=t.stateNode)){var a=e[Qt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Hn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var c=r[Qt]||null;if(!c)throw Error(o(90));Hn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&Br(r)}break e;case"textarea":Eo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ln(e,!!a.multiple,t,!1)}}}var mi=!1;function Fi(e,t,a){if(mi)return e(t,a);mi=!0;try{var r=e(t);return r}finally{if(mi=!1,(pi!==null||Vt!==null)&&(qu(),pi&&(t=pi,e=Vt,Vt=pi=null,Zn(t),e)))for(t=0;t<e.length;t++)Zn(e[t])}}function yi(e,t){var a=e.stateNode;if(a===null)return null;var r=a[Qt]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ao=!1;if(vn)try{var An={};Object.defineProperty(An,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{Ao=!1}var fa=null,gl=null,Ji=null;function Wi(){if(Ji)return Ji;var e,t=gl,a=t.length,r,c="value"in fa?fa.value:fa.textContent,d=c.length;for(e=0;e<a&&t[e]===c[e];e++);var E=a-e;for(r=1;r<=E&&t[a-r]===c[d-r];r++);return Ji=c.slice(e,1<r?1-r:void 0)}function er(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lr(){return!0}function Js(){return!1}function ln(e){function t(a,r,c,d,E){this._reactName=a,this._targetInst=c,this.type=r,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(a=e[R],this[R]=a?a(d):d[R]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Lr:Js,this.isPropagationStopped=Js,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),t}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=ln(gi),Va=x({},gi,{view:0,detail:0}),bl=ln(Va),Ur,jo,qr,xl=x({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qr&&(qr&&e.type==="mousemove"?(Ur=e.screenX-qr.screenX,jo=e.screenY-qr.screenY):jo=Ur=0,qr=e),Ur)},movementY:function(e){return"movementY"in e?e.movementY:jo}}),wl=ln(xl),Mo=x({},xl,{dataTransfer:0}),Ws=ln(Mo),Sl=x({},Va,{relatedTarget:0}),tr=ln(Sl),_l=x({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),eu=ln(_l),rf=x({},gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nr=ln(rf),To=x({},gi,{data:0}),El=ln(To),Do={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bn[e])?!!t[e]:!1}function vi(){return Vr}var tu=x({},Va,{key:function(e){if(e.key){var t=Do[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vi,charCode:function(e){return e.type==="keypress"?er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nl=ln(tu),nu=x({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oo=ln(nu),Cl=x({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vi}),ko=ln(Cl),bi=x({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ro=ln(bi),Bo=x({},xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Al=ln(Bo),Ho=x({},gi,{newState:0,oldState:0}),au=ln(Ho),lf=[9,13,27,32],Yr=vn&&"CompositionEvent"in window,Ya=null;vn&&"documentMode"in document&&(Ya=document.documentMode);var of=vn&&"TextEvent"in window&&!Ya,jl=vn&&(!Yr||Ya&&8<Ya&&11>=Ya),Ml=" ",iu=!1;function Lo(e,t){switch(e){case"keyup":return lf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ru(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xi=!1;function lu(e,t){switch(e){case"compositionend":return ru(t);case"keypress":return t.which!==32?null:(iu=!0,Ml);case"textInput":return e=t.data,e===Ml&&iu?null:e;default:return null}}function sf(e,t){if(xi)return e==="compositionend"||!Yr&&Lo(e,t)?(e=Wi(),Ji=gl=fa=null,xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jl&&t.locale!=="ko"?null:t.data;default:return null}}var ou={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ou[e.type]:t==="textarea"}function Uo(e,t,a,r){pi?Vt?Vt.push(r):Vt=[r]:pi=r,t=Gu(t,"onChange"),0<t.length&&(a=new vl("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var ar=null,Kr=null;function uf(e){Ty(e,0)}function Dl(e){var t=Cn(e);if(Br(t))return e}function $r(e,t){if(e==="change")return t}var da=!1;if(vn){var Yt;if(vn){var ir="oninput"in document;if(!ir){var wi=document.createElement("div");wi.setAttribute("oninput","return;"),ir=typeof wi.oninput=="function"}Yt=ir}else Yt=!1;da=Yt&&(!document.documentMode||9<document.documentMode)}function su(){ar&&(ar.detachEvent("onpropertychange",zl),Kr=ar=null)}function zl(e){if(e.propertyName==="value"&&Dl(Kr)){var t=[];Uo(t,Kr,e,yl(e)),Fi(uf,t)}}function uu(e,t,a){e==="focusin"?(su(),ar=t,Kr=a,ar.attachEvent("onpropertychange",zl)):e==="focusout"&&su()}function Si(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dl(Kr)}function qo(e,t){if(e==="click")return Dl(t)}function rr(e,t){if(e==="input"||e==="change")return Dl(t)}function Ka(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:Ka;function s(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var c=a[r];if(!et.call(t,c)||!jn(e[c],t[c]))return!1}return!0}function p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function v(e,t){var a=p(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=p(a)}}function S(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function N(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=wt(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=wt(e.document)}return t}function M(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var H=vn&&"documentMode"in document&&11>=document.documentMode,q=null,P=null,ue=null,F=!1;function Q(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;F||q==null||q!==wt(r)||(r=q,"selectionStart"in r&&M(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ue&&s(ue,r)||(ue=r,r=Gu(P,"onSelect"),0<r.length&&(t=new vl("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=q)))}function ee(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ne={animationend:ee("Animation","AnimationEnd"),animationiteration:ee("Animation","AnimationIteration"),animationstart:ee("Animation","AnimationStart"),transitionrun:ee("Transition","TransitionRun"),transitionstart:ee("Transition","TransitionStart"),transitioncancel:ee("Transition","TransitionCancel"),transitionend:ee("Transition","TransitionEnd")},J={},W={};vn&&(W=document.createElement("div").style,"AnimationEvent"in window||(delete ne.animationend.animation,delete ne.animationiteration.animation,delete ne.animationstart.animation),"TransitionEvent"in window||delete ne.transitionend.transition);function fe(e){if(J[e])return J[e];if(!ne[e])return e;var t=ne[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in W)return J[e]=t[a];return e}var ge=fe("animationend"),ce=fe("animationiteration"),Ne=fe("animationstart"),Oe=fe("transitionrun"),Ve=fe("transitionstart"),Ye=fe("transitioncancel"),ke=fe("transitionend"),Qe=new Map,Ie="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ie.push("scrollEnd");function Re(e,t){Qe.set(e,t),Gn(t,[e])}var Pe=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ot=[],pt=0,nt=0;function st(){for(var e=pt,t=nt=pt=0;t<e;){var a=ot[t];ot[t++]=null;var r=ot[t];ot[t++]=null;var c=ot[t];ot[t++]=null;var d=ot[t];if(ot[t++]=null,r!==null&&c!==null){var E=r.pending;E===null?c.next=c:(c.next=E.next,E.next=c),r.pending=c}d!==0&&$a(a,c,d)}}function kt(e,t,a,r){ot[pt++]=e,ot[pt++]=t,ot[pt++]=a,ot[pt++]=r,nt|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Mn(e,t,a,r){return kt(e,t,a,r),lr(e)}function jt(e,t){return kt(e,null,null,t),lr(e)}function $a(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var c=!1,d=e.return;d!==null;)d.childLanes|=a,r=d.alternate,r!==null&&(r.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-Ze(a),e=d.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=a|536870912),d):null}function lr(e){if(50<ss)throw ss=0,vd=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ol={};function Wb(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,t,a,r){return new Wb(e,t,a,r)}function cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _i(e,t){var a=e.alternate;return a===null?(a=Qn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function dp(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cu(e,t,a,r,c,d){var E=0;if(r=e,typeof e=="function")cf(e)&&(E=1);else if(typeof e=="string")E=i1(e,a,Se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case he:return e=Qn(31,a,t,c),e.elementType=he,e.lanes=d,e;case D:return Xr(a.children,c,d,t);case T:E=8,c|=24;break;case k:return e=Qn(12,a,t,c|2),e.elementType=k,e.lanes=d,e;case G:return e=Qn(13,a,t,c),e.elementType=G,e.lanes=d,e;case V:return e=Qn(19,a,t,c),e.elementType=V,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:E=10;break e;case z:E=9;break e;case B:E=11;break e;case Y:E=14;break e;case de:E=16,r=null;break e}E=29,a=Error(o(130,e===null?"null":typeof e,"")),r=null}return t=Qn(E,a,t,c),t.elementType=e,t.type=r,t.lanes=d,t}function Xr(e,t,a,r){return e=Qn(7,e,r,t),e.lanes=a,e}function ff(e,t,a){return e=Qn(6,e,null,t),e.lanes=a,e}function hp(e){var t=Qn(18,null,null,0);return t.stateNode=e,t}function df(e,t,a){return t=Qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pp=new WeakMap;function ha(e,t){if(typeof e=="object"&&e!==null){var a=pp.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Xe(t)},pp.set(e,t),t)}return{value:e,source:t,stack:Xe(t)}}var kl=[],Rl=0,fu=null,Vo=0,pa=[],ma=0,or=null,Xa=1,Ia="";function Ei(e,t){kl[Rl++]=Vo,kl[Rl++]=fu,fu=e,Vo=t}function mp(e,t,a){pa[ma++]=Xa,pa[ma++]=Ia,pa[ma++]=or,or=e;var r=Xa;e=Ia;var c=32-Ze(r)-1;r&=~(1<<c),a+=1;var d=32-Ze(t)+c;if(30<d){var E=c-c%5;d=(r&(1<<E)-1).toString(32),r>>=E,c-=E,Xa=1<<32-Ze(t)+c|a<<c|r,Ia=d+e}else Xa=1<<d|a<<c|r,Ia=e}function hf(e){e.return!==null&&(Ei(e,1),mp(e,1,0))}function pf(e){for(;e===fu;)fu=kl[--Rl],kl[Rl]=null,Vo=kl[--Rl],kl[Rl]=null;for(;e===or;)or=pa[--ma],pa[ma]=null,Ia=pa[--ma],pa[ma]=null,Xa=pa[--ma],pa[ma]=null}function yp(e,t){pa[ma++]=Xa,pa[ma++]=Ia,pa[ma++]=or,Xa=t.id,Ia=t.overflow,or=e}var wn=null,Kt=null,xt=!1,sr=null,ya=!1,mf=Error(o(519));function ur(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(ha(t,e)),mf}function gp(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[Ot]=e,t[Qt]=r,a){case"dialog":yt("cancel",t),yt("close",t);break;case"iframe":case"object":case"embed":yt("load",t);break;case"video":case"audio":for(a=0;a<cs.length;a++)yt(cs[a],t);break;case"source":yt("error",t);break;case"img":case"image":case"link":yt("error",t),yt("load",t);break;case"details":yt("toggle",t);break;case"input":yt("invalid",t),Pi(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":yt("invalid",t);break;case"textarea":yt("invalid",t),Hr(t,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||ky(t.textContent,a)?(r.popover!=null&&(yt("beforetoggle",t),yt("toggle",t)),r.onScroll!=null&&yt("scroll",t),r.onScrollEnd!=null&&yt("scrollend",t),r.onClick!=null&&(t.onclick=Un),t=!0):t=!1,t||ur(e,!0)}function vp(e){for(wn=e.return;wn;)switch(wn.tag){case 5:case 31:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:wn=wn.return}}function Bl(e){if(e!==wn)return!1;if(!xt)return vp(e),xt=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Od(e.type,e.memoizedProps)),a=!a),a&&Kt&&ur(e),vp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Kt=Ky(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Kt=Ky(e)}else t===27?(t=Kt,_r(e.type)?(e=Ld,Ld=null,Kt=e):Kt=t):Kt=wn?va(e.stateNode.nextSibling):null;return!0}function Ir(){Kt=wn=null,xt=!1}function yf(){var e=sr;return e!==null&&(Kn===null?Kn=e:Kn.push.apply(Kn,e),sr=null),e}function Yo(e){sr===null?sr=[e]:sr.push(e)}var gf=L(null),Gr=null,Ni=null;function cr(e,t,a){_e(gf,t._currentValue),t._currentValue=a}function Ci(e){e._currentValue=gf.current,I(gf)}function vf(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function bf(e,t,a,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var E=c.child;d=d.firstContext;e:for(;d!==null;){var R=d;d=c;for(var $=0;$<t.length;$++)if(R.context===t[$]){d.lanes|=a,R=d.alternate,R!==null&&(R.lanes|=a),vf(d.return,a,e),r||(E=null);break e}d=R.next}}else if(c.tag===18){if(E=c.return,E===null)throw Error(o(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),vf(E,a,e),E=null}else E=c.child;if(E!==null)E.return=c;else for(E=c;E!==null;){if(E===e){E=null;break}if(c=E.sibling,c!==null){c.return=E.return,E=c;break}E=E.return}c=E}}function Hl(e,t,a,r){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var E=c.alternate;if(E===null)throw Error(o(387));if(E=E.memoizedProps,E!==null){var R=c.type;jn(c.pendingProps.value,E.value)||(e!==null?e.push(R):e=[R])}}else if(c===He.current){if(E=c.alternate,E===null)throw Error(o(387));E.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ms):e=[ms])}c=c.return}e!==null&&bf(t,e,a,r),t.flags|=262144}function du(e){for(e=e.firstContext;e!==null;){if(!jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zr(e){Gr=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sn(e){return bp(Gr,e)}function hu(e,t){return Gr===null&&Zr(e),bp(e,t)}function bp(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ni===null){if(e===null)throw Error(o(308));Ni=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ni=Ni.next=t;return a}var ex=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},tx=n.unstable_scheduleCallback,nx=n.unstable_NormalPriority,on={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new ex,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&tx(nx,function(){e.controller.abort()})}var $o=null,wf=0,Ll=0,Ul=null;function ax(e,t){if($o===null){var a=$o=[];wf=0,Ll=Ed(),Ul={status:"pending",value:void 0,then:function(r){a.push(r)}}}return wf++,t.then(xp,xp),t}function xp(){if(--wf===0&&$o!==null){Ul!==null&&(Ul.status="fulfilled");var e=$o;$o=null,Ll=0,Ul=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ix(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),r}var wp=U.S;U.S=function(e,t){iy=Wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ax(e,t),wp!==null&&wp(e,t)};var Qr=L(null);function Sf(){var e=Qr.current;return e!==null?e:Lt.pooledCache}function pu(e,t){t===null?_e(Qr,Qr.current):_e(Qr,t.pool)}function Sp(){var e=Sf();return e===null?null:{parent:on._currentValue,pool:e}}var ql=Error(o(460)),_f=Error(o(474)),mu=Error(o(542)),yu={then:function(){}};function _p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ep(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Un,Un),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cp(e),e;default:if(typeof t.status=="string")t.then(Un,Un);else{if(e=Lt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cp(e),e}throw Fr=t,ql}}function Pr(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fr=a,ql):a}}var Fr=null;function Np(){if(Fr===null)throw Error(o(459));var e=Fr;return Fr=null,e}function Cp(e){if(e===ql||e===mu)throw Error(o(483))}var Vl=null,Xo=0;function gu(e){var t=Xo;return Xo+=1,Vl===null&&(Vl=[]),Ep(Vl,e,t)}function Io(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function vu(e,t){throw t.$$typeof===_?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ap(e){function t(re,te){if(e){var pe=re.deletions;pe===null?(re.deletions=[te],re.flags|=16):pe.push(te)}}function a(re,te){if(!e)return null;for(;te!==null;)t(re,te),te=te.sibling;return null}function r(re){for(var te=new Map;re!==null;)re.key!==null?te.set(re.key,re):te.set(re.index,re),re=re.sibling;return te}function c(re,te){return re=_i(re,te),re.index=0,re.sibling=null,re}function d(re,te,pe){return re.index=pe,e?(pe=re.alternate,pe!==null?(pe=pe.index,pe<te?(re.flags|=67108866,te):pe):(re.flags|=67108866,te)):(re.flags|=1048576,te)}function E(re){return e&&re.alternate===null&&(re.flags|=67108866),re}function R(re,te,pe,je){return te===null||te.tag!==6?(te=ff(pe,re.mode,je),te.return=re,te):(te=c(te,pe),te.return=re,te)}function $(re,te,pe,je){var it=pe.type;return it===D?Ce(re,te,pe.props.children,je,pe.key):te!==null&&(te.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===de&&Pr(it)===te.type)?(te=c(te,pe.props),Io(te,pe),te.return=re,te):(te=cu(pe.type,pe.key,pe.props,null,re.mode,je),Io(te,pe),te.return=re,te)}function me(re,te,pe,je){return te===null||te.tag!==4||te.stateNode.containerInfo!==pe.containerInfo||te.stateNode.implementation!==pe.implementation?(te=df(pe,re.mode,je),te.return=re,te):(te=c(te,pe.children||[]),te.return=re,te)}function Ce(re,te,pe,je,it){return te===null||te.tag!==7?(te=Xr(pe,re.mode,je,it),te.return=re,te):(te=c(te,pe),te.return=re,te)}function Me(re,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=ff(""+te,re.mode,pe),te.return=re,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return pe=cu(te.type,te.key,te.props,null,re.mode,pe),Io(pe,te),pe.return=re,pe;case C:return te=df(te,re.mode,pe),te.return=re,te;case de:return te=Pr(te),Me(re,te,pe)}if(oe(te)||ae(te))return te=Xr(te,re.mode,pe,null),te.return=re,te;if(typeof te.then=="function")return Me(re,gu(te),pe);if(te.$$typeof===A)return Me(re,hu(re,te),pe);vu(re,te)}return null}function ve(re,te,pe,je){var it=te!==null?te.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return it!==null?null:R(re,te,""+pe,je);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case j:return pe.key===it?$(re,te,pe,je):null;case C:return pe.key===it?me(re,te,pe,je):null;case de:return pe=Pr(pe),ve(re,te,pe,je)}if(oe(pe)||ae(pe))return it!==null?null:Ce(re,te,pe,je,null);if(typeof pe.then=="function")return ve(re,te,gu(pe),je);if(pe.$$typeof===A)return ve(re,te,hu(re,pe),je);vu(re,pe)}return null}function we(re,te,pe,je,it){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return re=re.get(pe)||null,R(te,re,""+je,it);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case j:return re=re.get(je.key===null?pe:je.key)||null,$(te,re,je,it);case C:return re=re.get(je.key===null?pe:je.key)||null,me(te,re,je,it);case de:return je=Pr(je),we(re,te,pe,je,it)}if(oe(je)||ae(je))return re=re.get(pe)||null,Ce(te,re,je,it,null);if(typeof je.then=="function")return we(re,te,pe,gu(je),it);if(je.$$typeof===A)return we(re,te,pe,hu(te,je),it);vu(te,je)}return null}function We(re,te,pe,je){for(var it=null,_t=null,tt=te,ht=te=0,vt=null;tt!==null&&ht<pe.length;ht++){tt.index>ht?(vt=tt,tt=null):vt=tt.sibling;var Et=ve(re,tt,pe[ht],je);if(Et===null){tt===null&&(tt=vt);break}e&&tt&&Et.alternate===null&&t(re,tt),te=d(Et,te,ht),_t===null?it=Et:_t.sibling=Et,_t=Et,tt=vt}if(ht===pe.length)return a(re,tt),xt&&Ei(re,ht),it;if(tt===null){for(;ht<pe.length;ht++)tt=Me(re,pe[ht],je),tt!==null&&(te=d(tt,te,ht),_t===null?it=tt:_t.sibling=tt,_t=tt);return xt&&Ei(re,ht),it}for(tt=r(tt);ht<pe.length;ht++)vt=we(tt,re,ht,pe[ht],je),vt!==null&&(e&&vt.alternate!==null&&tt.delete(vt.key===null?ht:vt.key),te=d(vt,te,ht),_t===null?it=vt:_t.sibling=vt,_t=vt);return e&&tt.forEach(function(jr){return t(re,jr)}),xt&&Ei(re,ht),it}function rt(re,te,pe,je){if(pe==null)throw Error(o(151));for(var it=null,_t=null,tt=te,ht=te=0,vt=null,Et=pe.next();tt!==null&&!Et.done;ht++,Et=pe.next()){tt.index>ht?(vt=tt,tt=null):vt=tt.sibling;var jr=ve(re,tt,Et.value,je);if(jr===null){tt===null&&(tt=vt);break}e&&tt&&jr.alternate===null&&t(re,tt),te=d(jr,te,ht),_t===null?it=jr:_t.sibling=jr,_t=jr,tt=vt}if(Et.done)return a(re,tt),xt&&Ei(re,ht),it;if(tt===null){for(;!Et.done;ht++,Et=pe.next())Et=Me(re,Et.value,je),Et!==null&&(te=d(Et,te,ht),_t===null?it=Et:_t.sibling=Et,_t=Et);return xt&&Ei(re,ht),it}for(tt=r(tt);!Et.done;ht++,Et=pe.next())Et=we(tt,re,ht,Et.value,je),Et!==null&&(e&&Et.alternate!==null&&tt.delete(Et.key===null?ht:Et.key),te=d(Et,te,ht),_t===null?it=Et:_t.sibling=Et,_t=Et);return e&&tt.forEach(function(m1){return t(re,m1)}),xt&&Ei(re,ht),it}function Ht(re,te,pe,je){if(typeof pe=="object"&&pe!==null&&pe.type===D&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case j:e:{for(var it=pe.key;te!==null;){if(te.key===it){if(it=pe.type,it===D){if(te.tag===7){a(re,te.sibling),je=c(te,pe.props.children),je.return=re,re=je;break e}}else if(te.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===de&&Pr(it)===te.type){a(re,te.sibling),je=c(te,pe.props),Io(je,pe),je.return=re,re=je;break e}a(re,te);break}else t(re,te);te=te.sibling}pe.type===D?(je=Xr(pe.props.children,re.mode,je,pe.key),je.return=re,re=je):(je=cu(pe.type,pe.key,pe.props,null,re.mode,je),Io(je,pe),je.return=re,re=je)}return E(re);case C:e:{for(it=pe.key;te!==null;){if(te.key===it)if(te.tag===4&&te.stateNode.containerInfo===pe.containerInfo&&te.stateNode.implementation===pe.implementation){a(re,te.sibling),je=c(te,pe.children||[]),je.return=re,re=je;break e}else{a(re,te);break}else t(re,te);te=te.sibling}je=df(pe,re.mode,je),je.return=re,re=je}return E(re);case de:return pe=Pr(pe),Ht(re,te,pe,je)}if(oe(pe))return We(re,te,pe,je);if(ae(pe)){if(it=ae(pe),typeof it!="function")throw Error(o(150));return pe=it.call(pe),rt(re,te,pe,je)}if(typeof pe.then=="function")return Ht(re,te,gu(pe),je);if(pe.$$typeof===A)return Ht(re,te,hu(re,pe),je);vu(re,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,te!==null&&te.tag===6?(a(re,te.sibling),je=c(te,pe),je.return=re,re=je):(a(re,te),je=ff(pe,re.mode,je),je.return=re,re=je),E(re)):a(re,te)}return function(re,te,pe,je){try{Xo=0;var it=Ht(re,te,pe,je);return Vl=null,it}catch(tt){if(tt===ql||tt===mu)throw tt;var _t=Qn(29,tt,null,re.mode);return _t.lanes=je,_t.return=re,_t}}}var Jr=Ap(!0),jp=Ap(!1),fr=!1;function Ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hr(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ct&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=lr(e),$a(e,null,a),t}return kt(e,r,t,a),lr(e)}function Go(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Mt(e,a)}}function Cf(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?c=d=t:d=d.next=t}else c=d=t;a={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Af=!1;function Zo(){if(Af){var e=Ul;if(e!==null)throw e}}function Qo(e,t,a,r){Af=!1;var c=e.updateQueue;fr=!1;var d=c.firstBaseUpdate,E=c.lastBaseUpdate,R=c.shared.pending;if(R!==null){c.shared.pending=null;var $=R,me=$.next;$.next=null,E===null?d=me:E.next=me,E=$;var Ce=e.alternate;Ce!==null&&(Ce=Ce.updateQueue,R=Ce.lastBaseUpdate,R!==E&&(R===null?Ce.firstBaseUpdate=me:R.next=me,Ce.lastBaseUpdate=$))}if(d!==null){var Me=c.baseState;E=0,Ce=me=$=null,R=d;do{var ve=R.lane&-536870913,we=ve!==R.lane;if(we?(gt&ve)===ve:(r&ve)===ve){ve!==0&&ve===Ll&&(Af=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var We=e,rt=R;ve=t;var Ht=a;switch(rt.tag){case 1:if(We=rt.payload,typeof We=="function"){Me=We.call(Ht,Me,ve);break e}Me=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=rt.payload,ve=typeof We=="function"?We.call(Ht,Me,ve):We,ve==null)break e;Me=x({},Me,ve);break e;case 2:fr=!0}}ve=R.callback,ve!==null&&(e.flags|=64,we&&(e.flags|=8192),we=c.callbacks,we===null?c.callbacks=[ve]:we.push(ve))}else we={lane:ve,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Ce===null?(me=Ce=we,$=Me):Ce=Ce.next=we,E|=ve;if(R=R.next,R===null){if(R=c.shared.pending,R===null)break;we=R,R=we.next,we.next=null,c.lastBaseUpdate=we,c.shared.pending=null}}while(!0);Ce===null&&($=Me),c.baseState=$,c.firstBaseUpdate=me,c.lastBaseUpdate=Ce,d===null&&(c.shared.lanes=0),vr|=E,e.lanes=E,e.memoizedState=Me}}function Mp(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Tp(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Mp(a[e],t)}var Yl=L(null),bu=L(0);function Dp(e,t){e=Ri,_e(bu,e),_e(Yl,t),Ri=e|t.baseLanes}function jf(){_e(bu,Ri),_e(Yl,Yl.current)}function Mf(){Ri=bu.current,I(Yl),I(bu)}var Pn=L(null),ga=null;function pr(e){var t=e.alternate;_e(nn,nn.current&1),_e(Pn,e),ga===null&&(t===null||Yl.current!==null||t.memoizedState!==null)&&(ga=e)}function Tf(e){_e(nn,nn.current),_e(Pn,e),ga===null&&(ga=e)}function zp(e){e.tag===22?(_e(nn,nn.current),_e(Pn,e),ga===null&&(ga=e)):mr()}function mr(){_e(nn,nn.current),_e(Pn,Pn.current)}function Fn(e){I(Pn),ga===e&&(ga=null),I(nn)}var nn=L(0);function xu(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bd(a)||Hd(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ai=0,dt=null,Rt=null,sn=null,wu=!1,Kl=!1,Wr=!1,Su=0,Po=0,$l=null,rx=0;function en(){throw Error(o(321))}function Df(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!jn(e[a],t[a]))return!1;return!0}function zf(e,t,a,r,c,d){return Ai=d,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?mm:Gf,Wr=!1,d=a(r,c),Wr=!1,Kl&&(d=kp(t,a,r,c)),Op(e),d}function Op(e){U.H=Wo;var t=Rt!==null&&Rt.next!==null;if(Ai=0,sn=Rt=dt=null,wu=!1,Po=0,$l=null,t)throw Error(o(300));e===null||un||(e=e.dependencies,e!==null&&du(e)&&(un=!0))}function kp(e,t,a,r){dt=e;var c=0;do{if(Kl&&($l=null),Po=0,Kl=!1,25<=c)throw Error(o(301));if(c+=1,sn=Rt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}U.H=ym,d=t(a,r)}while(Kl);return d}function lx(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?Fo(t):t,e=e.useState()[0],(Rt!==null?Rt.memoizedState:null)!==e&&(dt.flags|=1024),t}function Of(){var e=Su!==0;return Su=0,e}function kf(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Rf(e){if(wu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wu=!1}Ai=0,sn=Rt=dt=null,Kl=!1,Po=Su=0,$l=null}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?dt.memoizedState=sn=e:sn=sn.next=e,sn}function an(){if(Rt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=sn===null?dt.memoizedState:sn.next;if(t!==null)sn=t,Rt=e;else{if(e===null)throw dt.alternate===null?Error(o(467)):Error(o(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},sn===null?dt.memoizedState=sn=e:sn=sn.next=e}return sn}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var t=Po;return Po+=1,$l===null&&($l=[]),e=Ep($l,e,t),t=dt,(sn===null?t.memoizedState:sn.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?mm:Gf),e}function Eu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===A)return Sn(e)}throw Error(o(438,String(e)))}function Bf(e){var t=null,a=dt.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=dt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=_u(),dt.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=Te;return t.index++,a}function ji(e,t){return typeof t=="function"?t(e):t}function Nu(e){var t=an();return Hf(t,Rt,e)}function Hf(e,t,a){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=a;var c=e.baseQueue,d=r.pending;if(d!==null){if(c!==null){var E=c.next;c.next=d.next,d.next=E}t.baseQueue=c=d,r.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var R=E=null,$=null,me=t,Ce=!1;do{var Me=me.lane&-536870913;if(Me!==me.lane?(gt&Me)===Me:(Ai&Me)===Me){var ve=me.revertLane;if(ve===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Me===Ll&&(Ce=!0);else if((Ai&ve)===ve){me=me.next,ve===Ll&&(Ce=!0);continue}else Me={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},$===null?(R=$=Me,E=d):$=$.next=Me,dt.lanes|=ve,vr|=ve;Me=me.action,Wr&&a(d,Me),d=me.hasEagerState?me.eagerState:a(d,Me)}else ve={lane:Me,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},$===null?(R=$=ve,E=d):$=$.next=ve,dt.lanes|=Me,vr|=Me;me=me.next}while(me!==null&&me!==t);if($===null?E=d:$.next=R,!jn(d,e.memoizedState)&&(un=!0,Ce&&(a=Ul,a!==null)))throw a;e.memoizedState=d,e.baseState=E,e.baseQueue=$,r.lastRenderedState=d}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Lf(e){var t=an(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var r=a.dispatch,c=a.pending,d=t.memoizedState;if(c!==null){a.pending=null;var E=c=c.next;do d=e(d,E.action),E=E.next;while(E!==c);jn(d,t.memoizedState)||(un=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,r]}function Rp(e,t,a){var r=dt,c=an(),d=xt;if(d){if(a===void 0)throw Error(o(407));a=a()}else a=t();var E=!jn((Rt||c).memoizedState,a);if(E&&(c.memoizedState=a,un=!0),c=c.queue,Vf(Lp.bind(null,r,c,e),[e]),c.getSnapshot!==t||E||sn!==null&&sn.memoizedState.tag&1){if(r.flags|=2048,Xl(9,{destroy:void 0},Hp.bind(null,r,c,a,t),null),Lt===null)throw Error(o(349));d||(Ai&127)!==0||Bp(r,t,a)}return a}function Bp(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=dt.updateQueue,t===null?(t=_u(),dt.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Hp(e,t,a,r){t.value=a,t.getSnapshot=r,Up(t)&&qp(e)}function Lp(e,t,a){return a(function(){Up(t)&&qp(e)})}function Up(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!jn(e,a)}catch{return!0}}function qp(e){var t=jt(e,2);t!==null&&$n(t,e,2)}function Uf(e){var t=On();if(typeof e=="function"){var a=e;if(e=a(),Wr){hn(!0);try{a()}finally{hn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},t}function Vp(e,t,a,r){return e.baseState=a,Hf(e,Rt,typeof r=="function"?r:ji)}function ox(e,t,a,r,c){if(ju(e))throw Error(o(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};U.T!==null?a(!0):d.isTransition=!1,r(d),a=t.pending,a===null?(d.next=t.pending=d,Yp(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Yp(e,t){var a=t.action,r=t.payload,c=e.state;if(t.isTransition){var d=U.T,E={};U.T=E;try{var R=a(c,r),$=U.S;$!==null&&$(E,R),Kp(e,t,R)}catch(me){qf(e,t,me)}finally{d!==null&&E.types!==null&&(d.types=E.types),U.T=d}}else try{d=a(c,r),Kp(e,t,d)}catch(me){qf(e,t,me)}}function Kp(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){$p(e,t,r)},function(r){return qf(e,t,r)}):$p(e,t,a)}function $p(e,t,a){t.status="fulfilled",t.value=a,Xp(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Yp(e,a)))}function qf(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,Xp(t),t=t.next;while(t!==r)}e.action=null}function Xp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ip(e,t){return t}function Gp(e,t){if(xt){var a=Lt.formState;if(a!==null){e:{var r=dt;if(xt){if(Kt){t:{for(var c=Kt,d=ya;c.nodeType!==8;){if(!d){c=null;break t}if(c=va(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Kt=va(c.nextSibling),r=c.data==="F!";break e}}ur(r)}r=!1}r&&(t=a[0])}}return a=On(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:t},a.queue=r,a=dm.bind(null,dt,r),r.dispatch=a,r=Uf(!1),d=If.bind(null,dt,!1,r.queue),r=On(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,a=ox.bind(null,dt,c,d,a),c.dispatch=a,r.memoizedState=e,[t,a,!1]}function Zp(e){var t=an();return Qp(t,Rt,e)}function Qp(e,t,a){if(t=Hf(e,t,Ip)[0],e=Nu(ji)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Fo(t)}catch(E){throw E===ql?mu:E}else r=t;t=an();var c=t.queue,d=c.dispatch;return a!==t.memoizedState&&(dt.flags|=2048,Xl(9,{destroy:void 0},sx.bind(null,c,a),null)),[r,d,e]}function sx(e,t){e.action=t}function Pp(e){var t=an(),a=Rt;if(a!==null)return Qp(t,a,e);an(),t=t.memoizedState,a=an();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function Xl(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=dt.updateQueue,t===null&&(t=_u(),dt.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function Fp(){return an().memoizedState}function Cu(e,t,a,r){var c=On();dt.flags|=e,c.memoizedState=Xl(1|t,{destroy:void 0},a,r===void 0?null:r)}function Au(e,t,a,r){var c=an();r=r===void 0?null:r;var d=c.memoizedState.inst;Rt!==null&&r!==null&&Df(r,Rt.memoizedState.deps)?c.memoizedState=Xl(t,d,a,r):(dt.flags|=e,c.memoizedState=Xl(1|t,d,a,r))}function Jp(e,t){Cu(8390656,8,e,t)}function Vf(e,t){Au(2048,8,e,t)}function ux(e){dt.flags|=4;var t=dt.updateQueue;if(t===null)t=_u(),dt.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Wp(e){var t=an().memoizedState;return ux({ref:t,nextImpl:e}),function(){if((Ct&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function em(e,t){return Au(4,2,e,t)}function tm(e,t){return Au(4,4,e,t)}function nm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function am(e,t,a){a=a!=null?a.concat([e]):null,Au(4,4,nm.bind(null,t,e),a)}function Yf(){}function im(e,t){var a=an();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&Df(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function rm(e,t){var a=an();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&Df(t,r[1]))return r[0];if(r=e(),Wr){hn(!0);try{e()}finally{hn(!1)}}return a.memoizedState=[r,t],r}function Kf(e,t,a){return a===void 0||(Ai&1073741824)!==0&&(gt&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=ly(),dt.lanes|=e,vr|=e,a)}function lm(e,t,a,r){return jn(a,t)?a:Yl.current!==null?(e=Kf(e,a,r),jn(e,t)||(un=!0),e):(Ai&42)===0||(Ai&1073741824)!==0&&(gt&261930)===0?(un=!0,e.memoizedState=a):(e=ly(),dt.lanes|=e,vr|=e,t)}function om(e,t,a,r,c){var d=X.p;X.p=d!==0&&8>d?d:8;var E=U.T,R={};U.T=R,If(e,!1,t,a);try{var $=c(),me=U.S;if(me!==null&&me(R,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var Ce=ix($,r);Jo(e,t,Ce,ea(e))}else Jo(e,t,r,ea(e))}catch(Me){Jo(e,t,{then:function(){},status:"rejected",reason:Me},ea())}finally{X.p=d,E!==null&&R.types!==null&&(E.types=R.types),U.T=E}}function cx(){}function $f(e,t,a,r){if(e.tag!==5)throw Error(o(476));var c=sm(e).queue;om(e,c,t,Z,a===null?cx:function(){return um(e),a(r)})}function sm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:Z},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function um(e){var t=sm(e);t.next===null&&(t=e.alternate.memoizedState),Jo(e,t.next.queue,{},ea())}function Xf(){return Sn(ms)}function cm(){return an().memoizedState}function fm(){return an().memoizedState}function fx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ea();e=dr(a);var r=hr(t,e,a);r!==null&&($n(r,t,a),Go(r,t,a)),t={cache:xf()},e.payload=t;return}t=t.return}}function dx(e,t,a){var r=ea();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ju(e)?hm(t,a):(a=Mn(e,t,a,r),a!==null&&($n(a,e,r),pm(a,t,r)))}function dm(e,t,a){var r=ea();Jo(e,t,a,r)}function Jo(e,t,a,r){var c={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ju(e))hm(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var E=t.lastRenderedState,R=d(E,a);if(c.hasEagerState=!0,c.eagerState=R,jn(R,E))return kt(e,t,c,0),Lt===null&&st(),!1}catch{}if(a=Mn(e,t,c,r),a!==null)return $n(a,e,r),pm(a,t,r),!0}return!1}function If(e,t,a,r){if(r={lane:2,revertLane:Ed(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(t)throw Error(o(479))}else t=Mn(e,a,r,2),t!==null&&$n(t,e,2)}function ju(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function hm(e,t){Kl=wu=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function pm(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Mt(e,a)}}var Wo={readContext:Sn,use:Eu,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};Wo.useEffectEvent=en;var mm={readContext:Sn,use:Eu,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:Sn,useEffect:Jp,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Cu(4194308,4,nm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Cu(4194308,4,e,t)},useInsertionEffect:function(e,t){Cu(4,2,e,t)},useMemo:function(e,t){var a=On();t=t===void 0?null:t;var r=e();if(Wr){hn(!0);try{e()}finally{hn(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=On();if(a!==void 0){var c=a(t);if(Wr){hn(!0);try{a(t)}finally{hn(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=dx.bind(null,dt,e),[r.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:function(e){e=Uf(e);var t=e.queue,a=dm.bind(null,dt,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Yf,useDeferredValue:function(e,t){var a=On();return Kf(a,e,t)},useTransition:function(){var e=Uf(!1);return e=om.bind(null,dt,e.queue,!0,!1),On().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=dt,c=On();if(xt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),Lt===null)throw Error(o(349));(gt&127)!==0||Bp(r,t,a)}c.memoizedState=a;var d={value:a,getSnapshot:t};return c.queue=d,Jp(Lp.bind(null,r,d,e),[e]),r.flags|=2048,Xl(9,{destroy:void 0},Hp.bind(null,r,d,a,t),null),a},useId:function(){var e=On(),t=Lt.identifierPrefix;if(xt){var a=Ia,r=Xa;a=(r&~(1<<32-Ze(r)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Su++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=rx++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Xf,useFormState:Gp,useActionState:Gp,useOptimistic:function(e){var t=On();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=If.bind(null,dt,!0,a),a.dispatch=t,[e,t]},useMemoCache:Bf,useCacheRefresh:function(){return On().memoizedState=fx.bind(null,dt)},useEffectEvent:function(e){var t=On(),a={impl:e};return t.memoizedState=a,function(){if((Ct&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Gf={readContext:Sn,use:Eu,useCallback:im,useContext:Sn,useEffect:Vf,useImperativeHandle:am,useInsertionEffect:em,useLayoutEffect:tm,useMemo:rm,useReducer:Nu,useRef:Fp,useState:function(){return Nu(ji)},useDebugValue:Yf,useDeferredValue:function(e,t){var a=an();return lm(a,Rt.memoizedState,e,t)},useTransition:function(){var e=Nu(ji)[0],t=an().memoizedState;return[typeof e=="boolean"?e:Fo(e),t]},useSyncExternalStore:Rp,useId:cm,useHostTransitionStatus:Xf,useFormState:Zp,useActionState:Zp,useOptimistic:function(e,t){var a=an();return Vp(a,Rt,e,t)},useMemoCache:Bf,useCacheRefresh:fm};Gf.useEffectEvent=Wp;var ym={readContext:Sn,use:Eu,useCallback:im,useContext:Sn,useEffect:Vf,useImperativeHandle:am,useInsertionEffect:em,useLayoutEffect:tm,useMemo:rm,useReducer:Lf,useRef:Fp,useState:function(){return Lf(ji)},useDebugValue:Yf,useDeferredValue:function(e,t){var a=an();return Rt===null?Kf(a,e,t):lm(a,Rt.memoizedState,e,t)},useTransition:function(){var e=Lf(ji)[0],t=an().memoizedState;return[typeof e=="boolean"?e:Fo(e),t]},useSyncExternalStore:Rp,useId:cm,useHostTransitionStatus:Xf,useFormState:Pp,useActionState:Pp,useOptimistic:function(e,t){var a=an();return Rt!==null?Vp(a,Rt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:fm};ym.useEffectEvent=Wp;function Zf(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Qf={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=ea(),c=dr(r);c.payload=t,a!=null&&(c.callback=a),t=hr(e,c,r),t!==null&&($n(t,e,r),Go(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=ea(),c=dr(r);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=hr(e,c,r),t!==null&&($n(t,e,r),Go(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ea(),r=dr(a);r.tag=2,t!=null&&(r.callback=t),t=hr(e,r,a),t!==null&&($n(t,e,a),Go(t,e,a))}};function gm(e,t,a,r,c,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,d,E):t.prototype&&t.prototype.isPureReactComponent?!s(a,r)||!s(c,d):!0}function vm(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&Qf.enqueueReplaceState(t,t.state,null)}function el(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function bm(e){Pe(e)}function xm(e){console.error(e)}function wm(e){Pe(e)}function Mu(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Sm(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Pf(e,t,a){return a=dr(a),a.tag=3,a.payload={element:null},a.callback=function(){Mu(e,t)},a}function _m(e){return e=dr(e),e.tag=3,e}function Em(e,t,a,r){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;e.payload=function(){return c(d)},e.callback=function(){Sm(t,a,r)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Sm(t,a,r),typeof c!="function"&&(br===null?br=new Set([this]):br.add(this));var R=r.stack;this.componentDidCatch(r.value,{componentStack:R!==null?R:""})})}function hx(e,t,a,r,c){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&Hl(t,a,c,!0),a=Pn.current,a!==null){switch(a.tag){case 31:case 13:return ga===null?Vu():a.alternate===null&&tn===0&&(tn=3),a.flags&=-257,a.flags|=65536,a.lanes=c,r===yu?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),wd(e,r,c)),!1;case 22:return a.flags|=65536,r===yu?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),wd(e,r,c)),!1}throw Error(o(435,a.tag))}return wd(e,r,c),Vu(),!1}if(xt)return t=Pn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==mf&&(e=Error(o(422),{cause:r}),Yo(ha(e,a)))):(r!==mf&&(t=Error(o(423),{cause:r}),Yo(ha(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=ha(r,a),c=Pf(e.stateNode,r,c),Cf(e,c),tn!==4&&(tn=2)),!1;var d=Error(o(520),{cause:r});if(d=ha(d,a),os===null?os=[d]:os.push(d),tn!==4&&(tn=2),t===null)return!0;r=ha(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Pf(a.stateNode,r,e),Cf(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(br===null||!br.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=_m(c),Em(c,e,a,r),Cf(a,c),!1}a=a.return}while(a!==null);return!1}var Ff=Error(o(461)),un=!1;function _n(e,t,a,r){t.child=e===null?jp(t,null,a,r):Jr(t,e.child,a,r)}function Nm(e,t,a,r,c){a=a.render;var d=t.ref;if("ref"in r){var E={};for(var R in r)R!=="ref"&&(E[R]=r[R])}else E=r;return Zr(t),r=zf(e,t,a,E,d,c),R=Of(),e!==null&&!un?(kf(e,t,c),Mi(e,t,c)):(xt&&R&&hf(t),t.flags|=1,_n(e,t,r,c),t.child)}function Cm(e,t,a,r,c){if(e===null){var d=a.type;return typeof d=="function"&&!cf(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Am(e,t,d,r,c)):(e=cu(a.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!rd(e,c)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:s,a(E,r)&&e.ref===t.ref)return Mi(e,t,c)}return t.flags|=1,e=_i(d,r),e.ref=t.ref,e.return=t,t.child=e}function Am(e,t,a,r,c){if(e!==null){var d=e.memoizedProps;if(s(d,r)&&e.ref===t.ref)if(un=!1,t.pendingProps=r=d,rd(e,c))(e.flags&131072)!==0&&(un=!0);else return t.lanes=e.lanes,Mi(e,t,c)}return Jf(e,t,a,r,c)}function jm(e,t,a,r){var c=r.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~d}else r=0,t.child=null;return Mm(e,t,d,a,r)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pu(t,d!==null?d.cachePool:null),d!==null?Dp(t,d):jf(),zp(t);else return r=t.lanes=536870912,Mm(e,t,d!==null?d.baseLanes|a:a,a,r)}else d!==null?(pu(t,d.cachePool),Dp(t,d),mr(),t.memoizedState=null):(e!==null&&pu(t,null),jf(),mr());return _n(e,t,c,a),t.child}function es(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Mm(e,t,a,r,c){var d=Sf();return d=d===null?null:{parent:on._currentValue,pool:d},t.memoizedState={baseLanes:a,cachePool:d},e!==null&&pu(t,null),jf(),zp(t),e!==null&&Hl(e,t,r,!0),t.childLanes=c,null}function Tu(e,t){return t=zu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Tm(e,t,a){return Jr(t,e.child,null,a),e=Tu(t,t.pendingProps),e.flags|=2,Fn(t),t.memoizedState=null,e}function px(e,t,a){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(xt){if(r.mode==="hidden")return e=Tu(t,r),t.lanes=536870912,es(null,e);if(Tf(t),(e=Kt)?(e=Yy(e,ya),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:or!==null?{id:Xa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},a=hp(e),a.return=t,t.child=a,wn=t,Kt=null)):e=null,e===null)throw ur(t);return t.lanes=536870912,null}return Tu(t,r)}var d=e.memoizedState;if(d!==null){var E=d.dehydrated;if(Tf(t),c)if(t.flags&256)t.flags&=-257,t=Tm(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(un||Hl(e,t,a,!1),c=(a&e.childLanes)!==0,un||c){if(r=Lt,r!==null&&(E=Zt(r,a),E!==0&&E!==d.retryLane))throw d.retryLane=E,jt(e,E),$n(r,e,E),Ff;Vu(),t=Tm(e,t,a)}else e=d.treeContext,Kt=va(E.nextSibling),wn=t,xt=!0,sr=null,ya=!1,e!==null&&yp(t,e),t=Tu(t,r),t.flags|=4096;return t}return e=_i(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Du(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Jf(e,t,a,r,c){return Zr(t),a=zf(e,t,a,r,void 0,c),r=Of(),e!==null&&!un?(kf(e,t,c),Mi(e,t,c)):(xt&&r&&hf(t),t.flags|=1,_n(e,t,a,c),t.child)}function Dm(e,t,a,r,c,d){return Zr(t),t.updateQueue=null,a=kp(t,r,a,c),Op(e),r=Of(),e!==null&&!un?(kf(e,t,d),Mi(e,t,d)):(xt&&r&&hf(t),t.flags|=1,_n(e,t,a,d),t.child)}function zm(e,t,a,r,c){if(Zr(t),t.stateNode===null){var d=Ol,E=a.contextType;typeof E=="object"&&E!==null&&(d=Sn(E)),d=new a(r,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=r,d.state=t.memoizedState,d.refs={},Ef(t),E=a.contextType,d.context=typeof E=="object"&&E!==null?Sn(E):Ol,d.state=t.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Zf(t,a,E,r),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Qf.enqueueReplaceState(d,d.state,null),Qo(t,r,d,c),Zo(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){d=t.stateNode;var R=t.memoizedProps,$=el(a,R);d.props=$;var me=d.context,Ce=a.contextType;E=Ol,typeof Ce=="object"&&Ce!==null&&(E=Sn(Ce));var Me=a.getDerivedStateFromProps;Ce=typeof Me=="function"||typeof d.getSnapshotBeforeUpdate=="function",R=t.pendingProps!==R,Ce||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(R||me!==E)&&vm(t,d,r,E),fr=!1;var ve=t.memoizedState;d.state=ve,Qo(t,r,d,c),Zo(),me=t.memoizedState,R||ve!==me||fr?(typeof Me=="function"&&(Zf(t,a,Me,r),me=t.memoizedState),($=fr||gm(t,a,$,r,ve,me,E))?(Ce||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=me),d.props=r,d.state=me,d.context=E,r=$):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,Nf(e,t),E=t.memoizedProps,Ce=el(a,E),d.props=Ce,Me=t.pendingProps,ve=d.context,me=a.contextType,$=Ol,typeof me=="object"&&me!==null&&($=Sn(me)),R=a.getDerivedStateFromProps,(me=typeof R=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==Me||ve!==$)&&vm(t,d,r,$),fr=!1,ve=t.memoizedState,d.state=ve,Qo(t,r,d,c),Zo();var we=t.memoizedState;E!==Me||ve!==we||fr||e!==null&&e.dependencies!==null&&du(e.dependencies)?(typeof R=="function"&&(Zf(t,a,R,r),we=t.memoizedState),(Ce=fr||gm(t,a,Ce,r,ve,we,$)||e!==null&&e.dependencies!==null&&du(e.dependencies))?(me||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,we,$),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,we,$)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&ve===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ve===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=we),d.props=r,d.state=we,d.context=$,r=Ce):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&ve===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ve===e.memoizedState||(t.flags|=1024),r=!1)}return d=r,Du(e,t),r=(t.flags&128)!==0,d||r?(d=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&r?(t.child=Jr(t,e.child,null,c),t.child=Jr(t,null,a,c)):_n(e,t,a,c),t.memoizedState=d.state,e=t.child):e=Mi(e,t,c),e}function Om(e,t,a,r){return Ir(),t.flags|=256,_n(e,t,a,r),t.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(e){return{baseLanes:e,cachePool:Sp()}}function td(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Wn),e}function km(e,t,a){var r=t.pendingProps,c=!1,d=(t.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(nn.current&2)!==0),E&&(c=!0,t.flags&=-129),E=(t.flags&32)!==0,t.flags&=-33,e===null){if(xt){if(c?pr(t):mr(),(e=Kt)?(e=Yy(e,ya),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:or!==null?{id:Xa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},a=hp(e),a.return=t,t.child=a,wn=t,Kt=null)):e=null,e===null)throw ur(t);return Hd(e)?t.lanes=32:t.lanes=536870912,null}var R=r.children;return r=r.fallback,c?(mr(),c=t.mode,R=zu({mode:"hidden",children:R},c),r=Xr(r,c,a,null),R.return=t,r.return=t,R.sibling=r,t.child=R,r=t.child,r.memoizedState=ed(a),r.childLanes=td(e,E,a),t.memoizedState=Wf,es(null,r)):(pr(t),nd(t,R))}var $=e.memoizedState;if($!==null&&(R=$.dehydrated,R!==null)){if(d)t.flags&256?(pr(t),t.flags&=-257,t=ad(e,t,a)):t.memoizedState!==null?(mr(),t.child=e.child,t.flags|=128,t=null):(mr(),R=r.fallback,c=t.mode,r=zu({mode:"visible",children:r.children},c),R=Xr(R,c,a,null),R.flags|=2,r.return=t,R.return=t,r.sibling=R,t.child=r,Jr(t,e.child,null,a),r=t.child,r.memoizedState=ed(a),r.childLanes=td(e,E,a),t.memoizedState=Wf,t=es(null,r));else if(pr(t),Hd(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var me=E.dgst;E=me,r=Error(o(419)),r.stack="",r.digest=E,Yo({value:r,source:null,stack:null}),t=ad(e,t,a)}else if(un||Hl(e,t,a,!1),E=(a&e.childLanes)!==0,un||E){if(E=Lt,E!==null&&(r=Zt(E,a),r!==0&&r!==$.retryLane))throw $.retryLane=r,jt(e,r),$n(E,e,r),Ff;Bd(R)||Vu(),t=ad(e,t,a)}else Bd(R)?(t.flags|=192,t.child=e.child,t=null):(e=$.treeContext,Kt=va(R.nextSibling),wn=t,xt=!0,sr=null,ya=!1,e!==null&&yp(t,e),t=nd(t,r.children),t.flags|=4096);return t}return c?(mr(),R=r.fallback,c=t.mode,$=e.child,me=$.sibling,r=_i($,{mode:"hidden",children:r.children}),r.subtreeFlags=$.subtreeFlags&65011712,me!==null?R=_i(me,R):(R=Xr(R,c,a,null),R.flags|=2),R.return=t,r.return=t,r.sibling=R,t.child=r,es(null,r),r=t.child,R=e.child.memoizedState,R===null?R=ed(a):(c=R.cachePool,c!==null?($=on._currentValue,c=c.parent!==$?{parent:$,pool:$}:c):c=Sp(),R={baseLanes:R.baseLanes|a,cachePool:c}),r.memoizedState=R,r.childLanes=td(e,E,a),t.memoizedState=Wf,es(e.child,r)):(pr(t),a=e.child,e=a.sibling,a=_i(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(E=t.deletions,E===null?(t.deletions=[e],t.flags|=16):E.push(e)),t.child=a,t.memoizedState=null,a)}function nd(e,t){return t=zu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zu(e,t){return e=Qn(22,e,null,t),e.lanes=0,e}function ad(e,t,a){return Jr(t,e.child,null,a),e=nd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rm(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vf(e.return,t,a)}function id(e,t,a,r,c,d){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:c,treeForkCount:d}:(E.isBackwards=t,E.rendering=null,E.renderingStartTime=0,E.last=r,E.tail=a,E.tailMode=c,E.treeForkCount=d)}function Bm(e,t,a){var r=t.pendingProps,c=r.revealOrder,d=r.tail;r=r.children;var E=nn.current,R=(E&2)!==0;if(R?(E=E&1|2,t.flags|=128):E&=1,_e(nn,E),_n(e,t,r,a),r=xt?Vo:0,!R&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rm(e,a,t);else if(e.tag===19)Rm(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&xu(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),id(t,!1,c,a,d,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&xu(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}id(t,!0,a,null,d,r);break;case"together":id(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Mi(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),vr|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Hl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=_i(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=_i(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function rd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&du(e)))}function mx(e,t,a){switch(t.tag){case 3:De(t,t.stateNode.containerInfo),cr(t,on,e.memoizedState.cache),Ir();break;case 27:case 5:ze(t);break;case 4:De(t,t.stateNode.containerInfo);break;case 10:cr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Tf(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(pr(t),t.flags|=128,null):(a&t.child.childLanes)!==0?km(e,t,a):(pr(t),e=Mi(e,t,a),e!==null?e.sibling:null);pr(t);break;case 19:var c=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(Hl(e,t,a,!1),r=(a&t.childLanes)!==0),c){if(r)return Bm(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),_e(nn,nn.current),r)break;return null;case 22:return t.lanes=0,jm(e,t,a,t.pendingProps);case 24:cr(t,on,e.memoizedState.cache)}return Mi(e,t,a)}function Hm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)un=!0;else{if(!rd(e,a)&&(t.flags&128)===0)return un=!1,mx(e,t,a);un=(e.flags&131072)!==0}else un=!1,xt&&(t.flags&1048576)!==0&&mp(t,Vo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=Pr(t.elementType),t.type=e,typeof e=="function")cf(e)?(r=el(e,r),t.tag=1,t=zm(null,t,e,r,a)):(t.tag=0,t=Jf(null,t,e,r,a));else{if(e!=null){var c=e.$$typeof;if(c===B){t.tag=11,t=Nm(null,t,e,r,a);break e}else if(c===Y){t.tag=14,t=Cm(null,t,e,r,a);break e}}throw t=K(e)||e,Error(o(306,t,""))}}return t;case 0:return Jf(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,c=el(r,t.pendingProps),zm(e,t,r,c,a);case 3:e:{if(De(t,t.stateNode.containerInfo),e===null)throw Error(o(387));r=t.pendingProps;var d=t.memoizedState;c=d.element,Nf(e,t),Qo(t,r,null,a);var E=t.memoizedState;if(r=E.cache,cr(t,on,r),r!==d.cache&&bf(t,[on],a,!0),Zo(),r=E.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:E.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Om(e,t,r,a);break e}else if(r!==c){c=ha(Error(o(424)),t),Yo(c),t=Om(e,t,r,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Kt=va(e.firstChild),wn=t,xt=!0,sr=null,ya=!0,a=jp(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ir(),r===c){t=Mi(e,t,a);break e}_n(e,t,r,a)}t=t.child}return t;case 26:return Du(e,t),e===null?(a=Zy(t.type,null,t.pendingProps,null))?t.memoizedState=a:xt||(a=t.type,e=t.pendingProps,r=Zu(Le.current).createElement(a),r[Ot]=t,r[Qt]=e,En(r,a,e),Pt(r),t.stateNode=r):t.memoizedState=Zy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ze(t),e===null&&xt&&(r=t.stateNode=Xy(t.type,t.pendingProps,Le.current),wn=t,ya=!0,c=Kt,_r(t.type)?(Ld=c,Kt=va(r.firstChild)):Kt=c),_n(e,t,t.pendingProps.children,a),Du(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xt&&((c=r=Kt)&&(r=Xx(r,t.type,t.pendingProps,ya),r!==null?(t.stateNode=r,wn=t,Kt=va(r.firstChild),ya=!1,c=!0):c=!1),c||ur(t)),ze(t),c=t.type,d=t.pendingProps,E=e!==null?e.memoizedProps:null,r=d.children,Od(c,d)?r=null:E!==null&&Od(c,E)&&(t.flags|=32),t.memoizedState!==null&&(c=zf(e,t,lx,null,null,a),ms._currentValue=c),Du(e,t),_n(e,t,r,a),t.child;case 6:return e===null&&xt&&((e=a=Kt)&&(a=Ix(a,t.pendingProps,ya),a!==null?(t.stateNode=a,wn=t,Kt=null,e=!0):e=!1),e||ur(t)),null;case 13:return km(e,t,a);case 4:return De(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jr(t,null,r,a):_n(e,t,r,a),t.child;case 11:return Nm(e,t,t.type,t.pendingProps,a);case 7:return _n(e,t,t.pendingProps,a),t.child;case 8:return _n(e,t,t.pendingProps.children,a),t.child;case 12:return _n(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,cr(t,t.type,r.value),_n(e,t,r.children,a),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,Zr(t),c=Sn(c),r=r(c),t.flags|=1,_n(e,t,r,a),t.child;case 14:return Cm(e,t,t.type,t.pendingProps,a);case 15:return Am(e,t,t.type,t.pendingProps,a);case 19:return Bm(e,t,a);case 31:return px(e,t,a);case 22:return jm(e,t,a,t.pendingProps);case 24:return Zr(t),r=Sn(on),e===null?(c=Sf(),c===null&&(c=Lt,d=xf(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),t.memoizedState={parent:r,cache:c},Ef(t),cr(t,on,c)):((e.lanes&a)!==0&&(Nf(e,t),Qo(t,null,null,a),Zo()),c=e.memoizedState,d=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),cr(t,on,r)):(r=d.cache,cr(t,on,r),r!==c.cache&&bf(t,[on],a,!0))),_n(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Ti(e){e.flags|=4}function ld(e,t,a,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(cy())e.flags|=8192;else throw Fr=yu,_f}else e.flags&=-16777217}function Lm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wy(t))if(cy())e.flags|=8192;else throw Fr=yu,_f}function Ou(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?dl():536870912,e.lanes|=t,Ql|=t)}function ts(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function yx(e,t,a){var r=t.pendingProps;switch(pf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return $t(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ci(on),qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Bl(t)?Ti(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yf())),$t(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(Ti(t),d!==null?($t(t),Lm(t,d)):($t(t),ld(t,c,null,r,a))):d?d!==e.memoizedState?(Ti(t),$t(t),Lm(t,d)):($t(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Ti(t),$t(t),ld(t,c,e,r,a)),null;case 27:if(lt(t),a=Le.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ti(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return $t(t),null}e=Se.current,Bl(t)?gp(t):(e=Xy(c,r,a),t.stateNode=e,Ti(t))}return $t(t),null;case 5:if(lt(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ti(t);else{if(!r){if(t.stateNode===null)throw Error(o(166));return $t(t),null}if(d=Se.current,Bl(t))gp(t);else{var E=Zu(Le.current);switch(d){case 1:d=E.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=E.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=E.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=E.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=E.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?E.createElement("select",{is:r.is}):E.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?E.createElement(c,{is:r.is}):E.createElement(c)}}d[Ot]=t,d[Qt]=r;e:for(E=t.child;E!==null;){if(E.tag===5||E.tag===6)d.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===t)break e;for(;E.sibling===null;){if(E.return===null||E.return===t)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}t.stateNode=d;e:switch(En(d,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ti(t)}}return $t(t),ld(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ti(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(e=Le.current,Bl(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,c=wn,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[Ot]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||ky(e.nodeValue,a)),e||ur(t,!0)}else e=Zu(e).createTextNode(r),e[Ot]=t,t.stateNode=e}return $t(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(r=Bl(t),a!==null){if(e===null){if(!r)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Ot]=t}else Ir(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$t(t),e=!1}else a=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Fn(t),t):(Fn(t),null);if((t.flags&128)!==0)throw Error(o(558))}return $t(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Bl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Ot]=t}else Ir(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$t(t),c=!1}else c=yf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Fn(t),t):(Fn(t),null)}return Fn(t),(t.flags&128)!==0?(t.lanes=a,t):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==c&&(r.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ou(t,t.updateQueue),$t(t),null);case 4:return qe(),e===null&&jd(t.stateNode.containerInfo),$t(t),null;case 10:return Ci(t.type),$t(t),null;case 19:if(I(nn),r=t.memoizedState,r===null)return $t(t),null;if(c=(t.flags&128)!==0,d=r.rendering,d===null)if(c)ts(r,!1);else{if(tn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=xu(e),d!==null){for(t.flags|=128,ts(r,!1),e=d.updateQueue,t.updateQueue=e,Ou(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)dp(a,e),a=a.sibling;return _e(nn,nn.current&1|2),xt&&Ei(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Wt()>Lu&&(t.flags|=128,c=!0,ts(r,!1),t.lanes=4194304)}else{if(!c)if(e=xu(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Ou(t,e),ts(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!xt)return $t(t),null}else 2*Wt()-r.renderingStartTime>Lu&&a!==536870912&&(t.flags|=128,c=!0,ts(r,!1),t.lanes=4194304);r.isBackwards?(d.sibling=t.child,t.child=d):(e=r.last,e!==null?e.sibling=d:t.child=d,r.last=d)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Wt(),e.sibling=null,a=nn.current,_e(nn,c?a&1|2:a&1),xt&&Ei(t,r.treeForkCount),e):($t(t),null);case 22:case 23:return Fn(t),Mf(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),a=t.updateQueue,a!==null&&Ou(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&I(Qr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ci(on),$t(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function gx(e,t){switch(pf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ci(on),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return lt(t),null;case 31:if(t.memoizedState!==null){if(Fn(t),t.alternate===null)throw Error(o(340));Ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(nn),null;case 4:return qe(),null;case 10:return Ci(t.type),null;case 22:case 23:return Fn(t),Mf(),e!==null&&I(Qr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ci(on),null;case 25:return null;default:return null}}function Um(e,t){switch(pf(t),t.tag){case 3:Ci(on),qe();break;case 26:case 27:case 5:lt(t);break;case 4:qe();break;case 31:t.memoizedState!==null&&Fn(t);break;case 13:Fn(t);break;case 19:I(nn);break;case 10:Ci(t.type);break;case 22:case 23:Fn(t),Mf(),e!==null&&I(Qr);break;case 24:Ci(on)}}function ns(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&e)===e){r=void 0;var d=a.create,E=a.inst;r=d(),E.destroy=r}a=a.next}while(a!==c)}}catch(R){Dt(t,t.return,R)}}function yr(e,t,a){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&e)===e){var E=r.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,c=t;var $=a,me=R;try{me()}catch(Ce){Dt(c,$,Ce)}}}r=r.next}while(r!==d)}}catch(Ce){Dt(t,t.return,Ce)}}function qm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Tp(t,a)}catch(r){Dt(e,e.return,r)}}}function Vm(e,t,a){a.props=el(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){Dt(e,t,r)}}function as(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(c){Dt(e,t,c)}}function Ga(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(c){Dt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Dt(e,t,c)}else a.current=null}function Ym(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(c){Dt(e,e.return,c)}}function od(e,t,a){try{var r=e.stateNode;Ux(r,e.type,a,t),r[Qt]=t}catch(c){Dt(e,e.return,c)}}function Km(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_r(e.type)||e.tag===4}function sd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Km(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_r(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ud(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Un));else if(r!==4&&(r===27&&_r(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(ud(e,t,a),e=e.sibling;e!==null;)ud(e,t,a),e=e.sibling}function ku(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&_r(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ku(e,t,a),e=e.sibling;e!==null;)ku(e,t,a),e=e.sibling}function $m(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);En(t,r,a),t[Ot]=e,t[Qt]=a}catch(d){Dt(e,e.return,d)}}var Di=!1,cn=!1,cd=!1,Xm=typeof WeakSet=="function"?WeakSet:Set,xn=null;function vx(e,t){if(e=e.containerInfo,Dd=tc,e=N(e),M(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var c=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,R=-1,$=-1,me=0,Ce=0,Me=e,ve=null;t:for(;;){for(var we;Me!==a||c!==0&&Me.nodeType!==3||(R=E+c),Me!==d||r!==0&&Me.nodeType!==3||($=E+r),Me.nodeType===3&&(E+=Me.nodeValue.length),(we=Me.firstChild)!==null;)ve=Me,Me=we;for(;;){if(Me===e)break t;if(ve===a&&++me===c&&(R=E),ve===d&&++Ce===r&&($=E),(we=Me.nextSibling)!==null)break;Me=ve,ve=Me.parentNode}Me=we}a=R===-1||$===-1?null:{start:R,end:$}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:e,selectionRange:a},tc=!1,xn=t;xn!==null;)if(t=xn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xn=e;else for(;xn!==null;){switch(t=xn,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,c=d.memoizedProps,d=d.memoizedState,r=a.stateNode;try{var We=el(a.type,c);e=r.getSnapshotBeforeUpdate(We,d),r.__reactInternalSnapshotBeforeUpdate=e}catch(rt){Dt(a,a.return,rt)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Rd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,xn=e;break}xn=t.return}}function Im(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Oi(e,a),r&4&&ns(5,a);break;case 1:if(Oi(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(E){Dt(a,a.return,E)}else{var c=el(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Dt(a,a.return,E)}}r&64&&qm(a),r&512&&as(a,a.return);break;case 3:if(Oi(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Tp(e,t)}catch(E){Dt(a,a.return,E)}}break;case 27:t===null&&r&4&&$m(a);case 26:case 5:Oi(e,a),t===null&&r&4&&Ym(a),r&512&&as(a,a.return);break;case 12:Oi(e,a);break;case 31:Oi(e,a),r&4&&Qm(e,a);break;case 13:Oi(e,a),r&4&&Pm(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ax.bind(null,a),Gx(e,a))));break;case 22:if(r=a.memoizedState!==null||Di,!r){t=t!==null&&t.memoizedState!==null||cn,c=Di;var d=cn;Di=r,(cn=t)&&!d?ki(e,a,(a.subtreeFlags&8772)!==0):Oi(e,a),Di=c,cn=d}break;case 30:break;default:Oi(e,a)}}function Gm(e){var t=e.alternate;t!==null&&(e.alternate=null,Gm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xt=null,qn=!1;function zi(e,t,a){for(a=a.child;a!==null;)Zm(e,t,a),a=a.sibling}function Zm(e,t,a){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(ia,a)}catch{}switch(a.tag){case 26:cn||Ga(a,t),zi(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:cn||Ga(a,t);var r=Xt,c=qn;_r(a.type)&&(Xt=a.stateNode,qn=!1),zi(e,t,a),ds(a.stateNode),Xt=r,qn=c;break;case 5:cn||Ga(a,t);case 6:if(r=Xt,c=qn,Xt=null,zi(e,t,a),Xt=r,qn=c,Xt!==null)if(qn)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(a.stateNode)}catch(d){Dt(a,t,d)}else try{Xt.removeChild(a.stateNode)}catch(d){Dt(a,t,d)}break;case 18:Xt!==null&&(qn?(e=Xt,qy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ao(e)):qy(Xt,a.stateNode));break;case 4:r=Xt,c=qn,Xt=a.stateNode.containerInfo,qn=!0,zi(e,t,a),Xt=r,qn=c;break;case 0:case 11:case 14:case 15:yr(2,a,t),cn||yr(4,a,t),zi(e,t,a);break;case 1:cn||(Ga(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Vm(a,t,r)),zi(e,t,a);break;case 21:zi(e,t,a);break;case 22:cn=(r=cn)||a.memoizedState!==null,zi(e,t,a),cn=r;break;default:zi(e,t,a)}}function Qm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ao(e)}catch(a){Dt(t,t.return,a)}}}function Pm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ao(e)}catch(a){Dt(t,t.return,a)}}function bx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xm),t;default:throw Error(o(435,e.tag))}}function Ru(e,t){var a=bx(e);t.forEach(function(r){if(!a.has(r)){a.add(r);var c=jx.bind(null,e,r);r.then(c,c)}})}function Vn(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var c=a[r],d=e,E=t,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(_r(R.type)){Xt=R.stateNode,qn=!1;break e}break;case 5:Xt=R.stateNode,qn=!1;break e;case 3:case 4:Xt=R.stateNode.containerInfo,qn=!0;break e}R=R.return}if(Xt===null)throw Error(o(160));Zm(d,E,c),Xt=null,qn=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Fm(t,e),t=t.sibling}var Ma=null;function Fm(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vn(t,e),Yn(e),r&4&&(yr(3,e,e.return),ns(3,e),yr(5,e,e.return));break;case 1:Vn(t,e),Yn(e),r&512&&(cn||a===null||Ga(a,a.return)),r&64&&Di&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var c=Ma;if(Vn(t,e),Yn(e),r&512&&(cn||a===null||Ga(a,a.return)),r&4){var d=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Dn]||d[Ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(r),c.head.insertBefore(d,c.querySelector("head > title"))),En(d,r,a),d[Ot]=e,Pt(d),r=d;break e;case"link":var E=Fy("link","href",c).get(r+(a.href||""));if(E){for(var R=0;R<E.length;R++)if(d=E[R],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(R,1);break t}}d=c.createElement(r),En(d,r,a),c.head.appendChild(d);break;case"meta":if(E=Fy("meta","content",c).get(r+(a.content||""))){for(R=0;R<E.length;R++)if(d=E[R],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(R,1);break t}}d=c.createElement(r),En(d,r,a),c.head.appendChild(d);break;default:throw Error(o(468,r))}d[Ot]=e,Pt(d),r=d}e.stateNode=r}else Jy(c,e.type,e.stateNode);else e.stateNode=Py(c,r,e.memoizedProps);else d!==r?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,r===null?Jy(c,e.type,e.stateNode):Py(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&od(e,e.memoizedProps,a.memoizedProps)}break;case 27:Vn(t,e),Yn(e),r&512&&(cn||a===null||Ga(a,a.return)),a!==null&&r&4&&od(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Vn(t,e),Yn(e),r&512&&(cn||a===null||Ga(a,a.return)),e.flags&32){c=e.stateNode;try{hi(c,"")}catch(We){Dt(e,e.return,We)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,od(e,c,a!==null?a.memoizedProps:c)),r&1024&&(cd=!0);break;case 6:if(Vn(t,e),Yn(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(We){Dt(e,e.return,We)}}break;case 3:if(Fu=null,c=Ma,Ma=Qu(t.containerInfo),Vn(t,e),Ma=c,Yn(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(t.containerInfo)}catch(We){Dt(e,e.return,We)}cd&&(cd=!1,Jm(e));break;case 4:r=Ma,Ma=Qu(e.stateNode.containerInfo),Vn(t,e),Yn(e),Ma=r;break;case 12:Vn(t,e),Yn(e);break;case 31:Vn(t,e),Yn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ru(e,r)));break;case 13:Vn(t,e),Yn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hu=Wt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ru(e,r)));break;case 22:c=e.memoizedState!==null;var $=a!==null&&a.memoizedState!==null,me=Di,Ce=cn;if(Di=me||c,cn=Ce||$,Vn(t,e),cn=Ce,Di=me,Yn(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||$||Di||cn||tl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){$=a=t;try{if(d=$.stateNode,c)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=$.stateNode;var Me=$.memoizedProps.style,ve=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;R.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(We){Dt($,$.return,We)}}}else if(t.tag===6){if(a===null){$=t;try{$.stateNode.nodeValue=c?"":$.memoizedProps}catch(We){Dt($,$.return,We)}}}else if(t.tag===18){if(a===null){$=t;try{var we=$.stateNode;c?Vy(we,!0):Vy($.stateNode,!1)}catch(We){Dt($,$.return,We)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Ru(e,a))));break;case 19:Vn(t,e),Yn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ru(e,r)));break;case 30:break;case 21:break;default:Vn(t,e),Yn(e)}}function Yn(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(Km(r)){a=r;break}r=r.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var c=a.stateNode,d=sd(e);ku(e,d,c);break;case 5:var E=a.stateNode;a.flags&32&&(hi(E,""),a.flags&=-33);var R=sd(e);ku(e,R,E);break;case 3:case 4:var $=a.stateNode.containerInfo,me=sd(e);ud(e,me,$);break;default:throw Error(o(161))}}catch(Ce){Dt(e,e.return,Ce)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Jm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Oi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Im(e,t.alternate,t),t=t.sibling}function tl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yr(4,t,t.return),tl(t);break;case 1:Ga(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Vm(t,t.return,a),tl(t);break;case 27:ds(t.stateNode);case 26:case 5:Ga(t,t.return),tl(t);break;case 22:t.memoizedState===null&&tl(t);break;case 30:tl(t);break;default:tl(t)}e=e.sibling}}function ki(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,d=t,E=d.flags;switch(d.tag){case 0:case 11:case 15:ki(c,d,a),ns(4,d);break;case 1:if(ki(c,d,a),r=d,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(me){Dt(r,r.return,me)}if(r=d,c=r.updateQueue,c!==null){var R=r.stateNode;try{var $=c.shared.hiddenCallbacks;if($!==null)for(c.shared.hiddenCallbacks=null,c=0;c<$.length;c++)Mp($[c],R)}catch(me){Dt(r,r.return,me)}}a&&E&64&&qm(d),as(d,d.return);break;case 27:$m(d);case 26:case 5:ki(c,d,a),a&&r===null&&E&4&&Ym(d),as(d,d.return);break;case 12:ki(c,d,a);break;case 31:ki(c,d,a),a&&E&4&&Qm(c,d);break;case 13:ki(c,d,a),a&&E&4&&Pm(c,d);break;case 22:d.memoizedState===null&&ki(c,d,a),as(d,d.return);break;case 30:break;default:ki(c,d,a)}t=t.sibling}}function fd(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ko(a))}function dd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ko(e))}function Ta(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wm(e,t,a,r),t=t.sibling}function Wm(e,t,a,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Ta(e,t,a,r),c&2048&&ns(9,t);break;case 1:Ta(e,t,a,r);break;case 3:Ta(e,t,a,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ko(e)));break;case 12:if(c&2048){Ta(e,t,a,r),e=t.stateNode;try{var d=t.memoizedProps,E=d.id,R=d.onPostCommit;typeof R=="function"&&R(E,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch($){Dt(t,t.return,$)}}else Ta(e,t,a,r);break;case 31:Ta(e,t,a,r);break;case 13:Ta(e,t,a,r);break;case 23:break;case 22:d=t.stateNode,E=t.alternate,t.memoizedState!==null?d._visibility&2?Ta(e,t,a,r):is(e,t):d._visibility&2?Ta(e,t,a,r):(d._visibility|=2,Il(e,t,a,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&fd(E,t);break;case 24:Ta(e,t,a,r),c&2048&&dd(t.alternate,t);break;default:Ta(e,t,a,r)}}function Il(e,t,a,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,E=t,R=a,$=r,me=E.flags;switch(E.tag){case 0:case 11:case 15:Il(d,E,R,$,c),ns(8,E);break;case 23:break;case 22:var Ce=E.stateNode;E.memoizedState!==null?Ce._visibility&2?Il(d,E,R,$,c):is(d,E):(Ce._visibility|=2,Il(d,E,R,$,c)),c&&me&2048&&fd(E.alternate,E);break;case 24:Il(d,E,R,$,c),c&&me&2048&&dd(E.alternate,E);break;default:Il(d,E,R,$,c)}t=t.sibling}}function is(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,c=r.flags;switch(r.tag){case 22:is(a,r),c&2048&&fd(r.alternate,r);break;case 24:is(a,r),c&2048&&dd(r.alternate,r);break;default:is(a,r)}t=t.sibling}}var rs=8192;function Gl(e,t,a){if(e.subtreeFlags&rs)for(e=e.child;e!==null;)ey(e,t,a),e=e.sibling}function ey(e,t,a){switch(e.tag){case 26:Gl(e,t,a),e.flags&rs&&e.memoizedState!==null&&r1(a,Ma,e.memoizedState,e.memoizedProps);break;case 5:Gl(e,t,a);break;case 3:case 4:var r=Ma;Ma=Qu(e.stateNode.containerInfo),Gl(e,t,a),Ma=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=rs,rs=16777216,Gl(e,t,a),rs=r):Gl(e,t,a));break;default:Gl(e,t,a)}}function ty(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ls(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];xn=r,ay(r,e)}ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:ls(e),e.flags&2048&&yr(9,e,e.return);break;case 3:ls(e);break;case 12:ls(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bu(e)):ls(e);break;default:ls(e)}}function Bu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];xn=r,ay(r,e)}ty(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:yr(8,t,t.return),Bu(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Bu(t));break;default:Bu(t)}e=e.sibling}}function ay(e,t){for(;xn!==null;){var a=xn;switch(a.tag){case 0:case 11:case 15:yr(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,xn=r;else e:for(a=e;xn!==null;){r=xn;var c=r.sibling,d=r.return;if(Gm(r),r===a){xn=null;break e}if(c!==null){c.return=d,xn=c;break e}xn=d}}}var xx={getCacheForType:function(e){var t=Sn(on),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Sn(on).controller.signal}},wx=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Lt=null,mt=null,gt=0,Tt=0,Jn=null,gr=!1,Zl=!1,hd=!1,Ri=0,tn=0,vr=0,nl=0,pd=0,Wn=0,Ql=0,os=null,Kn=null,md=!1,Hu=0,iy=0,Lu=1/0,Uu=null,br=null,mn=0,xr=null,Pl=null,Bi=0,yd=0,gd=null,ry=null,ss=0,vd=null;function ea(){return(Ct&2)!==0&&gt!==0?gt&-gt:U.T!==null?Ed():ri()}function ly(){if(Wn===0)if((gt&536870912)===0||xt){var e=La;La<<=1,(La&3932160)===0&&(La=262144),Wn=e}else Wn=536870912;return e=Pn.current,e!==null&&(e.flags|=32),Wn}function $n(e,t,a){(e===Lt&&(Tt===2||Tt===9)||e.cancelPendingCommit!==null)&&(Fl(e,0),wr(e,gt,Wn,!1)),Rn(e,a),((Ct&2)===0||e!==Lt)&&(e===Lt&&((Ct&2)===0&&(nl|=a),tn===4&&wr(e,gt,Wn,!1)),Za(e))}function oy(e,t,a){if((Ct&6)!==0)throw Error(o(327));var r=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ea(e,t),c=r?Ex(e,t):xd(e,t,!0),d=r;do{if(c===0){Zl&&!r&&wr(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!Sx(a)){c=xd(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){t=E;e:{var R=e;c=os;var $=R.current.memoizedState.isDehydrated;if($&&(Fl(R,E).flags|=256),E=xd(R,E,!1),E!==2){if(hd&&!$){R.errorRecoveryDisabledLanes|=d,nl|=d,c=4;break e}d=Kn,Kn=c,d!==null&&(Kn===null?Kn=d:Kn.push.apply(Kn,d))}c=E}if(d=!1,c!==2)continue}}if(c===1){Fl(e,0),wr(e,t,0,!0);break}e:{switch(r=e,d=c,d){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:wr(r,t,Wn,!gr);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=Hu+300-Wt(),10<c)){if(wr(r,t,Wn,!gr),ai(r,0,!0)!==0)break e;Bi=t,r.timeoutHandle=Ly(sy.bind(null,r,a,Kn,Uu,md,t,Wn,nl,Ql,gr,d,"Throttled",-0,0),c);break e}sy(r,a,Kn,Uu,md,t,Wn,nl,Ql,gr,d,null,-0,0)}}break}while(!0);Za(e)}function sy(e,t,a,r,c,d,E,R,$,me,Ce,Me,ve,we){if(e.timeoutHandle=-1,Me=t.subtreeFlags,Me&8192||(Me&16785408)===16785408){Me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},ey(t,d,Me);var We=(d&62914560)===d?Hu-Wt():(d&4194048)===d?iy-Wt():0;if(We=l1(Me,We),We!==null){Bi=d,e.cancelPendingCommit=We(yy.bind(null,e,t,d,a,r,c,E,R,$,Ce,Me,null,ve,we)),wr(e,d,E,!me);return}}yy(e,t,d,a,r,c,E,R,$)}function Sx(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var c=a[r],d=c.getSnapshot;c=c.value;try{if(!jn(d(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wr(e,t,a,r){t&=~pd,t&=~nl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var d=31-Ze(c),E=1<<d;r[d]=-1,c&=~E}a!==0&&ii(e,a,t)}function qu(){return(Ct&6)===0?(us(0),!1):!0}function bd(){if(mt!==null){if(Tt===0)var e=mt.return;else e=mt,Ni=Gr=null,Rf(e),Vl=null,Xo=0,e=mt;for(;e!==null;)Um(e.alternate,e),e=e.return;mt=null}}function Fl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Yx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Bi=0,bd(),Lt=e,mt=a=_i(e.current,null),gt=t,Tt=0,Jn=null,gr=!1,Zl=Ea(e,t),hd=!1,Ql=Wn=pd=nl=vr=tn=0,Kn=os=null,md=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-Ze(r),d=1<<c;t|=e[c],r&=~d}return Ri=t,st(),a}function uy(e,t){dt=null,U.H=Wo,t===ql||t===mu?(t=Np(),Tt=3):t===_f?(t=Np(),Tt=4):Tt=t===Ff?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jn=t,mt===null&&(tn=1,Mu(e,ha(t,e.current)))}function cy(){var e=Pn.current;return e===null?!0:(gt&4194048)===gt?ga===null:(gt&62914560)===gt||(gt&536870912)!==0?e===ga:!1}function fy(){var e=U.H;return U.H=Wo,e===null?Wo:e}function dy(){var e=U.A;return U.A=xx,e}function Vu(){tn=4,gr||(gt&4194048)!==gt&&Pn.current!==null||(Zl=!0),(vr&134217727)===0&&(nl&134217727)===0||Lt===null||wr(Lt,gt,Wn,!1)}function xd(e,t,a){var r=Ct;Ct|=2;var c=fy(),d=dy();(Lt!==e||gt!==t)&&(Uu=null,Fl(e,t)),t=!1;var E=tn;e:do try{if(Tt!==0&&mt!==null){var R=mt,$=Jn;switch(Tt){case 8:bd(),E=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(t=!0);var me=Tt;if(Tt=0,Jn=null,Jl(e,R,$,me),a&&Zl){E=0;break e}break;default:me=Tt,Tt=0,Jn=null,Jl(e,R,$,me)}}_x(),E=tn;break}catch(Ce){uy(e,Ce)}while(!0);return t&&e.shellSuspendCounter++,Ni=Gr=null,Ct=r,U.H=c,U.A=d,mt===null&&(Lt=null,gt=0,st()),E}function _x(){for(;mt!==null;)hy(mt)}function Ex(e,t){var a=Ct;Ct|=2;var r=fy(),c=dy();Lt!==e||gt!==t?(Uu=null,Lu=Wt()+500,Fl(e,t)):Zl=Ea(e,t);e:do try{if(Tt!==0&&mt!==null){t=mt;var d=Jn;t:switch(Tt){case 1:Tt=0,Jn=null,Jl(e,t,d,1);break;case 2:case 9:if(_p(d)){Tt=0,Jn=null,py(t);break}t=function(){Tt!==2&&Tt!==9||Lt!==e||(Tt=7),Za(e)},d.then(t,t);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:_p(d)?(Tt=0,Jn=null,py(t)):(Tt=0,Jn=null,Jl(e,t,d,7));break;case 5:var E=null;switch(mt.tag){case 26:E=mt.memoizedState;case 5:case 27:var R=mt;if(E?Wy(E):R.stateNode.complete){Tt=0,Jn=null;var $=R.sibling;if($!==null)mt=$;else{var me=R.return;me!==null?(mt=me,Yu(me)):mt=null}break t}}Tt=0,Jn=null,Jl(e,t,d,5);break;case 6:Tt=0,Jn=null,Jl(e,t,d,6);break;case 8:bd(),tn=6;break e;default:throw Error(o(462))}}Nx();break}catch(Ce){uy(e,Ce)}while(!0);return Ni=Gr=null,U.H=r,U.A=c,Ct=a,mt!==null?0:(Lt=null,gt=0,st(),tn)}function Nx(){for(;mt!==null&&!ct();)hy(mt)}function hy(e){var t=Hm(e.alternate,e,Ri);e.memoizedProps=e.pendingProps,t===null?Yu(e):mt=t}function py(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Dm(a,t,t.pendingProps,t.type,void 0,gt);break;case 11:t=Dm(a,t,t.pendingProps,t.type.render,t.ref,gt);break;case 5:Rf(t);default:Um(a,t),t=mt=dp(t,Ri),t=Hm(a,t,Ri)}e.memoizedProps=e.pendingProps,t===null?Yu(e):mt=t}function Jl(e,t,a,r){Ni=Gr=null,Rf(t),Vl=null,Xo=0;var c=t.return;try{if(hx(e,c,t,a,gt)){tn=1,Mu(e,ha(a,e.current)),mt=null;return}}catch(d){if(c!==null)throw mt=c,d;tn=1,Mu(e,ha(a,e.current)),mt=null;return}t.flags&32768?(xt||r===1?e=!0:Zl||(gt&536870912)!==0?e=!1:(gr=e=!0,(r===2||r===9||r===3||r===6)&&(r=Pn.current,r!==null&&r.tag===13&&(r.flags|=16384))),my(t,e)):Yu(t)}function Yu(e){var t=e;do{if((t.flags&32768)!==0){my(t,gr);return}e=t.return;var a=yx(t.alternate,t,Ri);if(a!==null){mt=a;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);tn===0&&(tn=5)}function my(e,t){do{var a=gx(e.alternate,e);if(a!==null){a.flags&=32767,mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){mt=e;return}mt=e=a}while(e!==null);tn=6,mt=null}function yy(e,t,a,r,c,d,E,R,$){e.cancelPendingCommit=null;do Ku();while(mn!==0);if((Ct&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(d=t.lanes|t.childLanes,d|=nt,Or(e,a,d,E,R,$),e===Lt&&(mt=Lt=null,gt=0),Pl=t,xr=e,Bi=a,yd=d,gd=c,ry=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Mx(wa,function(){return wy(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=U.T,U.T=null,c=X.p,X.p=2,E=Ct,Ct|=4;try{vx(e,t,a)}finally{Ct=E,X.p=c,U.T=r}}mn=1,gy(),vy(),by()}}function gy(){if(mn===1){mn=0;var e=xr,t=Pl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var r=X.p;X.p=2;var c=Ct;Ct|=4;try{Fm(t,e);var d=zd,E=N(e.containerInfo),R=d.focusedElem,$=d.selectionRange;if(E!==R&&R&&R.ownerDocument&&S(R.ownerDocument.documentElement,R)){if($!==null&&M(R)){var me=$.start,Ce=$.end;if(Ce===void 0&&(Ce=me),"selectionStart"in R)R.selectionStart=me,R.selectionEnd=Math.min(Ce,R.value.length);else{var Me=R.ownerDocument||document,ve=Me&&Me.defaultView||window;if(ve.getSelection){var we=ve.getSelection(),We=R.textContent.length,rt=Math.min($.start,We),Ht=$.end===void 0?rt:Math.min($.end,We);!we.extend&&rt>Ht&&(E=Ht,Ht=rt,rt=E);var re=v(R,rt),te=v(R,Ht);if(re&&te&&(we.rangeCount!==1||we.anchorNode!==re.node||we.anchorOffset!==re.offset||we.focusNode!==te.node||we.focusOffset!==te.offset)){var pe=Me.createRange();pe.setStart(re.node,re.offset),we.removeAllRanges(),rt>Ht?(we.addRange(pe),we.extend(te.node,te.offset)):(pe.setEnd(te.node,te.offset),we.addRange(pe))}}}}for(Me=[],we=R;we=we.parentNode;)we.nodeType===1&&Me.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<Me.length;R++){var je=Me[R];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}tc=!!Dd,zd=Dd=null}finally{Ct=c,X.p=r,U.T=a}}e.current=t,mn=2}}function vy(){if(mn===2){mn=0;var e=xr,t=Pl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var r=X.p;X.p=2;var c=Ct;Ct|=4;try{Im(e,t.alternate,t)}finally{Ct=c,X.p=r,U.T=a}}mn=3}}function by(){if(mn===4||mn===3){mn=0,Ut();var e=xr,t=Pl,a=Bi,r=ry;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?mn=5:(mn=0,Pl=xr=null,xy(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(br=null),Ua(a),t=t.stateNode,dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(ia,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=U.T,c=X.p,X.p=2,U.T=null;try{for(var d=e.onRecoverableError,E=0;E<r.length;E++){var R=r[E];d(R.value,{componentStack:R.stack})}}finally{U.T=t,X.p=c}}(Bi&3)!==0&&Ku(),Za(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===vd?ss++:(ss=0,vd=e):ss=0,us(0)}}function xy(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ko(t)))}function Ku(){return gy(),vy(),by(),wy()}function wy(){if(mn!==5)return!1;var e=xr,t=yd;yd=0;var a=Ua(Bi),r=U.T,c=X.p;try{X.p=32>a?32:a,U.T=null,a=gd,gd=null;var d=xr,E=Bi;if(mn=0,Pl=xr=null,Bi=0,(Ct&6)!==0)throw Error(o(331));var R=Ct;if(Ct|=4,ny(d.current),Wm(d,d.current,E,a),Ct=R,us(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(ia,d)}catch{}return!0}finally{X.p=c,U.T=r,xy(e,t)}}function Sy(e,t,a){t=ha(a,t),t=Pf(e.stateNode,t,2),e=hr(e,t,2),e!==null&&(Rn(e,2),Za(e))}function Dt(e,t,a){if(e.tag===3)Sy(e,e,a);else for(;t!==null;){if(t.tag===3){Sy(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(br===null||!br.has(r))){e=ha(a,e),a=_m(2),r=hr(t,a,2),r!==null&&(Em(a,r,t,e),Rn(r,2),Za(r));break}}t=t.return}}function wd(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new wx;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(a)||(hd=!0,c.add(a),e=Cx.bind(null,e,t,a),t.then(e,e))}function Cx(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Lt===e&&(gt&a)===a&&(tn===4||tn===3&&(gt&62914560)===gt&&300>Wt()-Hu?(Ct&2)===0&&Fl(e,0):pd|=a,Ql===gt&&(Ql=0)),Za(e)}function _y(e,t){t===0&&(t=dl()),e=jt(e,t),e!==null&&(Rn(e,t),Za(e))}function Ax(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),_y(e,a)}function jx(e,t){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(t),_y(e,a)}function Mx(e,t){return Fe(e,t)}var $u=null,Wl=null,Sd=!1,Xu=!1,_d=!1,Sr=0;function Za(e){e!==Wl&&e.next===null&&(Wl===null?$u=Wl=e:Wl=Wl.next=e),Xu=!0,Sd||(Sd=!0,Dx())}function us(e,t){if(!_d&&Xu){_d=!0;do for(var a=!1,r=$u;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var d=0;else{var E=r.suspendedLanes,R=r.pingedLanes;d=(1<<31-Ze(42|e)+1)-1,d&=c&~(E&~R),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ay(r,d))}else d=gt,d=ai(r,r===Lt?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||Ea(r,d)||(a=!0,Ay(r,d));r=r.next}while(a);_d=!1}}function Tx(){Ey()}function Ey(){Xu=Sd=!1;var e=0;Sr!==0&&Vx()&&(e=Sr);for(var t=Wt(),a=null,r=$u;r!==null;){var c=r.next,d=Ny(r,t);d===0?(r.next=null,a===null?$u=c:a.next=c,c===null&&(Wl=a)):(a=r,(e!==0||(d&3)!==0)&&(Xu=!0)),r=c}mn!==0&&mn!==5||us(e),Sr!==0&&(Sr=0)}function Ny(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-Ze(d),R=1<<E,$=c[E];$===-1?((R&a)===0||(R&r)!==0)&&(c[E]=_o(R,t)):$<=t&&(e.expiredLanes|=R),d&=~R}if(t=Lt,a=gt,a=ai(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(Tt===2||Tt===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Je(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ea(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&Je(r),Ua(a)){case 2:case 8:a=zt;break;case 32:a=wa;break;case 268435456:a=Ha;break;default:a=wa}return r=Cy.bind(null,e),a=Fe(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&Je(r),e.callbackPriority=2,e.callbackNode=null,2}function Cy(e,t){if(mn!==0&&mn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ku()&&e.callbackNode!==a)return null;var r=gt;return r=ai(e,e===Lt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(oy(e,r,t),Ny(e,Wt()),e.callbackNode!=null&&e.callbackNode===a?Cy.bind(null,e):null)}function Ay(e,t){if(Ku())return null;oy(e,t,!0)}function Dx(){Kx(function(){(Ct&6)!==0?Fe(qt,Tx):Ey()})}function Ed(){if(Sr===0){var e=Ll;e===0&&(e=$e,$e<<=1,($e&261888)===0&&($e=256)),Sr=e}return Sr}function jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ja(""+e)}function My(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function zx(e,t,a,r,c){if(t==="submit"&&a&&a.stateNode===c){var d=jy((c[Qt]||null).action),E=r.submitter;E&&(t=(t=E[Qt]||null)?jy(t.formAction):E.getAttribute("formAction"),t!==null&&(d=t,E=null));var R=new vl("action","action",null,r,c);e.push({event:R,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Sr!==0){var $=E?My(c,E):new FormData(c);$f(a,{pending:!0,data:$,method:c.method,action:d},null,$)}}else typeof d=="function"&&(R.preventDefault(),$=E?My(c,E):new FormData(c),$f(a,{pending:!0,data:$,method:c.method,action:d},d,$))},currentTarget:c}]})}}for(var Nd=0;Nd<Ie.length;Nd++){var Cd=Ie[Nd],Ox=Cd.toLowerCase(),kx=Cd[0].toUpperCase()+Cd.slice(1);Re(Ox,"on"+kx)}Re(ge,"onAnimationEnd"),Re(ce,"onAnimationIteration"),Re(Ne,"onAnimationStart"),Re("dblclick","onDoubleClick"),Re("focusin","onFocus"),Re("focusout","onBlur"),Re(Oe,"onTransitionRun"),Re(Ve,"onTransitionStart"),Re(Ye,"onTransitionCancel"),Re(ke,"onTransitionEnd"),ua("onMouseEnter",["mouseout","mouseover"]),ua("onMouseLeave",["mouseout","mouseover"]),ua("onPointerEnter",["pointerout","pointerover"]),ua("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cs));function Ty(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],c=r.event;r=r.listeners;e:{var d=void 0;if(t)for(var E=r.length-1;0<=E;E--){var R=r[E],$=R.instance,me=R.currentTarget;if(R=R.listener,$!==d&&c.isPropagationStopped())break e;d=R,c.currentTarget=me;try{d(c)}catch(Ce){Pe(Ce)}c.currentTarget=null,d=$}else for(E=0;E<r.length;E++){if(R=r[E],$=R.instance,me=R.currentTarget,R=R.listener,$!==d&&c.isPropagationStopped())break e;d=R,c.currentTarget=me;try{d(c)}catch(Ce){Pe(Ce)}c.currentTarget=null,d=$}}}}function yt(e,t){var a=t[Na];a===void 0&&(a=t[Na]=new Set);var r=e+"__bubble";a.has(r)||(Dy(t,e,2,!1),a.add(r))}function Ad(e,t,a){var r=0;t&&(r|=4),Dy(a,e,r,t)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function jd(e){if(!e[Iu]){e[Iu]=!0,Ca.forEach(function(a){a!=="selectionchange"&&(Rx.has(a)||Ad(a,!1,e),Ad(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Iu]||(t[Iu]=!0,Ad("selectionchange",!1,t))}}function Dy(e,t,a,r){switch(lg(t)){case 2:var c=u1;break;case 8:c=c1;break;default:c=Kd}a=c.bind(null,t,a,e),c=void 0,!Ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function Md(e,t,a,r,c){var d=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var E=r.tag;if(E===3||E===4){var R=r.stateNode.containerInfo;if(R===c)break;if(E===4)for(E=r.return;E!==null;){var $=E.tag;if(($===3||$===4)&&E.stateNode.containerInfo===c)return;E=E.return}for(;R!==null;){if(E=sa(R),E===null)return;if($=E.tag,$===5||$===6||$===26||$===27){r=d=E;continue e}R=R.parentNode}}r=r.return}Fi(function(){var me=d,Ce=yl(a),Me=[];e:{var ve=Qe.get(e);if(ve!==void 0){var we=vl,We=e;switch(e){case"keypress":if(er(a)===0)break e;case"keydown":case"keyup":we=Nl;break;case"focusin":We="focus",we=tr;break;case"focusout":We="blur",we=tr;break;case"beforeblur":case"afterblur":we=tr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Ws;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ko;break;case ge:case ce:case Ne:we=eu;break;case ke:we=Ro;break;case"scroll":case"scrollend":we=bl;break;case"wheel":we=Al;break;case"copy":case"cut":case"paste":we=nr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Oo;break;case"toggle":case"beforetoggle":we=au}var rt=(t&4)!==0,Ht=!rt&&(e==="scroll"||e==="scrollend"),re=rt?ve!==null?ve+"Capture":null:ve;rt=[];for(var te=me,pe;te!==null;){var je=te;if(pe=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||pe===null||re===null||(je=yi(te,re),je!=null&&rt.push(fs(te,je,pe))),Ht)break;te=te.return}0<rt.length&&(ve=new we(ve,We,null,a,Ce),Me.push({event:ve,listeners:rt}))}}if((t&7)===0){e:{if(ve=e==="mouseover"||e==="pointerover",we=e==="mouseout"||e==="pointerout",ve&&a!==ca&&(We=a.relatedTarget||a.fromElement)&&(sa(We)||We[yn]))break e;if((we||ve)&&(ve=Ce.window===Ce?Ce:(ve=Ce.ownerDocument)?ve.defaultView||ve.parentWindow:window,we?(We=a.relatedTarget||a.toElement,we=me,We=We?sa(We):null,We!==null&&(Ht=f(We),rt=We.tag,We!==Ht||rt!==5&&rt!==27&&rt!==6)&&(We=null)):(we=null,We=me),we!==We)){if(rt=wl,je="onMouseLeave",re="onMouseEnter",te="mouse",(e==="pointerout"||e==="pointerover")&&(rt=Oo,je="onPointerLeave",re="onPointerEnter",te="pointer"),Ht=we==null?ve:Cn(we),pe=We==null?ve:Cn(We),ve=new rt(je,te+"leave",we,a,Ce),ve.target=Ht,ve.relatedTarget=pe,je=null,sa(Ce)===me&&(rt=new rt(re,te+"enter",We,a,Ce),rt.target=pe,rt.relatedTarget=Ht,je=rt),Ht=je,we&&We)t:{for(rt=Bx,re=we,te=We,pe=0,je=re;je;je=rt(je))pe++;je=0;for(var it=te;it;it=rt(it))je++;for(;0<pe-je;)re=rt(re),pe--;for(;0<je-pe;)te=rt(te),je--;for(;pe--;){if(re===te||te!==null&&re===te.alternate){rt=re;break t}re=rt(re),te=rt(te)}rt=null}else rt=null;we!==null&&zy(Me,ve,we,rt,!1),We!==null&&Ht!==null&&zy(Me,Ht,We,rt,!0)}}e:{if(ve=me?Cn(me):window,we=ve.nodeName&&ve.nodeName.toLowerCase(),we==="select"||we==="input"&&ve.type==="file")var _t=$r;else if(Tl(ve))if(da)_t=rr;else{_t=Si;var tt=uu}else we=ve.nodeName,!we||we.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?me&&Co(me.elementType)&&(_t=$r):_t=qo;if(_t&&(_t=_t(e,me))){Uo(Me,_t,a,Ce);break e}tt&&tt(e,ve,me),e==="focusout"&&me&&ve.type==="number"&&me.memoizedProps.value!=null&&di(ve,"number",ve.value)}switch(tt=me?Cn(me):window,e){case"focusin":(Tl(tt)||tt.contentEditable==="true")&&(q=tt,P=me,ue=null);break;case"focusout":ue=P=q=null;break;case"mousedown":F=!0;break;case"contextmenu":case"mouseup":case"dragend":F=!1,Q(Me,a,Ce);break;case"selectionchange":if(H)break;case"keydown":case"keyup":Q(Me,a,Ce)}var ht;if(Yr)e:{switch(e){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else xi?Lo(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(jl&&a.locale!=="ko"&&(xi||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&xi&&(ht=Wi()):(fa=Ce,gl="value"in fa?fa.value:fa.textContent,xi=!0)),tt=Gu(me,vt),0<tt.length&&(vt=new El(vt,e,null,a,Ce),Me.push({event:vt,listeners:tt}),ht?vt.data=ht:(ht=ru(a),ht!==null&&(vt.data=ht)))),(ht=of?lu(e,a):sf(e,a))&&(vt=Gu(me,"onBeforeInput"),0<vt.length&&(tt=new El("onBeforeInput","beforeinput",null,a,Ce),Me.push({event:tt,listeners:vt}),tt.data=ht)),zx(Me,e,me,a,Ce)}Ty(Me,t)})}function fs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Gu(e,t){for(var a=t+"Capture",r=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=yi(e,a),c!=null&&r.unshift(fs(e,c,d)),c=yi(e,t),c!=null&&r.push(fs(e,c,d))),e.tag===3)return r;e=e.return}return[]}function Bx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zy(e,t,a,r,c){for(var d=t._reactName,E=[];a!==null&&a!==r;){var R=a,$=R.alternate,me=R.stateNode;if(R=R.tag,$!==null&&$===r)break;R!==5&&R!==26&&R!==27||me===null||($=me,c?(me=yi(a,d),me!=null&&E.unshift(fs(a,me,$))):c||(me=yi(a,d),me!=null&&E.push(fs(a,me,$)))),a=a.return}E.length!==0&&e.push({event:t,listeners:E})}var Hx=/\r\n?/g,Lx=/\u0000|\uFFFD/g;function Oy(e){return(typeof e=="string"?e:""+e).replace(Hx,`
`).replace(Lx,"")}function ky(e,t){return t=Oy(t),Oy(e)===t}function Bt(e,t,a,r,c,d){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||hi(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&hi(e,""+r);break;case"className":ui(e,"class",r);break;case"tabIndex":ui(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(e,a,r);break;case"style":No(e,r,d);break;case"data":if(t!=="object"){ui(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=ja(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Bt(e,t,"name",c.name,c,null),Bt(e,t,"formEncType",c.formEncType,c,null),Bt(e,t,"formMethod",c.formMethod,c,null),Bt(e,t,"formTarget",c.formTarget,c,null)):(Bt(e,t,"encType",c.encType,c,null),Bt(e,t,"method",c.method,c,null),Bt(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=ja(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=Un);break;case"onScroll":r!=null&&yt("scroll",e);break;case"onScrollEnd":r!=null&&yt("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=ja(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":yt("beforetoggle",e),yt("toggle",e),ft(e,"popover",r);break;case"xlinkActuate":Bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Bn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Bn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Bn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Bn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ft(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=af.get(a)||a,ft(e,a,r))}}function Td(e,t,a,r,c,d){switch(a){case"style":No(e,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof r=="string"?hi(e,r):(typeof r=="number"||typeof r=="bigint")&&hi(e,""+r);break;case"onScroll":r!=null&&yt("scroll",e);break;case"onScrollEnd":r!=null&&yt("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),d=e[Qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof r=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,c);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):ft(e,a,r)}}}function En(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",e),yt("load",e);var r=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Bt(e,t,d,E,a,null)}}c&&Bt(e,t,"srcSet",a.srcSet,a,null),r&&Bt(e,t,"src",a.src,a,null);return;case"input":yt("invalid",e);var R=d=E=c=null,$=null,me=null;for(r in a)if(a.hasOwnProperty(r)){var Ce=a[r];if(Ce!=null)switch(r){case"name":c=Ce;break;case"type":E=Ce;break;case"checked":$=Ce;break;case"defaultChecked":me=Ce;break;case"value":d=Ce;break;case"defaultValue":R=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(o(137,t));break;default:Bt(e,t,r,Ce,a,null)}}Pi(e,d,R,$,me,E,c,!1);return;case"select":yt("invalid",e),r=E=d=null;for(c in a)if(a.hasOwnProperty(c)&&(R=a[c],R!=null))switch(c){case"value":d=R;break;case"defaultValue":E=R;break;case"multiple":r=R;default:Bt(e,t,c,R,a,null)}t=d,a=E,e.multiple=!!r,t!=null?Ln(e,!!r,t,!1):a!=null&&Ln(e,!!r,a,!0);return;case"textarea":yt("invalid",e),d=c=r=null;for(E in a)if(a.hasOwnProperty(E)&&(R=a[E],R!=null))switch(E){case"value":r=R;break;case"defaultValue":c=R;break;case"children":d=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(o(91));break;default:Bt(e,t,E,R,a,null)}Hr(e,r,c,d);return;case"option":for($ in a)a.hasOwnProperty($)&&(r=a[$],r!=null)&&($==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Bt(e,t,$,r,a,null));return;case"dialog":yt("beforetoggle",e),yt("toggle",e),yt("cancel",e),yt("close",e);break;case"iframe":case"object":yt("load",e);break;case"video":case"audio":for(r=0;r<cs.length;r++)yt(cs[r],e);break;case"image":yt("error",e),yt("load",e);break;case"details":yt("toggle",e);break;case"embed":case"source":case"link":yt("error",e),yt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in a)if(a.hasOwnProperty(me)&&(r=a[me],r!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Bt(e,t,me,r,a,null)}return;default:if(Co(t)){for(Ce in a)a.hasOwnProperty(Ce)&&(r=a[Ce],r!==void 0&&Td(e,t,Ce,r,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(r=a[R],r!=null&&Bt(e,t,R,r,a,null))}function Ux(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,E=null,R=null,$=null,me=null,Ce=null;for(we in a){var Me=a[we];if(a.hasOwnProperty(we)&&Me!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":$=Me;default:r.hasOwnProperty(we)||Bt(e,t,we,null,r,Me)}}for(var ve in r){var we=r[ve];if(Me=a[ve],r.hasOwnProperty(ve)&&(we!=null||Me!=null))switch(ve){case"type":d=we;break;case"name":c=we;break;case"checked":me=we;break;case"defaultChecked":Ce=we;break;case"value":E=we;break;case"defaultValue":R=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(o(137,t));break;default:we!==Me&&Bt(e,t,ve,we,r,Me)}}Hn(e,E,R,$,me,Ce,d,c);return;case"select":we=E=R=ve=null;for(d in a)if($=a[d],a.hasOwnProperty(d)&&$!=null)switch(d){case"value":break;case"multiple":we=$;default:r.hasOwnProperty(d)||Bt(e,t,d,null,r,$)}for(c in r)if(d=r[c],$=a[c],r.hasOwnProperty(c)&&(d!=null||$!=null))switch(c){case"value":ve=d;break;case"defaultValue":R=d;break;case"multiple":E=d;default:d!==$&&Bt(e,t,c,d,r,$)}t=R,a=E,r=we,ve!=null?Ln(e,!!a,ve,!1):!!r!=!!a&&(t!=null?Ln(e,!!a,t,!0):Ln(e,!!a,a?[]:"",!1));return;case"textarea":we=ve=null;for(R in a)if(c=a[R],a.hasOwnProperty(R)&&c!=null&&!r.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Bt(e,t,R,null,r,c)}for(E in r)if(c=r[E],d=a[E],r.hasOwnProperty(E)&&(c!=null||d!=null))switch(E){case"value":ve=c;break;case"defaultValue":we=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==d&&Bt(e,t,E,c,r,d)}Eo(e,ve,we);return;case"option":for(var We in a)ve=a[We],a.hasOwnProperty(We)&&ve!=null&&!r.hasOwnProperty(We)&&(We==="selected"?e.selected=!1:Bt(e,t,We,null,r,ve));for($ in r)ve=r[$],we=a[$],r.hasOwnProperty($)&&ve!==we&&(ve!=null||we!=null)&&($==="selected"?e.selected=ve&&typeof ve!="function"&&typeof ve!="symbol":Bt(e,t,$,ve,r,we));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in a)ve=a[rt],a.hasOwnProperty(rt)&&ve!=null&&!r.hasOwnProperty(rt)&&Bt(e,t,rt,null,r,ve);for(me in r)if(ve=r[me],we=a[me],r.hasOwnProperty(me)&&ve!==we&&(ve!=null||we!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(o(137,t));break;default:Bt(e,t,me,ve,r,we)}return;default:if(Co(t)){for(var Ht in a)ve=a[Ht],a.hasOwnProperty(Ht)&&ve!==void 0&&!r.hasOwnProperty(Ht)&&Td(e,t,Ht,void 0,r,ve);for(Ce in r)ve=r[Ce],we=a[Ce],!r.hasOwnProperty(Ce)||ve===we||ve===void 0&&we===void 0||Td(e,t,Ce,ve,r,we);return}}for(var re in a)ve=a[re],a.hasOwnProperty(re)&&ve!=null&&!r.hasOwnProperty(re)&&Bt(e,t,re,null,r,ve);for(Me in r)ve=r[Me],we=a[Me],!r.hasOwnProperty(Me)||ve===we||ve==null&&we==null||Bt(e,t,Me,ve,r,we)}function Ry(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var c=a[r],d=c.transferSize,E=c.initiatorType,R=c.duration;if(d&&R&&Ry(E)){for(E=0,R=c.responseEnd,r+=1;r<a.length;r++){var $=a[r],me=$.startTime;if(me>R)break;var Ce=$.transferSize,Me=$.initiatorType;Ce&&Ry(Me)&&($=$.responseEnd,E+=Ce*($<R?1:(R-me)/($-me)))}if(--r,t+=8*(d+E)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Dd=null,zd=null;function Zu(e){return e.nodeType===9?e:e.ownerDocument}function By(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hy(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Od(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kd=null;function Vx(){var e=window.event;return e&&e.type==="popstate"?e===kd?!1:(kd=e,!0):(kd=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,Kx=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(e){return Uy.resolve(null).then(e).catch($x)}:Ly;function $x(e){setTimeout(function(){throw e})}function _r(e){return e==="head"}function qy(e,t){var a=t,r=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(c),ao(t);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")ds(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ds(a);for(var d=a.firstChild;d;){var E=d.nextSibling,R=d.nodeName;d[Dn]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=E}}else a==="body"&&ds(e.ownerDocument.body);a=c}while(a);ao(t)}function Vy(e,t){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function Rd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rd(a),Zi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Xx(e,t,a,r){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Dn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=va(e.nextSibling),e===null)break}return null}function Ix(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=va(e.nextSibling),e===null))return null;return e}function Yy(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=va(e.nextSibling),e===null))return null;return e}function Bd(e){return e.data==="$?"||e.data==="$~"}function Hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gx(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function va(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ld=null;function Ky(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return va(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function $y(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Xy(e,t,a){switch(t=Zu(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function ds(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zi(e)}var ba=new Map,Iy=new Set;function Qu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hi=X.d;X.d={f:Zx,r:Qx,D:Px,C:Fx,L:Jx,m:Wx,X:t1,S:e1,M:n1};function Zx(){var e=Hi.f(),t=qu();return e||t}function Qx(e){var t=At(e);t!==null&&t.tag===5&&t.type==="form"?um(t):Hi.r(e)}var eo=typeof document>"u"?null:document;function Gy(e,t,a){var r=eo;if(r&&typeof t=="string"&&t){var c=rn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Iy.has(c)||(Iy.add(c),e={rel:e,crossOrigin:a,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),En(t,"link",e),Pt(t),r.head.appendChild(t)))}}function Px(e){Hi.D(e),Gy("dns-prefetch",e,null)}function Fx(e,t){Hi.C(e,t),Gy("preconnect",e,t)}function Jx(e,t,a){Hi.L(e,t,a);var r=eo;if(r&&e&&t){var c='link[rel="preload"][as="'+rn(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+rn(a.imageSizes)+'"]')):c+='[href="'+rn(e)+'"]';var d=c;switch(t){case"style":d=to(e);break;case"script":d=no(e)}ba.has(d)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ba.set(d,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(hs(d))||t==="script"&&r.querySelector(ps(d))||(t=r.createElement("link"),En(t,"link",e),Pt(t),r.head.appendChild(t)))}}function Wx(e,t){Hi.m(e,t);var a=eo;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+rn(r)+'"][href="'+rn(e)+'"]',d=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(e)}if(!ba.has(d)&&(e=x({rel:"modulepreload",href:e},t),ba.set(d,e),a.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ps(d)))return}r=a.createElement("link"),En(r,"link",e),Pt(r),a.head.appendChild(r)}}}function e1(e,t,a){Hi.S(e,t,a);var r=eo;if(r&&e){var c=gn(r).hoistableStyles,d=to(e);t=t||"default";var E=c.get(d);if(!E){var R={loading:0,preload:null};if(E=r.querySelector(hs(d)))R.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ba.get(d))&&Ud(e,a);var $=E=r.createElement("link");Pt($),En($,"link",e),$._p=new Promise(function(me,Ce){$.onload=me,$.onerror=Ce}),$.addEventListener("load",function(){R.loading|=1}),$.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Pu(E,t,r)}E={type:"stylesheet",instance:E,count:1,state:R},c.set(d,E)}}}function t1(e,t){Hi.X(e,t);var a=eo;if(a&&e){var r=gn(a).hoistableScripts,c=no(e),d=r.get(c);d||(d=a.querySelector(ps(c)),d||(e=x({src:e,async:!0},t),(t=ba.get(c))&&qd(e,t),d=a.createElement("script"),Pt(d),En(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function n1(e,t){Hi.M(e,t);var a=eo;if(a&&e){var r=gn(a).hoistableScripts,c=no(e),d=r.get(c);d||(d=a.querySelector(ps(c)),d||(e=x({src:e,async:!0,type:"module"},t),(t=ba.get(c))&&qd(e,t),d=a.createElement("script"),Pt(d),En(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function Zy(e,t,a,r){var c=(c=Le.current)?Qu(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=to(a.href),a=gn(c).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=to(a.href);var d=gn(c).hoistableStyles,E=d.get(e);if(E||(c=c.ownerDocument||c,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=c.querySelector(hs(e)))&&!d._p&&(E.instance=d,E.state.loading=5),ba.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ba.set(e,a),d||a1(c,e,a,E.state))),t&&r===null)throw Error(o(528,""));return E}if(t&&r!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=no(a),a=gn(c).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function to(e){return'href="'+rn(e)+'"'}function hs(e){return'link[rel="stylesheet"]['+e+"]"}function Qy(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function a1(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),En(t,"link",a),Pt(t),e.head.appendChild(t))}function no(e){return'[src="'+rn(e)+'"]'}function ps(e){return"script[async]"+e}function Py(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(r)return t.instance=r,Pt(r),r;var c=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Pt(r),En(r,"style",c),Pu(r,a.precedence,e),t.instance=r;case"stylesheet":c=to(a.href);var d=e.querySelector(hs(c));if(d)return t.state.loading|=4,t.instance=d,Pt(d),d;r=Qy(a),(c=ba.get(c))&&Ud(r,c),d=(e.ownerDocument||e).createElement("link"),Pt(d);var E=d;return E._p=new Promise(function(R,$){E.onload=R,E.onerror=$}),En(d,"link",r),t.state.loading|=4,Pu(d,a.precedence,e),t.instance=d;case"script":return d=no(a.src),(c=e.querySelector(ps(d)))?(t.instance=c,Pt(c),c):(r=a,(c=ba.get(d))&&(r=x({},a),qd(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),Pt(c),En(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Pu(r,a.precedence,e));return t.instance}function Pu(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,d=c,E=0;E<r.length;E++){var R=r[E];if(R.dataset.precedence===t)d=R;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ud(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fu=null;function Fy(e,t,a){if(Fu===null){var r=new Map,c=Fu=new Map;c.set(a,r)}else c=Fu,r=c.get(a),r||(r=new Map,c.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var d=a[c];if(!(d[Dn]||d[Ot]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(t)||"";E=e+E;var R=r.get(E);R?R.push(d):r.set(E,[d])}}return r}function Jy(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function i1(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function r1(e,t,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=to(r.href),d=t.querySelector(hs(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ju.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=d,Pt(d);return}d=t.ownerDocument||t,r=Qy(r),(c=ba.get(c))&&Ud(r,c),d=d.createElement("link"),Pt(d);var E=d;E._p=new Promise(function(R,$){E.onload=R,E.onerror=$}),En(d,"link",r),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ju.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Vd=0;function l1(e,t){return e.stylesheets&&e.count===0&&ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&ec(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Vd===0&&(Vd=62500*qx());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ec(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Vd?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wu=null;function ec(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wu=new Map,t.forEach(o1,e),Wu=null,Ju.call(e))}function o1(e,t){if(!(t.state.loading&4)){var a=Wu.get(e);if(a)var r=a.get(null);else{a=new Map,Wu.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var E=c[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),r=E)}r&&a.set(null,r)}c=t.instance,E=c.getAttribute("data-precedence"),d=a.get(E)||r,d===r&&a.set(null,c),a.set(E,c),this.count++,r=Ju.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ms={$$typeof:A,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function s1(e,t,a,r,c,d,E,R,$){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.hiddenUpdates=ra(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function eg(e,t,a,r,c,d,E,R,$,me,Ce,Me){return e=new s1(e,t,a,E,$,me,Ce,Me,R),t=1,d===!0&&(t|=24),d=Qn(3,null,null,t),e.current=d,d.stateNode=e,t=xf(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:r,isDehydrated:a,cache:t},Ef(d),e}function tg(e){return e?(e=Ol,e):Ol}function ng(e,t,a,r,c,d){c=tg(c),r.context===null?r.context=c:r.pendingContext=c,r=dr(t),r.payload={element:a},d=d===void 0?null:d,d!==null&&(r.callback=d),a=hr(e,r,t),a!==null&&($n(a,e,t),Go(a,e,t))}function ag(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Yd(e,t){ag(e,t),(e=e.alternate)&&ag(e,t)}function ig(e){if(e.tag===13||e.tag===31){var t=jt(e,67108864);t!==null&&$n(t,e,67108864),Yd(e,67108864)}}function rg(e){if(e.tag===13||e.tag===31){var t=ea();t=kr(t);var a=jt(e,t);a!==null&&$n(a,e,t),Yd(e,t)}}var tc=!0;function u1(e,t,a,r){var c=U.T;U.T=null;var d=X.p;try{X.p=2,Kd(e,t,a,r)}finally{X.p=d,U.T=c}}function c1(e,t,a,r){var c=U.T;U.T=null;var d=X.p;try{X.p=8,Kd(e,t,a,r)}finally{X.p=d,U.T=c}}function Kd(e,t,a,r){if(tc){var c=$d(r);if(c===null)Md(e,t,r,nc,a),og(e,r);else if(d1(c,e,t,a,r))r.stopPropagation();else if(og(e,r),t&4&&-1<f1.indexOf(e)){for(;c!==null;){var d=At(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=In(d.pendingLanes);if(E!==0){var R=d;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var $=1<<31-Ze(E);R.entanglements[1]|=$,E&=~$}Za(d),(Ct&6)===0&&(Lu=Wt()+500,us(0))}}break;case 31:case 13:R=jt(d,2),R!==null&&$n(R,d,2),qu(),Yd(d,2)}if(d=$d(r),d===null&&Md(e,t,r,nc,a),d===c)break;c=d}c!==null&&r.stopPropagation()}else Md(e,t,r,null,a)}}function $d(e){return e=yl(e),Xd(e)}var nc=null;function Xd(e){if(nc=null,e=sa(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return nc=e,null}function lg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kn()){case qt:return 2;case zt:return 8;case wa:case ei:return 32;case Ha:return 268435456;default:return 32}default:return 32}}var Id=!1,Er=null,Nr=null,Cr=null,ys=new Map,gs=new Map,Ar=[],f1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function og(e,t){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(t.pointerId)}}function vs(e,t,a,r,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:d,targetContainers:[c]},t!==null&&(t=At(t),t!==null&&ig(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function d1(e,t,a,r,c){switch(t){case"focusin":return Er=vs(Er,e,t,a,r,c),!0;case"dragenter":return Nr=vs(Nr,e,t,a,r,c),!0;case"mouseover":return Cr=vs(Cr,e,t,a,r,c),!0;case"pointerover":var d=c.pointerId;return ys.set(d,vs(ys.get(d)||null,e,t,a,r,c)),!0;case"gotpointercapture":return d=c.pointerId,gs.set(d,vs(gs.get(d)||null,e,t,a,r,c)),!0}return!1}function sg(e){var t=sa(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,li(e.priority,function(){rg(a)});return}}else if(t===31){if(t=y(a),t!==null){e.blockedOn=t,li(e.priority,function(){rg(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ac(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=$d(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);ca=r,a.target.dispatchEvent(r),ca=null}else return t=At(a),t!==null&&ig(t),e.blockedOn=a,!1;t.shift()}return!0}function ug(e,t,a){ac(e)&&a.delete(t)}function h1(){Id=!1,Er!==null&&ac(Er)&&(Er=null),Nr!==null&&ac(Nr)&&(Nr=null),Cr!==null&&ac(Cr)&&(Cr=null),ys.forEach(ug),gs.forEach(ug)}function ic(e,t){e.blockedOn===t&&(e.blockedOn=null,Id||(Id=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,h1)))}var rc=null;function cg(e){rc!==e&&(rc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){rc===e&&(rc=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(Xd(r||a)===null)continue;break}var d=At(a);d!==null&&(e.splice(t,3),t-=3,$f(d,{pending:!0,data:c,method:a.method,action:r},r,c))}}))}function ao(e){function t($){return ic($,e)}Er!==null&&ic(Er,e),Nr!==null&&ic(Nr,e),Cr!==null&&ic(Cr,e),ys.forEach(t),gs.forEach(t);for(var a=0;a<Ar.length;a++){var r=Ar[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ar.length&&(a=Ar[0],a.blockedOn===null);)sg(a),a.blockedOn===null&&Ar.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var c=a[r],d=a[r+1],E=c[Qt]||null;if(typeof d=="function")E||cg(a);else if(E){var R=null;if(d&&d.hasAttribute("formAction")){if(c=d,E=d[Qt]||null)R=E.formAction;else if(Xd(c)!==null)continue}else R=E.action;typeof R=="function"?a[r+1]=R:(a.splice(r,3),r-=3),cg(a)}}}function fg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(E){return c=E})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Gd(e){this._internalRoot=e}lc.prototype.render=Gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,r=ea();ng(a,r,e,t,null,null)},lc.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ng(e.current,2,null,e,null,null),qu(),t[yn]=null}};function lc(e){this._internalRoot=e}lc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ri();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ar.length&&t!==0&&t<Ar[a].priority;a++);Ar.splice(a,0,e),a===0&&sg(e)}};var dg=i.version;if(dg!=="19.2.4")throw Error(o(527,dg,"19.2.4"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=m(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var p1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{ia=oc.inject(p1),dn=oc}catch{}}return xs.createRoot=function(e,t){if(!u(e))throw Error(o(299));var a=!1,r="",c=bm,d=xm,E=wm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(E=t.onRecoverableError)),t=eg(e,1,!1,null,null,a,r,null,c,d,E,fg),e[yn]=t.current,jd(e),new Gd(t)},xs.hydrateRoot=function(e,t,a){if(!u(e))throw Error(o(299));var r=!1,c="",d=bm,E=xm,R=wm,$=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.formState!==void 0&&($=a.formState)),t=eg(e,1,!0,t,a??null,r,c,$,d,E,R,fg),t.context=tg(null),a=t.current,r=ea(),r=kr(r),c=dr(r),c.callback=null,hr(a,c,r),a=r,t.current.lanes=a,Rn(t,a),Za(t),e[yn]=t.current,jd(e),new lc(t)},xs.version="19.2.4",xs}var Sg;function E1(){if(Sg)return Pd.exports;Sg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),Pd.exports=_1(),Pd.exports}var N1=E1();var _g="popstate";function C1(n={}){function i(o,u){let{pathname:f,search:h,hash:y}=o.location;return bh("",{pathname:f,search:h,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function l(o,u){return typeof u=="string"?u:Ds(u)}return j1(i,l,null,n)}function Ft(n,i){if(n===!1||n===null||typeof n>"u")throw new Error(i)}function Ra(n,i){if(!n){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function A1(){return Math.random().toString(36).substring(2,10)}function Eg(n,i){return{usr:n.state,key:n.key,idx:i}}function bh(n,i,l=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof i=="string"?xo(i):i,state:l,key:i&&i.key||o||A1()}}function Ds({pathname:n="/",search:i="",hash:l=""}){return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function xo(n){let i={};if(n){let l=n.indexOf("#");l>=0&&(i.hash=n.substring(l),n=n.substring(0,l));let o=n.indexOf("?");o>=0&&(i.search=n.substring(o),n=n.substring(0,o)),n&&(i.pathname=n)}return i}function j1(n,i,l,o={}){let{window:u=document.defaultView,v5Compat:f=!1}=o,h=u.history,y="POP",b=null,m=w();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function w(){return(h.state||{idx:null}).idx}function x(){y="POP";let T=w(),k=T==null?null:T-m;m=T,b&&b({action:y,location:D.location,delta:k})}function _(T,k){y="PUSH";let z=bh(D.location,T,k);m=w()+1;let A=Eg(z,m),B=D.createHref(z);try{h.pushState(A,"",B)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;u.location.assign(B)}f&&b&&b({action:y,location:D.location,delta:1})}function j(T,k){y="REPLACE";let z=bh(D.location,T,k);m=w();let A=Eg(z,m),B=D.createHref(z);h.replaceState(A,"",B),f&&b&&b({action:y,location:D.location,delta:0})}function C(T){return M1(T)}let D={get action(){return y},get location(){return n(u,h)},listen(T){if(b)throw new Error("A history only accepts one active listener");return u.addEventListener(_g,x),b=T,()=>{u.removeEventListener(_g,x),b=null}},createHref(T){return i(u,T)},createURL:C,encodeLocation(T){let k=C(T);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:_,replace:j,go(T){return h.go(T)}};return D}function M1(n,i=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(l,"No window.location.(origin|href) available to create URL");let o=typeof n=="string"?n:Ds(n);return o=o.replace(/ $/,"%20"),!i&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function Vv(n,i,l="/"){return T1(n,i,l,!1)}function T1(n,i,l,o){let u=typeof i=="string"?xo(i):i,f=Ki(u.pathname||"/",l);if(f==null)return null;let h=Yv(n);D1(h);let y=null;for(let b=0;y==null&&b<h.length;++b){let m=Y1(f);y=q1(h[b],m,o)}return y}function Yv(n,i=[],l=[],o="",u=!1){let f=(h,y,b=u,m)=>{let w={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:y,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(o)&&b)return;Ft(w.relativePath.startsWith(o),`Absolute route path "${w.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(o.length)}let x=Vi([o,w.relativePath]),_=l.concat(w);h.children&&h.children.length>0&&(Ft(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Yv(h.children,i,_,x,b)),!(h.path==null&&!h.index)&&i.push({path:x,score:L1(x,h.index),routesMeta:_})};return n.forEach((h,y)=>{if(h.path===""||!h.path?.includes("?"))f(h,y);else for(let b of Kv(h.path))f(h,y,!0,b)}),i}function Kv(n){let i=n.split("/");if(i.length===0)return[];let[l,...o]=i,u=l.endsWith("?"),f=l.replace(/\?$/,"");if(o.length===0)return u?[f,""]:[f];let h=Kv(o.join("/")),y=[];return y.push(...h.map(b=>b===""?f:[f,b].join("/"))),u&&y.push(...h),y.map(b=>n.startsWith("/")&&b===""?"/":b)}function D1(n){n.sort((i,l)=>i.score!==l.score?l.score-i.score:U1(i.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var z1=/^:[\w-]+$/,O1=3,k1=2,R1=1,B1=10,H1=-2,Ng=n=>n==="*";function L1(n,i){let l=n.split("/"),o=l.length;return l.some(Ng)&&(o+=H1),i&&(o+=k1),l.filter(u=>!Ng(u)).reduce((u,f)=>u+(z1.test(f)?O1:f===""?R1:B1),o)}function U1(n,i){return n.length===i.length&&n.slice(0,-1).every((o,u)=>o===i[u])?n[n.length-1]-i[i.length-1]:0}function q1(n,i,l=!1){let{routesMeta:o}=n,u={},f="/",h=[];for(let y=0;y<o.length;++y){let b=o[y],m=y===o.length-1,w=f==="/"?i:i.slice(f.length)||"/",x=Ac({path:b.relativePath,caseSensitive:b.caseSensitive,end:m},w),_=b.route;if(!x&&m&&l&&!o[o.length-1].route.index&&(x=Ac({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},w)),!x)return null;Object.assign(u,x.params),h.push({params:u,pathname:Vi([f,x.pathname]),pathnameBase:I1(Vi([f,x.pathnameBase])),route:_}),x.pathnameBase!=="/"&&(f=Vi([f,x.pathnameBase]))}return h}function Ac(n,i){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[l,o]=V1(n.path,n.caseSensitive,n.end),u=i.match(l);if(!u)return null;let f=u[0],h=f.replace(/(.)\/+$/,"$1"),y=u.slice(1);return{params:o.reduce((m,{paramName:w,isOptional:x},_)=>{if(w==="*"){let C=y[_]||"";h=f.slice(0,f.length-C.length).replace(/(.)\/+$/,"$1")}const j=y[_];return x&&!j?m[w]=void 0:m[w]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:f,pathnameBase:h,pattern:n}}function V1(n,i=!1,l=!0){Ra(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,y,b)=>(o.push({paramName:y,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(o.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),o]}function Y1(n){try{return n.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Ra(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),n}}function Ki(n,i){if(i==="/")return n;if(!n.toLowerCase().startsWith(i.toLowerCase()))return null;let l=i.endsWith("/")?i.length-1:i.length,o=n.charAt(l);return o&&o!=="/"?null:n.slice(l)||"/"}var K1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function $1(n,i="/"){let{pathname:l,search:o="",hash:u=""}=typeof n=="string"?xo(n):n,f;return l?(l=l.replace(/\/\/+/g,"/"),l.startsWith("/")?f=Cg(l.substring(1),"/"):f=Cg(l,i)):f=i,{pathname:f,search:G1(o),hash:Z1(u)}}function Cg(n,i){let l=i.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?l.length>1&&l.pop():u!=="."&&l.push(u)}),l.length>1?l.join("/"):"/"}function eh(n,i,l,o){return`Cannot include a '${n}' character in a manually specified \`to.${i}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function X1(n){return n.filter((i,l)=>l===0||i.route.path&&i.route.path.length>0)}function $v(n){let i=X1(n);return i.map((l,o)=>o===i.length-1?l.pathname:l.pathnameBase)}function Xv(n,i,l,o=!1){let u;typeof n=="string"?u=xo(n):(u={...n},Ft(!u.pathname||!u.pathname.includes("?"),eh("?","pathname","search",u)),Ft(!u.pathname||!u.pathname.includes("#"),eh("#","pathname","hash",u)),Ft(!u.search||!u.search.includes("#"),eh("#","search","hash",u)));let f=n===""||u.pathname==="",h=f?"/":u.pathname,y;if(h==null)y=l;else{let x=i.length-1;if(!o&&h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),x-=1;u.pathname=_.join("/")}y=x>=0?i[x]:"/"}let b=$1(u,y),m=h&&h!=="/"&&h.endsWith("/"),w=(f||h===".")&&l.endsWith("/");return!b.pathname.endsWith("/")&&(m||w)&&(b.pathname+="/"),b}var Vi=n=>n.join("/").replace(/\/\/+/g,"/"),I1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),G1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Z1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Q1=class{constructor(n,i,l,o=!1){this.status=n,this.statusText=i||"",this.internal=o,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function P1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function F1(n){return n.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Iv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Gv(n,i){let l=n;if(typeof l!="string"||!K1.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let o=l,u=!1;if(Iv)try{let f=new URL(window.location.href),h=l.startsWith("//")?new URL(f.protocol+l):new URL(l),y=Ki(h.pathname,i);h.origin===f.origin&&y!=null?l=y+h.search+h.hash:u=!0}catch{Ra(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:u,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zv=["POST","PUT","PATCH","DELETE"];new Set(Zv);var J1=["GET",...Zv];new Set(J1);var wo=O.createContext(null);wo.displayName="DataRouter";var qc=O.createContext(null);qc.displayName="DataRouterState";var W1=O.createContext(!1),Qv=O.createContext({isTransitioning:!1});Qv.displayName="ViewTransition";var ew=O.createContext(new Map);ew.displayName="Fetchers";var tw=O.createContext(null);tw.displayName="Await";var xa=O.createContext(null);xa.displayName="Navigation";var Ys=O.createContext(null);Ys.displayName="Location";var Ja=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ja.displayName="Route";var Vh=O.createContext(null);Vh.displayName="RouteError";var Pv="REACT_ROUTER_ERROR",nw="REDIRECT",aw="ROUTE_ERROR_RESPONSE";function iw(n){if(n.startsWith(`${Pv}:${nw}:{`))try{let i=JSON.parse(n.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function rw(n){if(n.startsWith(`${Pv}:${aw}:{`))try{let i=JSON.parse(n.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new Q1(i.status,i.statusText,i.data)}catch{}}function lw(n,{relative:i}={}){Ft(Ks(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=O.useContext(xa),{hash:u,pathname:f,search:h}=$s(n,{relative:i}),y=f;return l!=="/"&&(y=f==="/"?l:Vi([l,f])),o.createHref({pathname:y,search:h,hash:u})}function Ks(){return O.useContext(Ys)!=null}function zr(){return Ft(Ks(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Ys).location}var Fv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jv(n){O.useContext(xa).static||O.useLayoutEffect(n)}function So(){let{isDataRoute:n}=O.useContext(Ja);return n?xw():ow()}function ow(){Ft(Ks(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(wo),{basename:i,navigator:l}=O.useContext(xa),{matches:o}=O.useContext(Ja),{pathname:u}=zr(),f=JSON.stringify($v(o)),h=O.useRef(!1);return Jv(()=>{h.current=!0}),O.useCallback((b,m={})=>{if(Ra(h.current,Fv),!h.current)return;if(typeof b=="number"){l.go(b);return}let w=Xv(b,JSON.parse(f),u,m.relative==="path");n==null&&i!=="/"&&(w.pathname=w.pathname==="/"?i:Vi([i,w.pathname])),(m.replace?l.replace:l.push)(w,m.state,m)},[i,l,f,u,n])}O.createContext(null);function sw(){let{matches:n}=O.useContext(Ja),i=n[n.length-1];return i?i.params:{}}function $s(n,{relative:i}={}){let{matches:l}=O.useContext(Ja),{pathname:o}=zr(),u=JSON.stringify($v(l));return O.useMemo(()=>Xv(n,JSON.parse(u),o,i==="path"),[n,u,o,i])}function uw(n,i){return Wv(n,i)}function Wv(n,i,l,o,u){Ft(Ks(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=O.useContext(xa),{matches:h}=O.useContext(Ja),y=h[h.length-1],b=y?y.params:{},m=y?y.pathname:"/",w=y?y.pathnameBase:"/",x=y&&y.route;{let z=x&&x.path||"";t0(m,!x||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let _=zr(),j;if(i){let z=typeof i=="string"?xo(i):i;Ft(w==="/"||z.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${z.pathname}" was given in the \`location\` prop.`),j=z}else j=_;let C=j.pathname||"/",D=C;if(w!=="/"){let z=w.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(z.length).join("/")}let T=Vv(n,{pathname:D});Ra(x||T!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Ra(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=pw(T&&T.map(z=>Object.assign({},z,{params:Object.assign({},b,z.params),pathname:Vi([w,f.encodeLocation?f.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?w:Vi([w,f.encodeLocation?f.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),h,l,o,u);return i&&k?O.createElement(Ys.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},k):k}function cw(){let n=bw(),i=P1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),l=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},f={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:f},"ErrorBoundary")," or"," ",O.createElement("code",{style:f},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},i),l?O.createElement("pre",{style:u},l):null,h)}var fw=O.createElement(cw,null),e0=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){this.props.onError?this.props.onError(n,i):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const l=rw(n.digest);l&&(n=l)}let i=n!==void 0?O.createElement(Ja.Provider,{value:this.props.routeContext},O.createElement(Vh.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?O.createElement(dw,{error:n},i):i}};e0.contextType=W1;var th=new WeakMap;function dw({children:n,error:i}){let{basename:l}=O.useContext(xa);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let o=iw(i.digest);if(o){let u=th.get(i);if(u)throw u;let f=Gv(o.location,l);if(Iv&&!th.get(i))if(f.isExternal||o.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:o.replace}));throw th.set(i,h),h}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return n}function hw({routeContext:n,match:i,children:l}){let o=O.useContext(wo);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),O.createElement(Ja.Provider,{value:n},l)}function pw(n,i=[],l=null,o=null,u=null){if(n==null){if(!l)return null;if(l.errors)n=l.matches;else if(i.length===0&&!l.initialized&&l.matches.length>0)n=l.matches;else return null}let f=n,h=l?.errors;if(h!=null){let w=f.findIndex(x=>x.route.id&&h?.[x.route.id]!==void 0);Ft(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,w+1))}let y=!1,b=-1;if(l)for(let w=0;w<f.length;w++){let x=f[w];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(b=w),x.route.id){let{loaderData:_,errors:j}=l,C=x.route.loader&&!_.hasOwnProperty(x.route.id)&&(!j||j[x.route.id]===void 0);if(x.route.lazy||C){y=!0,b>=0?f=f.slice(0,b+1):f=[f[0]];break}}}let m=l&&o?(w,x)=>{o(w,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:F1(l.matches),errorInfo:x})}:void 0;return f.reduceRight((w,x,_)=>{let j,C=!1,D=null,T=null;l&&(j=h&&x.route.id?h[x.route.id]:void 0,D=x.route.errorElement||fw,y&&(b<0&&_===0?(t0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,T=null):b===_&&(C=!0,T=x.route.hydrateFallbackElement||null)));let k=i.concat(f.slice(0,_+1)),z=()=>{let A;return j?A=D:C?A=T:x.route.Component?A=O.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=w,O.createElement(hw,{match:x,routeContext:{outlet:w,matches:k,isDataRoute:l!=null},children:A})};return l&&(x.route.ErrorBoundary||x.route.errorElement||_===0)?O.createElement(e0,{location:l.location,revalidation:l.revalidation,component:D,error:j,children:z(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:m}):z()},null)}function Yh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mw(n){let i=O.useContext(wo);return Ft(i,Yh(n)),i}function yw(n){let i=O.useContext(qc);return Ft(i,Yh(n)),i}function gw(n){let i=O.useContext(Ja);return Ft(i,Yh(n)),i}function Kh(n){let i=gw(n),l=i.matches[i.matches.length-1];return Ft(l.route.id,`${n} can only be used on routes that contain a unique "id"`),l.route.id}function vw(){return Kh("useRouteId")}function bw(){let n=O.useContext(Vh),i=yw("useRouteError"),l=Kh("useRouteError");return n!==void 0?n:i.errors?.[l]}function xw(){let{router:n}=mw("useNavigate"),i=Kh("useNavigate"),l=O.useRef(!1);return Jv(()=>{l.current=!0}),O.useCallback(async(u,f={})=>{Ra(l.current,Fv),l.current&&(typeof u=="number"?await n.navigate(u):await n.navigate(u,{fromRouteId:i,...f}))},[n,i])}var Ag={};function t0(n,i,l){!i&&!Ag[n]&&(Ag[n]=!0,Ra(!1,l))}O.memo(ww);function ww({routes:n,future:i,state:l,onError:o}){return Wv(n,void 0,l,o,i)}function vc(n){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sw({basename:n="/",children:i=null,location:l,navigationType:o="POP",navigator:u,static:f=!1,unstable_useTransitions:h}){Ft(!Ks(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=n.replace(/^\/*/,"/"),b=O.useMemo(()=>({basename:y,navigator:u,static:f,unstable_useTransitions:h,future:{}}),[y,u,f,h]);typeof l=="string"&&(l=xo(l));let{pathname:m="/",search:w="",hash:x="",state:_=null,key:j="default"}=l,C=O.useMemo(()=>{let D=Ki(m,y);return D==null?null:{location:{pathname:D,search:w,hash:x,state:_,key:j},navigationType:o}},[y,m,w,x,_,j,o]);return Ra(C!=null,`<Router basename="${y}"> is not able to match the URL "${m}${w}${x}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:O.createElement(xa.Provider,{value:b},O.createElement(Ys.Provider,{children:i,value:C}))}function _w({children:n,location:i}){return uw(xh(n),i)}function xh(n,i=[]){let l=[];return O.Children.forEach(n,(o,u)=>{if(!O.isValidElement(o))return;let f=[...i,u];if(o.type===O.Fragment){l.push.apply(l,xh(o.props.children,f));return}Ft(o.type===vc,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=xh(o.props.children,f)),l.push(h)}),l}var bc="get",xc="application/x-www-form-urlencoded";function Vc(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Ew(n){return Vc(n)&&n.tagName.toLowerCase()==="button"}function Nw(n){return Vc(n)&&n.tagName.toLowerCase()==="form"}function Cw(n){return Vc(n)&&n.tagName.toLowerCase()==="input"}function Aw(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jw(n,i){return n.button===0&&(!i||i==="_self")&&!Aw(n)}function wh(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((i,l)=>{let o=n[l];return i.concat(Array.isArray(o)?o.map(u=>[l,u]):[[l,o]])},[]))}function Mw(n,i){let l=wh(n);return i&&i.forEach((o,u)=>{l.has(u)||i.getAll(u).forEach(f=>{l.append(u,f)})}),l}var sc=null;function Tw(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var Dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nh(n){return n!=null&&!Dw.has(n)?(Ra(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):n}function zw(n,i){let l,o,u,f,h;if(Nw(n)){let y=n.getAttribute("action");o=y?Ki(y,i):null,l=n.getAttribute("method")||bc,u=nh(n.getAttribute("enctype"))||xc,f=new FormData(n)}else if(Ew(n)||Cw(n)&&(n.type==="submit"||n.type==="image")){let y=n.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=n.getAttribute("formaction")||y.getAttribute("action");if(o=b?Ki(b,i):null,l=n.getAttribute("formmethod")||y.getAttribute("method")||bc,u=nh(n.getAttribute("formenctype"))||nh(y.getAttribute("enctype"))||xc,f=new FormData(y,n),!Tw()){let{name:m,type:w,value:x}=n;if(w==="image"){let _=m?`${m}.`:"";f.append(`${_}x`,"0"),f.append(`${_}y`,"0")}else m&&f.append(m,x)}}else{if(Vc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=bc,o=null,u=xc,h=n}return f&&u==="text/plain"&&(h=f,f=void 0),{action:o,method:l.toLowerCase(),encType:u,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $h(n,i){if(n===!1||n===null||typeof n>"u")throw new Error(i)}function Ow(n,i,l,o){let u=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return l?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${o}`:u.pathname=`${u.pathname}.${o}`:u.pathname==="/"?u.pathname=`_root.${o}`:i&&Ki(u.pathname,i)==="/"?u.pathname=`${i.replace(/\/$/,"")}/_root.${o}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${o}`,u}async function kw(n,i){if(n.id in i)return i[n.id];try{let l=await import(n.module);return i[n.id]=l,l}catch(l){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rw(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Bw(n,i,l){let o=await Promise.all(n.map(async u=>{let f=i.routes[u.route.id];if(f){let h=await kw(f,l);return h.links?h.links():[]}return[]}));return qw(o.flat(1).filter(Rw).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function jg(n,i,l,o,u,f){let h=(b,m)=>l[m]?b.route.id!==l[m].route.id:!0,y=(b,m)=>l[m].pathname!==b.pathname||l[m].route.path?.endsWith("*")&&l[m].params["*"]!==b.params["*"];return f==="assets"?i.filter((b,m)=>h(b,m)||y(b,m)):f==="data"?i.filter((b,m)=>{let w=o.routes[b.route.id];if(!w||!w.hasLoader)return!1;if(h(b,m)||y(b,m))return!0;if(b.route.shouldRevalidate){let x=b.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Hw(n,i,{includeHydrateFallback:l}={}){return Lw(n.map(o=>{let u=i.routes[o.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),l&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function Lw(n){return[...new Set(n)]}function Uw(n){let i={},l=Object.keys(n).sort();for(let o of l)i[o]=n[o];return i}function qw(n,i){let l=new Set;return new Set(i),n.reduce((o,u)=>{let f=JSON.stringify(Uw(u));return l.has(f)||(l.add(f),o.push({key:f,link:u})),o},[])}function n0(){let n=O.useContext(wo);return $h(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Vw(){let n=O.useContext(qc);return $h(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Xh=O.createContext(void 0);Xh.displayName="FrameworkContext";function a0(){let n=O.useContext(Xh);return $h(n,"You must render this element inside a <HydratedRouter> element"),n}function Yw(n,i){let l=O.useContext(Xh),[o,u]=O.useState(!1),[f,h]=O.useState(!1),{onFocus:y,onBlur:b,onMouseEnter:m,onMouseLeave:w,onTouchStart:x}=i,_=O.useRef(null);O.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let D=k=>{k.forEach(z=>{h(z.isIntersecting)})},T=new IntersectionObserver(D,{threshold:.5});return _.current&&T.observe(_.current),()=>{T.disconnect()}}},[n]),O.useEffect(()=>{if(o){let D=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(D)}}},[o]);let j=()=>{u(!0)},C=()=>{u(!1),h(!1)};return l?n!=="intent"?[f,_,{}]:[f,_,{onFocus:ws(y,j),onBlur:ws(b,C),onMouseEnter:ws(m,j),onMouseLeave:ws(w,C),onTouchStart:ws(x,j)}]:[!1,_,{}]}function ws(n,i){return l=>{n&&n(l),l.defaultPrevented||i(l)}}function Kw({page:n,...i}){let{router:l}=n0(),o=O.useMemo(()=>Vv(l.routes,n,l.basename),[l.routes,n,l.basename]);return o?O.createElement(Xw,{page:n,matches:o,...i}):null}function $w(n){let{manifest:i,routeModules:l}=a0(),[o,u]=O.useState([]);return O.useEffect(()=>{let f=!1;return Bw(n,i,l).then(h=>{f||u(h)}),()=>{f=!0}},[n,i,l]),o}function Xw({page:n,matches:i,...l}){let o=zr(),{future:u,manifest:f,routeModules:h}=a0(),{basename:y}=n0(),{loaderData:b,matches:m}=Vw(),w=O.useMemo(()=>jg(n,i,m,f,o,"data"),[n,i,m,f,o]),x=O.useMemo(()=>jg(n,i,m,f,o,"assets"),[n,i,m,f,o]),_=O.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let D=new Set,T=!1;if(i.forEach(z=>{let A=f.routes[z.route.id];!A||!A.hasLoader||(!w.some(B=>B.route.id===z.route.id)&&z.route.id in b&&h[z.route.id]?.shouldRevalidate||A.hasClientLoader?T=!0:D.add(z.route.id))}),D.size===0)return[];let k=Ow(n,y,u.unstable_trailingSlashAwareDataRequests,"data");return T&&D.size>0&&k.searchParams.set("_routes",i.filter(z=>D.has(z.route.id)).map(z=>z.route.id).join(",")),[k.pathname+k.search]},[y,u.unstable_trailingSlashAwareDataRequests,b,o,f,w,i,n,h]),j=O.useMemo(()=>Hw(x,f),[x,f]),C=$w(x);return O.createElement(O.Fragment,null,_.map(D=>O.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...l})),j.map(D=>O.createElement("link",{key:D,rel:"modulepreload",href:D,...l})),C.map(({key:D,link:T})=>O.createElement("link",{key:D,nonce:l.nonce,...T,crossOrigin:T.crossOrigin??l.crossOrigin})))}function Iw(...n){return i=>{n.forEach(l=>{typeof l=="function"?l(i):l!=null&&(l.current=i)})}}var Gw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gw&&(window.__reactRouterVersion="7.13.0")}catch{}function Zw({basename:n,children:i,unstable_useTransitions:l,window:o}){let u=O.useRef();u.current==null&&(u.current=C1({window:o,v5Compat:!0}));let f=u.current,[h,y]=O.useState({action:f.action,location:f.location}),b=O.useCallback(m=>{l===!1?y(m):O.startTransition(()=>y(m))},[l]);return O.useLayoutEffect(()=>f.listen(b),[f,b]),O.createElement(Sw,{basename:n,children:i,location:h.location,navigationType:h.action,navigator:f,unstable_useTransitions:l})}var i0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r0=O.forwardRef(function({onClick:i,discover:l="render",prefetch:o="none",relative:u,reloadDocument:f,replace:h,state:y,target:b,to:m,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:_,...j},C){let{basename:D,unstable_useTransitions:T}=O.useContext(xa),k=typeof m=="string"&&i0.test(m),z=Gv(m,D);m=z.to;let A=lw(m,{relative:u}),[B,G,V]=Yw(o,j),Y=Jw(m,{replace:h,state:y,target:b,preventScrollReset:w,relative:u,viewTransition:x,unstable_defaultShouldRevalidate:_,unstable_useTransitions:T});function de(Te){i&&i(Te),Te.defaultPrevented||Y(Te)}let he=O.createElement("a",{...j,...V,href:z.absoluteURL||A,onClick:z.isExternal||f?i:de,ref:Iw(C,G),target:b,"data-discover":!k&&l==="render"?"true":void 0});return B&&!k?O.createElement(O.Fragment,null,he,O.createElement(Kw,{page:A})):he});r0.displayName="Link";var Qw=O.forwardRef(function({"aria-current":i="page",caseSensitive:l=!1,className:o="",end:u=!1,style:f,to:h,viewTransition:y,children:b,...m},w){let x=$s(h,{relative:m.relative}),_=zr(),j=O.useContext(qc),{navigator:C,basename:D}=O.useContext(xa),T=j!=null&&iS(x)&&y===!0,k=C.encodeLocation?C.encodeLocation(x).pathname:x.pathname,z=_.pathname,A=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;l||(z=z.toLowerCase(),A=A?A.toLowerCase():null,k=k.toLowerCase()),A&&D&&(A=Ki(A,D)||A);const B=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let G=z===k||!u&&z.startsWith(k)&&z.charAt(B)==="/",V=A!=null&&(A===k||!u&&A.startsWith(k)&&A.charAt(k.length)==="/"),Y={isActive:G,isPending:V,isTransitioning:T},de=G?i:void 0,he;typeof o=="function"?he=o(Y):he=[o,G?"active":null,V?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Te=typeof f=="function"?f(Y):f;return O.createElement(r0,{...m,"aria-current":de,className:he,ref:w,style:Te,to:h,viewTransition:y},typeof b=="function"?b(Y):b)});Qw.displayName="NavLink";var Pw=O.forwardRef(({discover:n="render",fetcherKey:i,navigate:l,reloadDocument:o,replace:u,state:f,method:h=bc,action:y,onSubmit:b,relative:m,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:_,...j},C)=>{let{unstable_useTransitions:D}=O.useContext(xa),T=nS(),k=aS(y,{relative:m}),z=h.toLowerCase()==="get"?"get":"post",A=typeof y=="string"&&i0.test(y),B=G=>{if(b&&b(G),G.defaultPrevented)return;G.preventDefault();let V=G.nativeEvent.submitter,Y=V?.getAttribute("formmethod")||h,de=()=>T(V||G.currentTarget,{fetcherKey:i,method:Y,navigate:l,replace:u,state:f,relative:m,preventScrollReset:w,viewTransition:x,unstable_defaultShouldRevalidate:_});D&&l!==!1?O.startTransition(()=>de()):de()};return O.createElement("form",{ref:C,method:z,action:k,onSubmit:o?b:B,...j,"data-discover":!A&&n==="render"?"true":void 0})});Pw.displayName="Form";function Fw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l0(n){let i=O.useContext(wo);return Ft(i,Fw(n)),i}function Jw(n,{target:i,replace:l,state:o,preventScrollReset:u,relative:f,viewTransition:h,unstable_defaultShouldRevalidate:y,unstable_useTransitions:b}={}){let m=So(),w=zr(),x=$s(n,{relative:f});return O.useCallback(_=>{if(jw(_,i)){_.preventDefault();let j=l!==void 0?l:Ds(w)===Ds(x),C=()=>m(n,{replace:j,state:o,preventScrollReset:u,relative:f,viewTransition:h,unstable_defaultShouldRevalidate:y});b?O.startTransition(()=>C()):C()}},[w,m,x,l,o,i,n,u,f,h,y,b])}function Ww(n){Ra(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=O.useRef(wh(n)),l=O.useRef(!1),o=zr(),u=O.useMemo(()=>Mw(o.search,l.current?null:i.current),[o.search]),f=So(),h=O.useCallback((y,b)=>{const m=wh(typeof y=="function"?y(new URLSearchParams(u)):y);l.current=!0,f("?"+m,b)},[f,u]);return[u,h]}var eS=0,tS=()=>`__${String(++eS)}__`;function nS(){let{router:n}=l0("useSubmit"),{basename:i}=O.useContext(xa),l=vw(),o=n.fetch,u=n.navigate;return O.useCallback(async(f,h={})=>{let{action:y,method:b,encType:m,formData:w,body:x}=zw(f,i);if(h.navigate===!1){let _=h.fetcherKey||tS();await o(_,l,h.action||y,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:x,formMethod:h.method||b,formEncType:h.encType||m,flushSync:h.flushSync})}else await u(h.action||y,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:x,formMethod:h.method||b,formEncType:h.encType||m,replace:h.replace,state:h.state,fromRouteId:l,flushSync:h.flushSync,viewTransition:h.viewTransition})},[o,u,i,l])}function aS(n,{relative:i}={}){let{basename:l}=O.useContext(xa),o=O.useContext(Ja);Ft(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),f={...$s(n||".",{relative:i})},h=zr();if(n==null){f.search=h.search;let y=new URLSearchParams(f.search),b=y.getAll("index");if(b.some(w=>w==="")){y.delete("index"),b.filter(x=>x).forEach(x=>y.append("index",x));let w=y.toString();f.search=w?`?${w}`:""}}return(!n||n===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(f.pathname=f.pathname==="/"?l:Vi([l,f.pathname])),Ds(f)}function iS(n,{relative:i}={}){let l=O.useContext(Qv);Ft(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=l0("useViewTransitionState"),u=$s(n,{relative:i});if(!l.isTransitioning)return!1;let f=Ki(l.currentLocation.pathname,o)||l.currentLocation.pathname,h=Ki(l.nextLocation.pathname,o)||l.nextLocation.pathname;return Ac(u.pathname,h)!=null||Ac(u.pathname,f)!=null}qv();class rS extends Uv.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,l){console.error("ErrorBoundary caught:",i,l)}render(){return this.state.hasError?g.jsxs("div",{style:{padding:"40px",background:"#1a1a2e",color:"#fff",fontFamily:"monospace",height:"100vh"},children:[g.jsx("h2",{style:{color:"#ef4444",marginBottom:"16px"},children:"Something went wrong"}),g.jsxs("pre",{style:{background:"#111",padding:"16px",borderRadius:"8px",overflow:"auto",fontSize:"13px",lineHeight:"1.6"},children:[this.state.error?.message,`

`,this.state.error?.stack]}),g.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.href="/"},style:{marginTop:"16px",padding:"8px 16px",background:"#4262FF",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Go Back to Dashboard"})]}):this.props.children}}const o0=(...n)=>n.filter((i,l,o)=>!!i&&i.trim()!==""&&o.indexOf(i)===l).join(" ").trim();const lS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const oS=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,l,o)=>o?o.toUpperCase():l.toLowerCase());const Mg=n=>{const i=oS(n);return i.charAt(0).toUpperCase()+i.slice(1)};var sS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uS=n=>{for(const i in n)if(i.startsWith("aria-")||i==="role"||i==="title")return!0;return!1};const cS=O.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:u="",children:f,iconNode:h,...y},b)=>O.createElement("svg",{ref:b,...sS,width:i,height:i,stroke:n,strokeWidth:o?Number(l)*24/Number(i):l,className:o0("lucide",u),...!f&&!uS(y)&&{"aria-hidden":"true"},...y},[...h.map(([m,w])=>O.createElement(m,w)),...Array.isArray(f)?f:[f]]));const Jt=(n,i)=>{const l=O.forwardRef(({className:o,...u},f)=>O.createElement(cS,{ref:f,iconNode:i,className:o0(`lucide-${lS(Mg(n))}`,`lucide-${n}`,o),...u}));return l.displayName=Mg(n),l};const fS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],s0=Jt("arrow-left",fS);const dS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hS=Jt("arrow-right",dS);const pS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],mS=Jt("chart-column",pS);const yS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ih=Jt("check",yS);const gS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vS=Jt("chevron-down",gS);const bS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xS=Jt("chevron-right",bS);const wS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],SS=Jt("circle-x",wS);const _S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],ES=Jt("clock",_S);const NS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],CS=Jt("copy",NS);const AS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jS=Jt("download",AS);const MS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Sh=Jt("external-link",MS);const TS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],DS=Jt("file-text",TS);const zS=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],OS=Jt("grip-vertical",zS);const kS=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Gh=Jt("inbox",kS);const RS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],BS=Jt("pencil",RS);const HS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ol=Jt("plus",HS);const LS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],u0=Jt("search",LS);const US=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qS=Jt("square-check-big",US);const VS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],YS=Jt("target",VS);const KS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Yc=Jt("trash-2",KS);const $S=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uo=Jt("triangle-alert",$S);const XS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kc=Jt("x",XS);const IS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_h=Jt("zap",IS);var wc={exports:{}},GS=wc.exports,Tg;function ZS(){return Tg||(Tg=1,(function(n,i){((l,o)=>{n.exports=o()})(GS,function(){var l=function(s,p){return(l=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(v,S){v.__proto__=S}:function(v,S){for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&(v[N]=S[N])}))(s,p)},o=function(){return(o=Object.assign||function(s){for(var p,v=1,S=arguments.length;v<S;v++)for(var N in p=arguments[v])Object.prototype.hasOwnProperty.call(p,N)&&(s[N]=p[N]);return s}).apply(this,arguments)};function u(s,p,v){for(var S,N=0,M=p.length;N<M;N++)!S&&N in p||((S=S||Array.prototype.slice.call(p,0,N))[N]=p[N]);return s.concat(S||Array.prototype.slice.call(p))}var f=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:y1,h=Object.keys,y=Array.isArray;function b(s,p){return typeof p=="object"&&h(p).forEach(function(v){s[v]=p[v]}),s}typeof Promise>"u"||f.Promise||(f.Promise=Promise);var m=Object.getPrototypeOf,w={}.hasOwnProperty;function x(s,p){return w.call(s,p)}function _(s,p){typeof p=="function"&&(p=p(m(s))),(typeof Reflect>"u"?h:Reflect.ownKeys)(p).forEach(function(v){C(s,v,p[v])})}var j=Object.defineProperty;function C(s,p,v,S){j(s,p,b(v&&x(v,"get")&&typeof v.get=="function"?{get:v.get,set:v.set,configurable:!0}:{value:v,configurable:!0,writable:!0},S))}function D(s){return{from:function(p){return s.prototype=Object.create(p.prototype),C(s.prototype,"constructor",s),{extend:_.bind(null,s.prototype)}}}}var T=Object.getOwnPropertyDescriptor,k=[].slice;function z(s,p,v){return k.call(s,p,v)}function A(s,p){return p(s)}function B(s){if(!s)throw new Error("Assertion Failed")}function G(s){f.setImmediate?setImmediate(s):setTimeout(s,0)}function V(s,p){if(typeof p=="string"&&x(s,p))return s[p];if(!p)return s;if(typeof p!="string"){for(var v=[],S=0,N=p.length;S<N;++S){var M=V(s,p[S]);v.push(M)}return v}var H,q=p.indexOf(".");return q===-1||(H=s[p.substr(0,q)])==null?void 0:V(H,p.substr(q+1))}function Y(s,p,v){if(s&&p!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof p!="string"&&"length"in p){B(typeof v!="string"&&"length"in v);for(var S=0,N=p.length;S<N;++S)Y(s,p[S],v[S])}else{var M,H,q=p.indexOf(".");q!==-1?(M=p.substr(0,q),(q=p.substr(q+1))===""?v===void 0?y(s)&&!isNaN(parseInt(M))?s.splice(M,1):delete s[M]:s[M]=v:Y(H=(H=s[M])&&x(s,M)?H:s[M]={},q,v)):v===void 0?y(s)&&!isNaN(parseInt(p))?s.splice(p,1):delete s[p]:s[p]=v}}function de(s){var p,v={};for(p in s)x(s,p)&&(v[p]=s[p]);return v}var he=[].concat;function Te(s){return he.apply([],s)}var I="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Te([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(p){return p+s+"Array"})}))).filter(function(s){return f[s]}),le=new Set(I.map(function(s){return f[s]})),ae=null;function Ee(s){return ae=new WeakMap,s=(function p(v){if(!v||typeof v!="object")return v;var S=ae.get(v);if(S)return S;if(y(v)){S=[],ae.set(v,S);for(var N=0,M=v.length;N<M;++N)S.push(p(v[N]))}else if(le.has(v.constructor))S=v;else{var H,q=m(v);for(H in S=q===Object.prototype?{}:Object.create(q),ae.set(v,S),v)x(v,H)&&(S[H]=p(v[H]))}return S})(s),ae=null,s}var K={}.toString;function oe(s){return K.call(s).slice(8,-1)}var U=typeof Symbol<"u"?Symbol.iterator:"@@iterator",X=typeof U=="symbol"?function(s){var p;return s!=null&&(p=s[U])&&p.apply(s)}:function(){return null};function Z(s,p){p=s.indexOf(p),0<=p&&s.splice(p,1)}var se={};function xe(s){var p,v,S,N;if(arguments.length===1){if(y(s))return s.slice();if(this===se&&typeof s=="string")return[s];if(N=X(s))for(v=[];!(S=N.next()).done;)v.push(S.value);else{if(s==null)return[s];if(typeof(p=s.length)!="number")return[s];for(v=new Array(p);p--;)v[p]=s[p]}}else for(p=arguments.length,v=new Array(p);p--;)v[p]=arguments[p];return v}var L=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},I=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],qt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(I),_e={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Se(s,p){this.name=s,this.message=p}function Be(s,p){return s+". Errors: "+Object.keys(p).map(function(v){return p[v].toString()}).filter(function(v,S,N){return N.indexOf(v)===S}).join(`
`)}function Le(s,p,v,S){this.failures=p,this.failedKeys=S,this.successCount=v,this.message=Be(s,p)}function He(s,p){this.name="BulkError",this.failures=Object.keys(p).map(function(v){return p[v]}),this.failuresByPos=p,this.message=Be(s,this.failures)}D(Se).from(Error).extend({toString:function(){return this.name+": "+this.message}}),D(Le).from(Se),D(He).from(Se);var De=qt.reduce(function(s,p){return s[p]=p+"Error",s},{}),qe=Se,ze=qt.reduce(function(s,p){var v=p+"Error";function S(N,M){this.name=v,N?typeof N=="string"?(this.message="".concat(N).concat(M?`
 `+M:""),this.inner=M||null):typeof N=="object"&&(this.message="".concat(N.name," ").concat(N.message),this.inner=N):(this.message=_e[p]||v,this.inner=null)}return D(S).from(qe),s[p]=S,s},{}),lt=(ze.Syntax=SyntaxError,ze.Type=TypeError,ze.Range=RangeError,I.reduce(function(s,p){return s[p+"Error"]=ze[p],s},{}));I=qt.reduce(function(s,p){return["Syntax","Type","Range"].indexOf(p)===-1&&(s[p+"Error"]=ze[p]),s},{});function Ue(){}function Ae(s){return s}function Ke(s,p){return s==null||s===Ae?p:function(v){return p(s(v))}}function Ge(s,p){return function(){s.apply(this,arguments),p.apply(this,arguments)}}function ie(s,p){return s===Ue?p:function(){var v=s.apply(this,arguments),S=(v!==void 0&&(arguments[0]=v),this.onsuccess),N=this.onerror,M=(this.onsuccess=null,this.onerror=null,p.apply(this,arguments));return S&&(this.onsuccess=this.onsuccess?Ge(S,this.onsuccess):S),N&&(this.onerror=this.onerror?Ge(N,this.onerror):N),M!==void 0?M:v}}function ye(s,p){return s===Ue?p:function(){s.apply(this,arguments);var v=this.onsuccess,S=this.onerror;this.onsuccess=this.onerror=null,p.apply(this,arguments),v&&(this.onsuccess=this.onsuccess?Ge(v,this.onsuccess):v),S&&(this.onerror=this.onerror?Ge(S,this.onerror):S)}}function Xe(s,p){return s===Ue?p:function(N){var S=s.apply(this,arguments),N=(b(N,S),this.onsuccess),M=this.onerror,H=(this.onsuccess=null,this.onerror=null,p.apply(this,arguments));return N&&(this.onsuccess=this.onsuccess?Ge(N,this.onsuccess):N),M&&(this.onerror=this.onerror?Ge(M,this.onerror):M),S===void 0?H===void 0?void 0:H:b(S,H)}}function et(s,p){return s===Ue?p:function(){return p.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function Fe(s,p){return s===Ue?p:function(){var v=s.apply(this,arguments);if(v&&typeof v.then=="function"){for(var S=this,N=arguments.length,M=new Array(N);N--;)M[N]=arguments[N];return v.then(function(){return p.apply(S,M)})}return p.apply(this,arguments)}}I.ModifyError=Le,I.DexieError=Se,I.BulkError=He;var Je=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ct(s){Je=s}var Ut={},Wt=100,kn=typeof Promise>"u"?[]:(qt=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[kn=crypto.subtle.digest("SHA-512",new Uint8Array([0])),m(kn),qt]:[qt,m(qt),qt]),qt=kn[0],wi=kn[1],wi=wi&&wi.then,zt=qt&&qt.constructor,wa=!!kn[2],ei=function(s,p){ti.push([s,p]),Ii&&(queueMicrotask(dl),Ii=!1)},Ha=!0,Ii=!0,Sa=[],ia=[],dn=Ae,hn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ue,pgp:!1,env:{},finalize:Ue},Ze=hn,ti=[],_a=0,Gi=[];function $e(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var p=this._PSD=Ze;if(typeof s!="function"){if(s!==Ut)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&In(this,this._value)}else this._state=null,this._value=null,++p.ref,(function v(S,N){try{N(function(M){if(S._state===null){if(M===S)throw new TypeError("A promise cannot be resolved with itself.");var H=S._lib&&ra();M&&typeof M.then=="function"?v(S,function(q,P){M instanceof $e?M._then(q,P):M.then(q,P)}):(S._state=!0,S._value=M,ai(S)),H&&Rn()}},In.bind(null,S))}catch(M){In(S,M)}})(this,s)}var La={get:function(){var s=Ze,p=li;function v(S,N){var M=this,H=!s.global&&(s!==Ze||p!==li),q=H&&!yn(),P=new $e(function(ue,F){Ea(M,new ni(Zi(S,s,H,q),Zi(N,s,H,q),ue,F,s))});return this._consoleTask&&(P._consoleTask=this._consoleTask),P}return v.prototype=Ut,v},set:function(s){C(this,"then",s&&s.prototype===Ut?La:{get:function(){return s},set:La.set})}};function ni(s,p,v,S,N){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof p=="function"?p:null,this.resolve=v,this.reject=S,this.psd=N}function In(s,p){var v,S;ia.push(p),s._state===null&&(v=s._lib&&ra(),p=dn(p),s._state=!1,s._value=p,S=s,Sa.some(function(N){return N._value===S._value})||Sa.push(S),ai(s),v)&&Rn()}function ai(s){var p=s._listeners;s._listeners=[];for(var v=0,S=p.length;v<S;++v)Ea(s,p[v]);var N=s._PSD;--N.ref||N.finalize(),_a===0&&(++_a,ei(function(){--_a==0&&Or()},[]))}function Ea(s,p){if(s._state===null)s._listeners.push(p);else{var v=s._state?p.onFulfilled:p.onRejected;if(v===null)return(s._state?p.resolve:p.reject)(s._value);++p.psd.ref,++_a,ei(_o,[v,s,p])}}function _o(s,p,v){try{var S,N=p._value;!p._state&&ia.length&&(ia=[]),S=Je&&p._consoleTask?p._consoleTask.run(function(){return s(N)}):s(N),p._state||ia.indexOf(N)!==-1||(M=>{for(var H=Sa.length;H;)if(Sa[--H]._value===M._value)return Sa.splice(H,1)})(p),v.resolve(S)}catch(M){v.reject(M)}finally{--_a==0&&Or(),--v.psd.ref||v.psd.finalize()}}function dl(){Dn(hn,function(){ra()&&Rn()})}function ra(){var s=Ha;return Ii=Ha=!1,s}function Rn(){var s,p,v;do for(;0<ti.length;)for(s=ti,ti=[],v=s.length,p=0;p<v;++p){var S=s[p];S[0].apply(null,S[1])}while(0<ti.length);Ii=Ha=!0}function Or(){for(var s=Sa,p=(Sa=[],s.forEach(function(S){S._PSD.onunhandled.call(null,S._value,S)}),Gi.slice(0)),v=p.length;v;)p[--v]()}function ii(s){return new $e(Ut,!1,s)}function Mt(s,p){var v=Ze;return function(){var S=ra(),N=Ze;try{return oa(v,!0),s.apply(this,arguments)}catch(M){p&&p(M)}finally{oa(N,!1),S&&Rn()}}}_($e.prototype,{then:La,_then:function(s,p){Ea(this,new ni(null,null,s,p,Ze))},catch:function(s){var p,v;return arguments.length===1?this.then(null,s):(p=s,v=arguments[1],typeof p=="function"?this.then(null,function(S){return(S instanceof p?v:ii)(S)}):this.then(null,function(S){return(S&&S.name===p?v:ii)(S)}))},finally:function(s){return this.then(function(p){return $e.resolve(s()).then(function(){return p})},function(p){return $e.resolve(s()).then(function(){return ii(p)})})},timeout:function(s,p){var v=this;return s<1/0?new $e(function(S,N){var M=setTimeout(function(){return N(new ze.Timeout(p))},s);v.then(S,N).finally(clearTimeout.bind(null,M))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C($e.prototype,Symbol.toStringTag,"Dexie.Promise"),hn.env=Rr(),_($e,{all:function(){var s=xe.apply(null,arguments).map(Na);return new $e(function(p,v){s.length===0&&p([]);var S=s.length;s.forEach(function(N,M){return $e.resolve(N).then(function(H){s[M]=H,--S||p(s)},v)})})},resolve:function(s){return s instanceof $e?s:s&&typeof s.then=="function"?new $e(function(p,v){s.then(p,v)}):new $e(Ut,!0,s)},reject:ii,race:function(){var s=xe.apply(null,arguments).map(Na);return new $e(function(p,v){s.map(function(S){return $e.resolve(S).then(p,v)})})},PSD:{get:function(){return Ze},set:function(s){return Ze=s}},totalEchoes:{get:function(){return li}},newPSD:Ot,usePSD:Dn,scheduler:{get:function(){return ei},set:function(s){ei=s}},rejectionMapper:{get:function(){return dn},set:function(s){dn=s}},follow:function(s,p){return new $e(function(v,S){return Ot(function(N,M){var H=Ze;H.unhandleds=[],H.onunhandled=M,H.finalize=Ge(function(){var q,P=this;q=function(){P.unhandleds.length===0?N():M(P.unhandleds[0])},Gi.push(function ue(){q(),Gi.splice(Gi.indexOf(ue),1)}),++_a,ei(function(){--_a==0&&Or()},[])},H.finalize),s()},p,v,S)})}}),zt&&(zt.allSettled&&C($e,"allSettled",function(){var s=xe.apply(null,arguments).map(Na);return new $e(function(p){s.length===0&&p([]);var v=s.length,S=new Array(v);s.forEach(function(N,M){return $e.resolve(N).then(function(H){return S[M]={status:"fulfilled",value:H}},function(H){return S[M]={status:"rejected",reason:H}}).then(function(){return--v||p(S)})})})}),zt.any&&typeof AggregateError<"u"&&C($e,"any",function(){var s=xe.apply(null,arguments).map(Na);return new $e(function(p,v){s.length===0&&v(new AggregateError([]));var S=s.length,N=new Array(S);s.forEach(function(M,H){return $e.resolve(M).then(function(q){return p(q)},function(q){N[H]=q,--S||v(new AggregateError(N))})})})}),zt.withResolvers)&&($e.withResolvers=zt.withResolvers);var Zt={awaits:0,echoes:0,id:0},kr=0,Ua=[],ri=0,li=0,la=0;function Ot(s,H,v,S){var N=Ze,M=Object.create(N),H=(M.parent=N,M.ref=0,M.global=!1,M.id=++la,hn.env,M.env=wa?{Promise:$e,PromiseProp:{value:$e,configurable:!0,writable:!0},all:$e.all,race:$e.race,allSettled:$e.allSettled,any:$e.any,resolve:$e.resolve,reject:$e.reject}:{},H&&b(M,H),++N.ref,M.finalize=function(){--this.parent.ref||this.parent.finalize()},Dn(M,s,v,S));return M.ref===0&&M.finalize(),H}function Qt(){return Zt.id||(Zt.id=++kr),++Zt.awaits,Zt.echoes+=Wt,Zt.id}function yn(){return!!Zt.awaits&&(--Zt.awaits==0&&(Zt.id=0),Zt.echoes=Zt.awaits*Wt,!0)}function Na(s){return Zt.echoes&&s&&s.constructor===zt?(Qt(),s.then(function(p){return yn(),p},function(p){return yn(),At(p)})):s}function hl(){var s=Ua[Ua.length-1];Ua.pop(),oa(s,!1)}function oa(s,p){var v,S,N=Ze;(p?!Zt.echoes||ri++&&s===Ze:!ri||--ri&&s===Ze)||queueMicrotask(p?(function(M){++li,Zt.echoes&&--Zt.echoes!=0||(Zt.echoes=Zt.awaits=Zt.id=0),Ua.push(Ze),oa(M,!0)}).bind(null,s):hl),s!==Ze&&(Ze=s,N===hn&&(hn.env=Rr()),wa)&&(v=hn.env.Promise,S=s.env,N.global||s.global)&&(Object.defineProperty(f,"Promise",S.PromiseProp),v.all=S.all,v.race=S.race,v.resolve=S.resolve,v.reject=S.reject,S.allSettled&&(v.allSettled=S.allSettled),S.any)&&(v.any=S.any)}function Rr(){var s=f.Promise;return wa?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function Dn(s,p,v,S,N){var M=Ze;try{return oa(s,!0),p(v,S,N)}finally{oa(M,!1)}}function Zi(s,p,v,S){return typeof s!="function"?s:function(){var N=Ze;v&&Qt(),oa(p,!0);try{return s.apply(this,arguments)}finally{oa(N,!1),S&&queueMicrotask(yn)}}}function sa(s){Promise===zt&&Zt.echoes===0?ri===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+wi).indexOf("[native code]")===-1&&(Qt=yn=Ue);var At=$e.reject,Cn="",gn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Pt="String expected.",Ca=[],oi="__dbnames",Gn="readonly",ua="readwrite";function Aa(s,p){return s?p?function(){return s.apply(this,arguments)&&p.apply(this,arguments)}:s:p}var Qi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function si(s){return typeof s!="string"||/\./.test(s)?function(p){return p}:function(p){return p[s]===void 0&&s in p&&delete(p=Ee(p))[s],p}}function pl(){throw ze.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ft(s,p){try{var v=ui(s),S=ui(p);if(v!==S)return v==="Array"?1:S==="Array"?-1:v==="binary"?1:S==="binary"?-1:v==="string"?1:S==="string"?-1:v==="Date"?1:S!=="Date"?NaN:-1;switch(v){case"number":case"Date":case"string":return p<s?1:s<p?-1:0;case"binary":for(var N=Bn(s),M=Bn(p),H=N.length,q=M.length,P=H<q?H:q,ue=0;ue<P;++ue)if(N[ue]!==M[ue])return N[ue]<M[ue]?-1:1;return H===q?0:H<q?-1:1;case"Array":for(var F=s,Q=p,ee=F.length,ne=Q.length,J=ee<ne?ee:ne,W=0;W<J;++W){var fe=ft(F[W],Q[W]);if(fe!==0)return fe}return ee===ne?0:ee<ne?-1:1}}catch{}return NaN}function ui(s){var p=typeof s;return p=="object"&&(ArrayBuffer.isView(s)||(p=oe(s))==="ArrayBuffer")?"binary":p}function Bn(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function pn(s,p,v){var S=s.schema.yProps;return S?(p&&0<v.numFailures&&(p=p.filter(function(N,M){return!v.failures[M]})),Promise.all(S.map(function(N){return N=N.updatesTable,p?s.db.table(N).where("k").anyOf(p).delete():s.db.table(N).clear()})).then(function(){return v})):v}ml.prototype.execute=function(s){var p=this["@@propmod"];if(p.add!==void 0){var v=p.add;if(y(v))return u(u([],y(s)?s:[],!0),v).sort();if(typeof v=="number")return(Number(s)||0)+v;if(typeof v=="bigint")try{return BigInt(s)+v}catch{return BigInt(0)+v}throw new TypeError("Invalid term ".concat(v))}if(p.remove!==void 0){var S=p.remove;if(y(S))return y(s)?s.filter(function(N){return!S.includes(N)}).sort():[];if(typeof S=="number")return Number(s)-S;if(typeof S=="bigint")try{return BigInt(s)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return v=(v=p.replacePrefix)==null?void 0:v[0],v&&typeof s=="string"&&s.startsWith(v)?p.replacePrefix[1]+s.substring(v.length):s};var qa=ml;function ml(s){this["@@propmod"]=s}function ci(s,p){for(var v=h(p),S=v.length,N=!1,M=0;M<S;++M){var H=v[M],q=p[H],P=V(s,H);q instanceof qa?(Y(s,H,q.execute(P)),N=!0):P!==q&&(Y(s,H,q),N=!0)}return N}wt.prototype._trans=function(s,p,v){var S=this._tx||Ze.trans,N=this.name,M=Je&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function H(ue,F,Q){if(Q.schema[N])return p(Q.idbtrans,Q);throw new ze.NotFound("Table "+N+" not part of transaction")}var q=ra();try{var P=S&&S.db._novip===this.db._novip?S===Ze.trans?S._promise(s,H,v):Ot(function(){return S._promise(s,H,v)},{trans:S,transless:Ze.transless||Ze}):(function ue(F,Q,ee,ne){if(F.idbdb&&(F._state.openComplete||Ze.letThrough||F._vip)){var J=F._createTransaction(Q,ee,F._dbSchema);try{J.create(),F._state.PR1398_maxLoop=3}catch(W){return W.name===De.InvalidState&&F.isOpen()&&0<--F._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),F.close({disableAutoOpen:!1}),F.open().then(function(){return ue(F,Q,ee,ne)})):At(W)}return J._promise(Q,function(W,fe){return Ot(function(){return Ze.trans=J,ne(W,fe,J)})}).then(function(W){if(Q==="readwrite")try{J.idbtrans.commit()}catch{}return Q==="readonly"?W:J._completion.then(function(){return W})})}if(F._state.openComplete)return At(new ze.DatabaseClosed(F._state.dbOpenError));if(!F._state.isBeingOpened){if(!F._state.autoOpen)return At(new ze.DatabaseClosed);F.open().catch(Ue)}return F._state.dbReadyPromise.then(function(){return ue(F,Q,ee,ne)})})(this.db,s,[this.name],H);return M&&(P._consoleTask=M,P=P.catch(function(ue){return console.trace(ue),At(ue)})),P}finally{q&&Rn()}},wt.prototype.get=function(s,p){var v=this;return s&&s.constructor===Object?this.where(s).first(p):s==null?At(new ze.Type("Invalid argument to Table.get()")):this._trans("readonly",function(S){return v.core.get({trans:S,key:s}).then(function(N){return v.hook.reading.fire(N)})}).then(p)},wt.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(y(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var p=h(s);if(p.length===1)return this.where(p[0]).equals(s[p[0]]);var v=this.schema.indexes.concat(this.schema.primKey).filter(function(q){if(q.compound&&p.every(function(ue){return 0<=q.keyPath.indexOf(ue)})){for(var P=0;P<p.length;++P)if(p.indexOf(q.keyPath[P])===-1)return!1;return!0}return!1}).sort(function(q,P){return q.keyPath.length-P.keyPath.length})[0];if(v&&this.db._maxKey!==Cn)return H=v.keyPath.slice(0,p.length),this.where(H).equals(H.map(function(q){return s[q]}));!v&&Je&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(p.join("+"),"]"));var S=this.schema.idxByName;function N(q,P){return ft(q,P)===0}var H=p.reduce(function(F,P){var ue=F[0],F=F[1],Q=S[P],ee=s[P];return[ue||Q,ue||!Q?Aa(F,Q&&Q.multi?function(ne){return ne=V(ne,P),y(ne)&&ne.some(function(J){return N(ee,J)})}:function(ne){return N(ee,V(ne,P))}):F]},[null,null]),M=H[0],H=H[1];return M?this.where(M.name).equals(s[M.keyPath]).filter(H):v?this.filter(H):this.where(p).equals("")},wt.prototype.filter=function(s){return this.toCollection().and(s)},wt.prototype.count=function(s){return this.toCollection().count(s)},wt.prototype.offset=function(s){return this.toCollection().offset(s)},wt.prototype.limit=function(s){return this.toCollection().limit(s)},wt.prototype.each=function(s){return this.toCollection().each(s)},wt.prototype.toArray=function(s){return this.toCollection().toArray(s)},wt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},wt.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,y(s)?"[".concat(s.join("+"),"]"):s))},wt.prototype.reverse=function(){return this.toCollection().reverse()},wt.prototype.mapToClass=function(s){for(var p=this.db,v=this.name,S=((this.schema.mappedClass=s).prototype instanceof pl&&(s=(H=>{var q=F,P=H;if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function ue(){this.constructor=q}function F(){return H!==null&&H.apply(this,arguments)||this}return l(q,P),q.prototype=P===null?Object.create(P):(ue.prototype=P.prototype,new ue),Object.defineProperty(F.prototype,"db",{get:function(){return p},enumerable:!1,configurable:!0}),F.prototype.table=function(){return v},F})(s)),new Set),N=s.prototype;N;N=m(N))Object.getOwnPropertyNames(N).forEach(function(H){return S.add(H)});function M(H){if(!H)return H;var q,P=Object.create(s.prototype);for(q in H)if(!S.has(q))try{P[q]=H[q]}catch{}return P}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=M,this.hook("reading",M),s},wt.prototype.defineClass=function(){return this.mapToClass(function(s){b(this,s)})},wt.prototype.add=function(s,p){var v=this,S=this.schema.primKey,N=S.auto,M=S.keyPath,H=s;return M&&N&&(H=si(M)(s)),this._trans("readwrite",function(q){return v.core.mutate({trans:q,type:"add",keys:p!=null?[p]:null,values:[H]})}).then(function(q){return q.numFailures?$e.reject(q.failures[0]):q.lastResult}).then(function(q){if(M)try{Y(s,M,q)}catch{}return q})},wt.prototype.upsert=function(s,p){var v=this,S=this.schema.primKey.keyPath;return this._trans("readwrite",function(N){return v.core.get({trans:N,key:s}).then(function(M){var H=M??{};return ci(H,p),S&&Y(H,S,s),v.core.mutate({trans:N,type:"put",values:[H],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[p]}}).then(function(q){return q.numFailures?$e.reject(q.failures[0]):!!M})})})},wt.prototype.update=function(s,p){return typeof s!="object"||y(s)?this.where(":id").equals(s).modify(p):(s=V(s,this.schema.primKey.keyPath))===void 0?At(new ze.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(p)},wt.prototype.put=function(s,p){var v=this,S=this.schema.primKey,N=S.auto,M=S.keyPath,H=s;return M&&N&&(H=si(M)(s)),this._trans("readwrite",function(q){return v.core.mutate({trans:q,type:"put",values:[H],keys:p!=null?[p]:null})}).then(function(q){return q.numFailures?$e.reject(q.failures[0]):q.lastResult}).then(function(q){if(M)try{Y(s,M,q)}catch{}return q})},wt.prototype.delete=function(s){var p=this;return this._trans("readwrite",function(v){return p.core.mutate({trans:v,type:"delete",keys:[s]}).then(function(S){return pn(p,[s],S)}).then(function(S){return S.numFailures?$e.reject(S.failures[0]):void 0})})},wt.prototype.clear=function(){var s=this;return this._trans("readwrite",function(p){return s.core.mutate({trans:p,type:"deleteRange",range:Qi}).then(function(v){return pn(s,null,v)})}).then(function(p){return p.numFailures?$e.reject(p.failures[0]):void 0})},wt.prototype.bulkGet=function(s){var p=this;return this._trans("readonly",function(v){return p.core.getMany({keys:s,trans:v}).then(function(S){return S.map(function(N){return p.hook.reading.fire(N)})})})},wt.prototype.bulkAdd=function(s,p,v){var S=this,N=Array.isArray(p)?p:void 0,M=(v=v||(N?void 0:p))?v.allKeys:void 0;return this._trans("readwrite",function(H){var q=S.schema.primKey,ue=q.auto,q=q.keyPath;if(q&&N)throw new ze.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(N&&N.length!==s.length)throw new ze.InvalidArgument("Arguments objects and keys must have the same length");var P=s.length,ue=q&&ue?s.map(si(q)):s;return S.core.mutate({trans:H,type:"add",keys:N,values:ue,wantResults:M}).then(function(F){var Q=F.numFailures,ee=F.failures;if(Q===0)return M?F.results:F.lastResult;throw new He("".concat(S.name,".bulkAdd(): ").concat(Q," of ").concat(P," operations failed"),ee)})})},wt.prototype.bulkPut=function(s,p,v){var S=this,N=Array.isArray(p)?p:void 0,M=(v=v||(N?void 0:p))?v.allKeys:void 0;return this._trans("readwrite",function(H){var q=S.schema.primKey,ue=q.auto,q=q.keyPath;if(q&&N)throw new ze.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(N&&N.length!==s.length)throw new ze.InvalidArgument("Arguments objects and keys must have the same length");var P=s.length,ue=q&&ue?s.map(si(q)):s;return S.core.mutate({trans:H,type:"put",keys:N,values:ue,wantResults:M}).then(function(F){var Q=F.numFailures,ee=F.failures;if(Q===0)return M?F.results:F.lastResult;throw new He("".concat(S.name,".bulkPut(): ").concat(Q," of ").concat(P," operations failed"),ee)})})},wt.prototype.bulkUpdate=function(s){var p=this,v=this.core,S=s.map(function(H){return H.key}),N=s.map(function(H){return H.changes}),M=[];return this._trans("readwrite",function(H){return v.getMany({trans:H,keys:S,cache:"clone"}).then(function(q){var P=[],ue=[],F=(s.forEach(function(Q,ee){var ne=Q.key,J=Q.changes,W=q[ee];if(W){for(var fe=0,ge=Object.keys(J);fe<ge.length;fe++){var ce=ge[fe],Ne=J[ce];if(ce===p.schema.primKey.keyPath){if(ft(Ne,ne)!==0)throw new ze.Constraint("Cannot update primary key in bulkUpdate()")}else Y(W,ce,Ne)}M.push(ee),P.push(ne),ue.push(W)}}),P.length);return v.mutate({trans:H,type:"put",keys:P,values:ue,updates:{keys:S,changeSpecs:N}}).then(function(Q){var ee=Q.numFailures,ne=Q.failures;if(ee===0)return F;for(var J=0,W=Object.keys(ne);J<W.length;J++){var fe,ge=W[J],ce=M[Number(ge)];ce!=null&&(fe=ne[ge],delete ne[ge],ne[ce]=fe)}throw new He("".concat(p.name,".bulkUpdate(): ").concat(ee," of ").concat(F," operations failed"),ne)})})})},wt.prototype.bulkDelete=function(s){var p=this,v=s.length;return this._trans("readwrite",function(S){return p.core.mutate({trans:S,type:"delete",keys:s}).then(function(N){return pn(p,s,N)})}).then(function(S){var N=S.numFailures,M=S.failures;if(N===0)return S.lastResult;throw new He("".concat(p.name,".bulkDelete(): ").concat(N," of ").concat(v," operations failed"),M)})};var Br=wt;function wt(){}function fi(s){function p(H,q){if(q){for(var P=arguments.length,ue=new Array(P-1);--P;)ue[P-1]=arguments[P];return v[H].subscribe.apply(null,ue),s}if(typeof H=="string")return v[H]}var v={};p.addEventType=M;for(var S=1,N=arguments.length;S<N;++S)M(arguments[S]);return p;function M(H,q,P){var ue,F;if(typeof H!="object")return q=q||et,F={subscribers:[],fire:P=P||Ue,subscribe:function(Q){F.subscribers.indexOf(Q)===-1&&(F.subscribers.push(Q),F.fire=q(F.fire,Q))},unsubscribe:function(Q){F.subscribers=F.subscribers.filter(function(ee){return ee!==Q}),F.fire=F.subscribers.reduce(q,P)}},v[H]=p[H]=F;h(ue=H).forEach(function(Q){var ee=ue[Q];if(y(ee))M(Q,ue[Q][0],ue[Q][1]);else{if(ee!=="asap")throw new ze.InvalidArgument("Invalid event config");var ne=M(Q,Ae,function(){for(var J=arguments.length,W=new Array(J);J--;)W[J]=arguments[J];ne.subscribers.forEach(function(fe){G(function(){fe.apply(null,W)})})})}})}}function rn(s,p){return D(p).from({prototype:s}),p}function Hn(s,p){return!(s.filter||s.algorithm||s.or)&&(p?s.justLimit:!s.replayFilter)}function Pi(s,p){s.filter=Aa(s.filter,p)}function di(s,p,v){var S=s.replayFilter;s.replayFilter=S?function(){return Aa(S(),p())}:p,s.justLimit=v&&!S}function Ln(s,p){if(s.isPrimKey)return p.primaryKey;var v=p.getIndexByKeyPath(s.index);if(v)return v;throw new ze.Schema("KeyPath "+s.index+" on object store "+p.name+" is not indexed")}function Eo(s,p,v){var S=Ln(s,p.schema);return p.openCursor({trans:v,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:S,range:s.range}})}function Hr(s,p,v,S){var N,M,H=s.replayFilter?Aa(s.filter,s.replayFilter()):s.filter;return s.or?(N={},M=function(q,P,ue){var F,Q;H&&!H(P,ue,function(ee){return P.stop(ee)},function(ee){return P.fail(ee)})||((Q=""+(F=P.primaryKey))=="[object ArrayBuffer]"&&(Q=""+new Uint8Array(F)),x(N,Q))||(N[Q]=!0,p(q,P,ue))},Promise.all([s.or._iterate(M,v),hi(Eo(s,S,v),s.algorithm,M,!s.keysOnly&&s.valueMapper)])):hi(Eo(s,S,v),Aa(s.algorithm,H),p,!s.keysOnly&&s.valueMapper)}function hi(s,p,v,S){var N=Mt(S?function(M,H,q){return v(S(M),H,q)}:v);return s.then(function(M){if(M)return M.start(function(){var H=function(){return M.continue()};p&&!p(M,function(q){return H=q},function(q){M.stop(q),H=Ue},function(q){M.fail(q),H=Ue})||N(M.value,M,function(q){return H=q}),H()})})}bt.prototype._read=function(s,p){var v=this._ctx;return v.error?v.table._trans(null,At.bind(null,v.error)):v.table._trans("readonly",s).then(p)},bt.prototype._write=function(s){var p=this._ctx;return p.error?p.table._trans(null,At.bind(null,p.error)):p.table._trans("readwrite",s,"locked")},bt.prototype._addAlgorithm=function(s){var p=this._ctx;p.algorithm=Aa(p.algorithm,s)},bt.prototype._iterate=function(s,p){return Hr(this._ctx,s,p,this._ctx.table.core)},bt.prototype.clone=function(s){var p=Object.create(this.constructor.prototype),v=Object.create(this._ctx);return s&&b(v,s),p._ctx=v,p},bt.prototype.raw=function(){return this._ctx.valueMapper=null,this},bt.prototype.each=function(s){var p=this._ctx;return this._read(function(v){return Hr(p,s,v,p.table.core)})},bt.prototype.count=function(s){var p=this;return this._read(function(v){var S,N=p._ctx,M=N.table.core;return Hn(N,!0)?M.count({trans:v,query:{index:Ln(N,M.schema),range:N.range}}).then(function(H){return Math.min(H,N.limit)}):(S=0,Hr(N,function(){return++S,!1},v,M).then(function(){return S}))}).then(s)},bt.prototype.sortBy=function(s,p){var v=s.split(".").reverse(),S=v[0],N=v.length-1;function M(P,ue){return ue?M(P[v[ue]],ue-1):P[S]}var H=this._ctx.dir==="next"?1:-1;function q(P,ue){return ft(M(P,N),M(ue,N))*H}return this.toArray(function(P){return P.sort(q)}).then(p)},bt.prototype.toArray=function(s){var p=this;return this._read(function(v){var S,N,M,H=p._ctx;return H.dir==="next"&&Hn(H,!0)&&0<H.limit?(S=H.valueMapper,N=Ln(H,H.table.core.schema),H.table.core.query({trans:v,limit:H.limit,values:!0,query:{index:N,range:H.range}}).then(function(q){return q=q.result,S?q.map(S):q})):(M=[],Hr(H,function(q){return M.push(q)},v,H.table.core).then(function(){return M}))},s)},bt.prototype.offset=function(s){var p=this._ctx;return s<=0||(p.offset+=s,Hn(p)?di(p,function(){var v=s;return function(S,N){return v===0||(v===1?--v:N(function(){S.advance(v),v=0}),!1)}}):di(p,function(){var v=s;return function(){return--v<0}})),this},bt.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),di(this._ctx,function(){var p=s;return function(v,S,N){return--p<=0&&S(N),0<=p}},!0),this},bt.prototype.until=function(s,p){return Pi(this._ctx,function(v,S,N){return!s(v.value)||(S(N),p)}),this},bt.prototype.first=function(s){return this.limit(1).toArray(function(p){return p[0]}).then(s)},bt.prototype.last=function(s){return this.reverse().first(s)},bt.prototype.filter=function(s){var p;return Pi(this._ctx,function(v){return s(v.value)}),(p=this._ctx).isMatch=Aa(p.isMatch,s),this},bt.prototype.and=function(s){return this.filter(s)},bt.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},bt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},bt.prototype.desc=function(){return this.reverse()},bt.prototype.eachKey=function(s){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(v,S){s(S.key,S)})},bt.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},bt.prototype.eachPrimaryKey=function(s){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(v,S){s(S.primaryKey,S)})},bt.prototype.keys=function(s){var p=this._ctx,v=(p.keysOnly=!p.isMatch,[]);return this.each(function(S,N){v.push(N.key)}).then(function(){return v}).then(s)},bt.prototype.primaryKeys=function(s){var p=this._ctx;if(p.dir==="next"&&Hn(p,!0)&&0<p.limit)return this._read(function(S){var N=Ln(p,p.table.core.schema);return p.table.core.query({trans:S,values:!1,limit:p.limit,query:{index:N,range:p.range}})}).then(function(S){return S.result}).then(s);p.keysOnly=!p.isMatch;var v=[];return this.each(function(S,N){v.push(N.primaryKey)}).then(function(){return v}).then(s)},bt.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},bt.prototype.firstKey=function(s){return this.limit(1).keys(function(p){return p[0]}).then(s)},bt.prototype.lastKey=function(s){return this.reverse().firstKey(s)},bt.prototype.distinct=function(){var s,p=this._ctx,p=p.index&&p.table.schema.idxByName[p.index];return p&&p.multi&&(s={},Pi(this._ctx,function(S){var S=S.primaryKey.toString(),N=x(s,S);return s[S]=!0,!N})),this},bt.prototype.modify=function(s){var p=this,v=this._ctx;return this._write(function(S){function N(W,fe){var ge=fe.failures;ee+=W-fe.numFailures;for(var ce=0,Ne=h(ge);ce<Ne.length;ce++){var Oe=Ne[ce];Q.push(ge[Oe])}}var M=typeof s=="function"?s:function(W){return ci(W,s)},H=v.table.core,F=H.schema.primaryKey,q=F.outbound,P=F.extractKey,ue=200,F=p.db._options.modifyChunkSize,Q=(F&&(ue=typeof F=="object"?F[H.name]||F["*"]||200:F),[]),ee=0,ne=[],J=s===No;return p.clone().primaryKeys().then(function(W){function fe(ce){var Ne=Math.min(ue,W.length-ce),Oe=W.slice(ce,ce+Ne);return(J?Promise.resolve([]):H.getMany({trans:S,keys:Oe,cache:"immutable"})).then(function(Ve){var Ye=[],ke=[],Qe=q?[]:null,Ie=J?Oe:[];if(!J)for(var Re=0;Re<Ne;++Re){var Pe=Ve[Re],ot={value:Ee(Pe),primKey:W[ce+Re]};M.call(ot,ot.value,ot)!==!1&&(ot.value==null?Ie.push(W[ce+Re]):q||ft(P(Pe),P(ot.value))===0?(ke.push(ot.value),q&&Qe.push(W[ce+Re])):(Ie.push(W[ce+Re]),Ye.push(ot.value)))}return Promise.resolve(0<Ye.length&&H.mutate({trans:S,type:"add",values:Ye}).then(function(pt){for(var nt in pt.failures)Ie.splice(parseInt(nt),1);N(Ye.length,pt)})).then(function(){return(0<ke.length||ge&&typeof s=="object")&&H.mutate({trans:S,type:"put",keys:Qe,values:ke,criteria:ge,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<ce}).then(function(pt){return N(ke.length,pt)})}).then(function(){return(0<Ie.length||ge&&J)&&H.mutate({trans:S,type:"delete",keys:Ie,criteria:ge,isAdditionalChunk:0<ce}).then(function(pt){return pn(v.table,Ie,pt)}).then(function(pt){return N(Ie.length,pt)})}).then(function(){return W.length>ce+Ne&&fe(ce+ue)})})}var ge=Hn(v)&&v.limit===1/0&&(typeof s!="function"||J)&&{index:v.index,range:v.range};return fe(0).then(function(){if(0<Q.length)throw new Le("Error modifying one or more objects",Q,ee,ne);return W.length})})})},bt.prototype.delete=function(){var s=this._ctx,p=s.range;return!Hn(s)||s.table.schema.yProps||!s.isPrimKey&&p.type!==3?this.modify(No):this._write(function(v){var S=s.table.core.schema.primaryKey,N=p;return s.table.core.count({trans:v,query:{index:S,range:N}}).then(function(M){return s.table.core.mutate({trans:v,type:"deleteRange",range:N}).then(function(P){var q=P.failures,P=P.numFailures;if(P)throw new Le("Could not delete some values",Object.keys(q).map(function(ue){return q[ue]}),M-P);return M-P})})})};var nf=bt;function bt(){}var No=function(s,p){return p.value=null};function Co(s,p){return s<p?-1:s===p?0:1}function af(s,p){return p<s?-1:s===p?0:1}function zn(s,p,v){return s=s instanceof pi?new s.Collection(s):s,s._ctx.error=new(v||TypeError)(p),s}function ja(s){return new s.Collection(s,function(){return yl("")}).limit(0)}function Un(ne,p,v,S){var N,M,H,q,P,ue,F,Q=v.length;if(!v.every(function(W){return typeof W=="string"}))return zn(ne,Pt);function ee(W){N=W==="next"?function(ge){return ge.toUpperCase()}:function(ge){return ge.toLowerCase()},M=W==="next"?function(ge){return ge.toLowerCase()}:function(ge){return ge.toUpperCase()},H=W==="next"?Co:af;var fe=v.map(function(ge){return{lower:M(ge),upper:N(ge)}}).sort(function(ge,ce){return H(ge.lower,ce.lower)});q=fe.map(function(ge){return ge.upper}),P=fe.map(function(ge){return ge.lower}),F=(ue=W)==="next"?"":S}ee("next");var ne=new ne.Collection(ne,function(){return ca(q[0],P[Q-1]+S)}),J=(ne._ondirectionchange=function(W){ee(W)},0);return ne._addAlgorithm(function(W,fe,ge){var ce=W.key;if(typeof ce=="string"){var Ne=M(ce);if(p(Ne,P,J))return!0;for(var Oe=null,Ve=J;Ve<Q;++Ve){var Ye=((ke,Qe,Ie,Re,Pe,ot)=>{for(var pt=Math.min(ke.length,Re.length),nt=-1,st=0;st<pt;++st){var kt=Qe[st];if(kt!==Re[st])return Pe(ke[st],Ie[st])<0?ke.substr(0,st)+Ie[st]+Ie.substr(st+1):Pe(ke[st],Re[st])<0?ke.substr(0,st)+Re[st]+Ie.substr(st+1):0<=nt?ke.substr(0,nt)+Qe[nt]+Ie.substr(nt+1):null;Pe(ke[st],kt)<0&&(nt=st)}return pt<Re.length&&ot==="next"?ke+Ie.substr(ke.length):pt<ke.length&&ot==="prev"?ke.substr(0,Ie.length):nt<0?null:ke.substr(0,nt)+Re[nt]+Ie.substr(nt+1)})(ce,Ne,q[Ve],P[Ve],H,ue);Ye===null&&Oe===null?J=Ve+1:(Oe===null||0<H(Oe,Ye))&&(Oe=Ye)}fe(Oe!==null?function(){W.continue(Oe+F)}:ge)}return!1}),ne}function ca(s,p,v,S){return{type:2,lower:s,upper:p,lowerOpen:v,upperOpen:S}}function yl(s){return{type:1,lower:s,upper:s}}Object.defineProperty(Vt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Vt.prototype.between=function(s,p,v,S){v=v!==!1,S=S===!0;try{return 0<this._cmp(s,p)||this._cmp(s,p)===0&&(v||S)&&(!v||!S)?ja(this):new this.Collection(this,function(){return ca(s,p,!v,!S)})}catch{return zn(this,gn)}},Vt.prototype.equals=function(s){return s==null?zn(this,gn):new this.Collection(this,function(){return yl(s)})},Vt.prototype.above=function(s){return s==null?zn(this,gn):new this.Collection(this,function(){return ca(s,void 0,!0)})},Vt.prototype.aboveOrEqual=function(s){return s==null?zn(this,gn):new this.Collection(this,function(){return ca(s,void 0,!1)})},Vt.prototype.below=function(s){return s==null?zn(this,gn):new this.Collection(this,function(){return ca(void 0,s,!1,!0)})},Vt.prototype.belowOrEqual=function(s){return s==null?zn(this,gn):new this.Collection(this,function(){return ca(void 0,s)})},Vt.prototype.startsWith=function(s){return typeof s!="string"?zn(this,Pt):this.between(s,s+Cn,!0,!0)},Vt.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):Un(this,function(p,v){return p.indexOf(v[0])===0},[s],Cn)},Vt.prototype.equalsIgnoreCase=function(s){return Un(this,function(p,v){return p===v[0]},[s],"")},Vt.prototype.anyOfIgnoreCase=function(){var s=xe.apply(se,arguments);return s.length===0?ja(this):Un(this,function(p,v){return v.indexOf(p)!==-1},s,"")},Vt.prototype.startsWithAnyOfIgnoreCase=function(){var s=xe.apply(se,arguments);return s.length===0?ja(this):Un(this,function(p,v){return v.some(function(S){return p.indexOf(S)===0})},s,Cn)},Vt.prototype.anyOf=function(){var s,p,v=this,S=xe.apply(se,arguments),N=this._cmp;try{S.sort(N)}catch{return zn(this,gn)}return S.length===0?ja(this):((s=new this.Collection(this,function(){return ca(S[0],S[S.length-1])}))._ondirectionchange=function(M){N=M==="next"?v._ascending:v._descending,S.sort(N)},p=0,s._addAlgorithm(function(M,H,q){for(var P=M.key;0<N(P,S[p]);)if(++p===S.length)return H(q),!1;return N(P,S[p])===0||(H(function(){M.continue(S[p])}),!1)}),s)},Vt.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Vt.prototype.noneOf=function(){var s=xe.apply(se,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return zn(this,gn)}var p=s.reduce(function(v,S){return v?v.concat([[v[v.length-1][1],S]]):[[-1/0,S]]},null);return p.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(p,{includeLowers:!1,includeUppers:!1})},Vt.prototype.inAnyRange=function(s,ge){var v=this,S=this._cmp,N=this._ascending,M=this._descending,H=this._min,q=this._max;if(s.length===0)return ja(this);if(!s.every(function(ce){return ce[0]!==void 0&&ce[1]!==void 0&&N(ce[0],ce[1])<=0}))return zn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ze.InvalidArgument);var P=!ge||ge.includeLowers!==!1,ue=ge&&ge.includeUppers===!0,F,Q=N;function ee(ce,Ne){return Q(ce[0],Ne[0])}try{(F=s.reduce(function(ce,Ne){for(var Oe=0,Ve=ce.length;Oe<Ve;++Oe){var Ye=ce[Oe];if(S(Ne[0],Ye[1])<0&&0<S(Ne[1],Ye[0])){Ye[0]=H(Ye[0],Ne[0]),Ye[1]=q(Ye[1],Ne[1]);break}}return Oe===Ve&&ce.push(Ne),ce},[])).sort(ee)}catch{return zn(this,gn)}var ne=0,J=ue?function(ce){return 0<N(ce,F[ne][1])}:function(ce){return 0<=N(ce,F[ne][1])},W=P?function(ce){return 0<M(ce,F[ne][0])}:function(ce){return 0<=M(ce,F[ne][0])},fe=J,ge=new this.Collection(this,function(){return ca(F[0][0],F[F.length-1][1],!P,!ue)});return ge._ondirectionchange=function(ce){Q=ce==="next"?(fe=J,N):(fe=W,M),F.sort(ee)},ge._addAlgorithm(function(ce,Ne,Oe){for(var Ve,Ye=ce.key;fe(Ye);)if(++ne===F.length)return Ne(Oe),!1;return!J(Ve=Ye)&&!W(Ve)||(v._cmp(Ye,F[ne][1])===0||v._cmp(Ye,F[ne][0])===0||Ne(function(){Q===N?ce.continue(F[ne][0]):ce.continue(F[ne][1])}),!1)}),ge},Vt.prototype.startsWithAnyOf=function(){var s=xe.apply(se,arguments);return s.every(function(p){return typeof p=="string"})?s.length===0?ja(this):this.inAnyRange(s.map(function(p){return[p,p+Cn]})):zn(this,"startsWithAnyOf() only works with strings")};var pi=Vt;function Vt(){}function Zn(s){return Mt(function(p){return mi(p),s(p.target.error),!1})}function mi(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var Fi="storagemutated",yi="x-storagemutated-1",vn=fi(null,Fi),Ao=(An.prototype._lock=function(){return B(!Ze.global),++this._reculock,this._reculock!==1||Ze.global||(Ze.lockOwnerFor=this),this},An.prototype._unlock=function(){if(B(!Ze.global),--this._reculock==0)for(Ze.global||(Ze.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{Dn(s[1],s[0])}catch{}}return this},An.prototype._locked=function(){return this._reculock&&Ze.lockOwnerFor!==this},An.prototype.create=function(s){var p=this;if(this.mode){var v=this.db.idbdb,S=this.db._state.dbOpenError;if(B(!this.idbtrans),!s&&!v)switch(S&&S.name){case"DatabaseClosedError":throw new ze.DatabaseClosed(S);case"MissingAPIError":throw new ze.MissingAPI(S.message,S);default:throw new ze.OpenFailed(S)}if(!this.active)throw new ze.TransactionInactive;B(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||v).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Mt(function(N){mi(N),p._reject(s.error)}),s.onabort=Mt(function(N){mi(N),p.active&&p._reject(new ze.Abort(s.error)),p.active=!1,p.on("abort").fire(N)}),s.oncomplete=Mt(function(){p.active=!1,p._resolve(),"mutatedParts"in s&&vn.storagemutated.fire(s.mutatedParts)})}return this},An.prototype._promise=function(s,p,v){var S,N=this;return s==="readwrite"&&this.mode!=="readwrite"?At(new ze.ReadOnly("Transaction is readonly")):this.active?this._locked()?new $e(function(M,H){N._blockedFuncs.push([function(){N._promise(s,p,v).then(M,H)},Ze])}):v?Ot(function(){var M=new $e(function(H,q){N._lock();var P=p(H,q,N);P&&P.then&&P.then(H,q)});return M.finally(function(){return N._unlock()}),M._lib=!0,M}):((S=new $e(function(M,H){var q=p(M,H,N);q&&q.then&&q.then(M,H)}))._lib=!0,S):At(new ze.TransactionInactive)},An.prototype._root=function(){return this.parent?this.parent._root():this},An.prototype.waitFor=function(s){var p,v=this._root(),S=$e.resolve(s),N=(v._waitingFor?v._waitingFor=v._waitingFor.then(function(){return S}):(v._waitingFor=S,v._waitingQueue=[],p=v.idbtrans.objectStore(v.storeNames[0]),(function M(){for(++v._spinCount;v._waitingQueue.length;)v._waitingQueue.shift()();v._waitingFor&&(p.get(-1/0).onsuccess=M)})()),v._waitingFor);return new $e(function(M,H){S.then(function(q){return v._waitingQueue.push(Mt(M.bind(null,q)))},function(q){return v._waitingQueue.push(Mt(H.bind(null,q)))}).finally(function(){v._waitingFor===N&&(v._waitingFor=null)})})},An.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ze.Abort))},An.prototype.table=function(s){var p=this._memoizedTables||(this._memoizedTables={});if(x(p,s))return p[s];var v=this.schema[s];if(v)return(v=new this.db.Table(s,v,this)).core=this.db.core.table(s),p[s]=v;throw new ze.NotFound("Table "+s+" not part of transaction")},An);function An(){}function fa(s,p,v,S,N,M,H,q){return{name:s,keyPath:p,unique:v,multi:S,auto:N,compound:M,src:(v&&!H?"&":"")+(S?"*":"")+(N?"++":"")+gl(p),type:q}}function gl(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Ji(s,p,v){return{name:s,primKey:p,indexes:v,mappedClass:null,idxByName:(S=function(N){return[N.name,N]},v.reduce(function(N,M,H){return M=S(M,H),M&&(N[M[0]]=M[1]),N},{}))};var S}var Wi=function(s){try{return s.only([[]]),Wi=function(){return[[]]},[[]]}catch{return Wi=function(){return Cn},Cn}};function er(s){return s==null?function(){}:typeof s=="string"?(p=s).split(".").length===1?function(v){return v[p]}:function(v){return V(v,p)}:function(v){return V(v,s)};var p}function Lr(s){return[].slice.call(s)}var Js=0;function ln(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function gi(s,p,P){function S(J){if(J.type===3)return null;if(J.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Q=J.lower,ee=J.upper,ne=J.lowerOpen,J=J.upperOpen;return Q===void 0?ee===void 0?null:p.upperBound(ee,!!J):ee===void 0?p.lowerBound(Q,!!ne):p.bound(Q,ee,!!ne,!!J)}function N(F){var Q,ee=F.name;return{name:ee,schema:F,mutate:function(ne){var J=ne.trans,W=ne.type,fe=ne.keys,ge=ne.values,ce=ne.range;return new Promise(function(Ne,Oe){Ne=Mt(Ne);var Ve=J.objectStore(ee),Ye=Ve.keyPath==null,ke=W==="put"||W==="add";if(!ke&&W!=="delete"&&W!=="deleteRange")throw new Error("Invalid operation type: "+W);var Qe,Ie=(fe||ge||{length:1}).length;if(fe&&ge&&fe.length!==ge.length)throw new Error("Given keys array must have same length as given values array.");if(Ie===0)return Ne({numFailures:0,failures:{},results:[],lastResult:void 0});function Re(jt){++pt,mi(jt)}var Pe=[],ot=[],pt=0;if(W==="deleteRange"){if(ce.type===4)return Ne({numFailures:pt,failures:ot,results:[],lastResult:void 0});ce.type===3?Pe.push(Qe=Ve.clear()):Pe.push(Qe=Ve.delete(S(ce)))}else{var Ye=ke?Ye?[ge,fe]:[ge,null]:[fe,null],nt=Ye[0],st=Ye[1];if(ke)for(var kt=0;kt<Ie;++kt)Pe.push(Qe=st&&st[kt]!==void 0?Ve[W](nt[kt],st[kt]):Ve[W](nt[kt])),Qe.onerror=Re;else for(kt=0;kt<Ie;++kt)Pe.push(Qe=Ve[W](nt[kt])),Qe.onerror=Re}function Mn(jt){jt=jt.target.result,Pe.forEach(function($a,lr){return $a.error!=null&&(ot[lr]=$a.error)}),Ne({numFailures:pt,failures:ot,results:W==="delete"?fe:Pe.map(function($a){return $a.result}),lastResult:jt})}Qe.onerror=function(jt){Re(jt),Mn(jt)},Qe.onsuccess=Mn})},getMany:function(ne){var J=ne.trans,W=ne.keys;return new Promise(function(fe,ge){fe=Mt(fe);for(var ce,Ne=J.objectStore(ee),Oe=W.length,Ve=new Array(Oe),Ye=0,ke=0,Qe=function(Pe){Pe=Pe.target,Ve[Pe._pos]=Pe.result,++ke===Ye&&fe(Ve)},Ie=Zn(ge),Re=0;Re<Oe;++Re)W[Re]!=null&&((ce=Ne.get(W[Re]))._pos=Re,ce.onsuccess=Qe,ce.onerror=Ie,++Ye);Ye===0&&fe(Ve)})},get:function(ne){var J=ne.trans,W=ne.key;return new Promise(function(fe,ge){fe=Mt(fe);var ce=J.objectStore(ee).get(W);ce.onsuccess=function(Ne){return fe(Ne.target.result)},ce.onerror=Zn(ge)})},query:(Q=q,function(ne){return new Promise(function(J,W){J=Mt(J);var fe,ge,ce,ke=ne.trans,Ne=ne.values,Oe=ne.limit,Ye=ne.query,Ve=Oe===1/0?void 0:Oe,Qe=Ye.index,Ye=Ye.range,ke=ke.objectStore(ee),ke=Qe.isPrimaryKey?ke:ke.index(Qe.name),Qe=S(Ye);if(Oe===0)return J({result:[]});Q?((Ye=Ne?ke.getAll(Qe,Ve):ke.getAllKeys(Qe,Ve)).onsuccess=function(Ie){return J({result:Ie.target.result})},Ye.onerror=Zn(W)):(fe=0,ge=!Ne&&"openKeyCursor"in ke?ke.openKeyCursor(Qe):ke.openCursor(Qe),ce=[],ge.onsuccess=function(Ie){var Re=ge.result;return!Re||(ce.push(Ne?Re.value:Re.primaryKey),++fe===Oe)?J({result:ce}):void Re.continue()},ge.onerror=Zn(W))})}),openCursor:function(ne){var J=ne.trans,W=ne.values,fe=ne.query,ge=ne.reverse,ce=ne.unique;return new Promise(function(Ne,Oe){Ne=Mt(Ne);var ke=fe.index,Ve=fe.range,Ye=J.objectStore(ee),Ye=ke.isPrimaryKey?Ye:Ye.index(ke.name),ke=ge?ce?"prevunique":"prev":ce?"nextunique":"next",Qe=!W&&"openKeyCursor"in Ye?Ye.openKeyCursor(S(Ve),ke):Ye.openCursor(S(Ve),ke);Qe.onerror=Zn(Oe),Qe.onsuccess=Mt(function(Ie){var Re,Pe,ot,pt,nt=Qe.result;nt?(nt.___id=++Js,nt.done=!1,Re=nt.continue.bind(nt),Pe=(Pe=nt.continuePrimaryKey)&&Pe.bind(nt),ot=nt.advance.bind(nt),pt=function(){throw new Error("Cursor not stopped")},nt.trans=J,nt.stop=nt.continue=nt.continuePrimaryKey=nt.advance=function(){throw new Error("Cursor not started")},nt.fail=Mt(Oe),nt.next=function(){var st=this,kt=1;return this.start(function(){return kt--?st.continue():st.stop()}).then(function(){return st})},nt.start=function(st){function kt(){if(Qe.result)try{st()}catch(jt){nt.fail(jt)}else nt.done=!0,nt.start=function(){throw new Error("Cursor behind last entry")},nt.stop()}var Mn=new Promise(function(jt,$a){jt=Mt(jt),Qe.onerror=Zn($a),nt.fail=$a,nt.stop=function(lr){nt.stop=nt.continue=nt.continuePrimaryKey=nt.advance=pt,jt(lr)}});return Qe.onsuccess=Mt(function(jt){Qe.onsuccess=kt,kt()}),nt.continue=Re,nt.continuePrimaryKey=Pe,nt.advance=ot,kt(),Mn},Ne(nt)):Ne(null)},Oe)})},count:function(ne){var J=ne.query,W=ne.trans,fe=J.index,ge=J.range;return new Promise(function(ce,Ne){var Oe=W.objectStore(ee),Oe=fe.isPrimaryKey?Oe:Oe.index(fe.name),Ve=S(ge),Ve=Ve?Oe.count(Ve):Oe.count();Ve.onsuccess=Mt(function(Ye){return ce(Ye.target.result)}),Ve.onerror=Zn(Ne)})}}}M=P,H=Lr((P=s).objectStoreNames);var M,P={schema:{name:P.name,tables:H.map(function(F){return M.objectStore(F)}).map(function(F){var Q=F.keyPath,ee=F.autoIncrement,J=y(Q),ne={},J={name:F.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Q==null,compound:J,keyPath:Q,autoIncrement:ee,unique:!0,extractKey:er(Q)},indexes:Lr(F.indexNames).map(function(W){return F.index(W)}).map(function(ce){var Ne=ce.name,fe=ce.unique,ge=ce.multiEntry,ce=ce.keyPath,Ne={name:Ne,compound:y(ce),keyPath:ce,unique:fe,multiEntry:ge,extractKey:er(ce)};return ne[ln(ce)]=Ne}),getIndexByKeyPath:function(W){return ne[ln(W)]}};return ne[":id"]=J.primaryKey,Q!=null&&(ne[ln(Q)]=J.primaryKey),J})},hasGetAll:0<H.length&&"getAll"in M.objectStore(H[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},H=P.schema,q=P.hasGetAll,P=H.tables.map(N),ue={};return P.forEach(function(F){return ue[F.name]=F}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(F){if(ue[F])return ue[F];throw new Error("Table '".concat(F,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Wi(p),schema:H}}function vl(s,p,v,S){return v=v.IDBKeyRange,p=gi(p,v,S),{dbcore:s.dbcore.reduce(function(N,M){return M=M.create,o(o({},N),M(N))},p)}}function Va(s,p){var v=p.db,v=vl(s._middlewares,v,s._deps,p);s.core=v.dbcore,s.tables.forEach(function(S){var N=S.name;s.core.schema.tables.some(function(M){return M.name===N})&&(S.core=s.core.table(N),s[N]instanceof s.Table)&&(s[N].core=S.core)})}function bl(s,p,v,S){v.forEach(function(N){var M=S[N];p.forEach(function(H){var q=(function P(ue,F){return T(ue,F)||(ue=m(ue))&&P(ue,F)})(H,N);(!q||"value"in q&&q.value===void 0)&&(H===s.Transaction.prototype||H instanceof s.Transaction?C(H,N,{get:function(){return this.table(N)},set:function(P){j(this,N,{value:P,writable:!0,configurable:!0,enumerable:!0})}}):H[N]=new s.Table(N,M))})})}function Ur(s,p){p.forEach(function(v){for(var S in v)v[S]instanceof s.Table&&delete v[S]})}function jo(s,p){return s._cfg.version-p._cfg.version}function qr(s,p,v,S){var N=s._dbSchema,M=(v.objectStoreNames.contains("$meta")&&!N.$meta&&(N.$meta=Ji("$meta",eu("")[0],[]),s._storeNames.push("$meta")),s._createTransaction("readwrite",s._storeNames,N)),H=(M.create(v),M._completion.catch(S),M._reject.bind(M)),q=Ze.transless||Ze;Ot(function(){if(Ze.trans=M,Ze.transless=q,p!==0)return Va(s,v),ue=p,((P=M).storeNames.includes("$meta")?P.table("$meta").get("version").then(function(F){return F??ue}):$e.resolve(ue)).then(function(fe){var Q=s,ee=fe,ne=M,J=v,W=[],fe=Q._versions,ge=Q._dbSchema=tr(0,Q.idbdb,J);return(fe=fe.filter(function(ce){return ce._cfg.version>=ee})).length===0?$e.resolve():(fe.forEach(function(ce){W.push(function(){var Ne,Oe,Ve,Ye=ge,ke=ce._cfg.dbschema,Qe=(_l(Q,Ye,J),_l(Q,ke,J),ge=Q._dbSchema=ke,wl(Ye,ke)),Ie=(Qe.add.forEach(function(Re){Mo(J,Re[0],Re[1].primKey,Re[1].indexes)}),Qe.change.forEach(function(Re){if(Re.recreate)throw new ze.Upgrade("Not yet support for changing primary key");var Pe=J.objectStore(Re.name);Re.add.forEach(function(ot){return Sl(Pe,ot)}),Re.change.forEach(function(ot){Pe.deleteIndex(ot.name),Sl(Pe,ot)}),Re.del.forEach(function(ot){return Pe.deleteIndex(ot)})}),ce._cfg.contentUpgrade);if(Ie&&ce._cfg.version>ee)return Va(Q,J),ne._memoizedTables={},Ne=de(ke),Qe.del.forEach(function(Re){Ne[Re]=Ye[Re]}),Ur(Q,[Q.Transaction.prototype]),bl(Q,[Q.Transaction.prototype],h(Ne),Ne),ne.schema=Ne,(Oe=L(Ie))&&Qt(),ke=$e.follow(function(){var Re;(Ve=Ie(ne))&&Oe&&(Re=yn.bind(null,null),Ve.then(Re,Re))}),Ve&&typeof Ve.then=="function"?$e.resolve(Ve):ke.then(function(){return Ve})}),W.push(function(Ne){var Oe,Ve,Ye=ce._cfg.dbschema;Oe=Ye,Ve=Ne,[].slice.call(Ve.db.objectStoreNames).forEach(function(ke){return Oe[ke]==null&&Ve.db.deleteObjectStore(ke)}),Ur(Q,[Q.Transaction.prototype]),bl(Q,[Q.Transaction.prototype],Q._storeNames,Q._dbSchema),ne.schema=Q._dbSchema}),W.push(function(Ne){Q.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Q.idbdb.version/10)===ce._cfg.version?(Q.idbdb.deleteObjectStore("$meta"),delete Q._dbSchema.$meta,Q._storeNames=Q._storeNames.filter(function(Oe){return Oe!=="$meta"})):Ne.objectStore("$meta").put(ce._cfg.version,"version"))})}),(function ce(){return W.length?$e.resolve(W.shift()(ne.idbtrans)).then(ce):$e.resolve()})().then(function(){Ws(ge,J)}))}).catch(H);var P,ue;h(N).forEach(function(F){Mo(v,F,N[F].primKey,N[F].indexes)}),Va(s,v),$e.follow(function(){return s.on.populate.fire(M)}).catch(H)})}function xl(s,p){Ws(s._dbSchema,p),p.db.version%10!=0||p.objectStoreNames.contains("$meta")||p.db.createObjectStore("$meta").add(Math.ceil(p.db.version/10-1),"version");var v=tr(0,s.idbdb,p);_l(s,s._dbSchema,p);for(var S=0,N=wl(v,s._dbSchema).change;S<N.length;S++){var M=(H=>{if(H.change.length||H.recreate)return console.warn("Unable to patch indexes of table ".concat(H.name," because it has changes on the type of index or primary key.")),{value:void 0};var q=p.objectStore(H.name);H.add.forEach(function(P){Je&&console.debug("Dexie upgrade patch: Creating missing index ".concat(H.name,".").concat(P.src)),Sl(q,P)})})(N[S]);if(typeof M=="object")return M.value}}function wl(s,p){var v,S={del:[],add:[],change:[]};for(v in s)p[v]||S.del.push(v);for(v in p){var N=s[v],M=p[v];if(N){var H={name:v,def:M,recreate:!1,del:[],add:[],change:[]};if(""+(N.primKey.keyPath||"")!=""+(M.primKey.keyPath||"")||N.primKey.auto!==M.primKey.auto)H.recreate=!0,S.change.push(H);else{var q=N.idxByName,P=M.idxByName,ue=void 0;for(ue in q)P[ue]||H.del.push(ue);for(ue in P){var F=q[ue],Q=P[ue];F?F.src!==Q.src&&H.change.push(Q):H.add.push(Q)}(0<H.del.length||0<H.add.length||0<H.change.length)&&S.change.push(H)}}else S.add.push([v,M])}return S}function Mo(s,p,v,S){var N=s.db.createObjectStore(p,v.keyPath?{keyPath:v.keyPath,autoIncrement:v.auto}:{autoIncrement:v.auto});S.forEach(function(M){return Sl(N,M)})}function Ws(s,p){h(s).forEach(function(v){p.db.objectStoreNames.contains(v)||(Je&&console.debug("Dexie: Creating missing table",v),Mo(p,v,s[v].primKey,s[v].indexes))})}function Sl(s,p){s.createIndex(p.name,p.keyPath,{unique:p.unique,multiEntry:p.multi})}function tr(s,p,v){var S={};return z(p.objectStoreNames,0).forEach(function(N){for(var M=v.objectStore(N),H=fa(gl(ue=M.keyPath),ue||"",!0,!1,!!M.autoIncrement,ue&&typeof ue!="string",!0),q=[],P=0;P<M.indexNames.length;++P){var F=M.index(M.indexNames[P]),ue=F.keyPath,F=fa(F.name,ue,!!F.unique,!!F.multiEntry,!1,ue&&typeof ue!="string",!1);q.push(F)}S[N]=Ji(N,H,q)}),S}function _l(s,p,v){for(var S=v.db.objectStoreNames,N=0;N<S.length;++N){var M=S[N],H=v.objectStore(M);s._hasGetAll="getAll"in H;for(var q=0;q<H.indexNames.length;++q){var P,ue=H.indexNames[q],F=H.index(ue).keyPath,F=typeof F=="string"?F:"["+z(F).join("+")+"]";p[M]&&(P=p[M].idxByName[F])&&(P.name=ue,delete p[M].idxByName[F],p[M].idxByName[ue]=P)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function eu(s){return s.split(",").map(function(p,v){var N=p.split(":"),S=(S=N[1])==null?void 0:S.trim(),N=(p=N[0].trim()).replace(/([&*]|\+\+)/g,""),M=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return fa(N,M||null,/\&/.test(p),/\*/.test(p),/\+\+/.test(p),y(M),v===0,S)})}nr.prototype._createTableSchema=Ji,nr.prototype._parseIndexSyntax=eu,nr.prototype._parseStoresSpec=function(s,p){var v=this;h(s).forEach(function(S){if(s[S]!==null){var N=v._parseIndexSyntax(s[S]),M=N.shift();if(!M)throw new ze.Schema("Invalid schema for table "+S+": "+s[S]);if(M.unique=!0,M.multi)throw new ze.Schema("Primary key cannot be multiEntry*");N.forEach(function(H){if(H.auto)throw new ze.Schema("Only primary key can be marked as autoIncrement (++)");if(!H.keyPath)throw new ze.Schema("Index must have a name and cannot be an empty string")}),M=v._createTableSchema(S,M,N),p[S]=M}})},nr.prototype.stores=function(v){var p=this.db,v=(this._cfg.storesSource=this._cfg.storesSource?b(this._cfg.storesSource,v):v,p._versions),S={},N={};return v.forEach(function(M){b(S,M._cfg.storesSource),N=M._cfg.dbschema={},M._parseStoresSpec(S,N)}),p._dbSchema=N,Ur(p,[p._allTables,p,p.Transaction.prototype]),bl(p,[p._allTables,p,p.Transaction.prototype,this._cfg.tables],h(N),N),p._storeNames=h(N),this},nr.prototype.upgrade=function(s){return this._cfg.contentUpgrade=Fe(this._cfg.contentUpgrade||Ue,s),this};var rf=nr;function nr(){}function To(s,p){var v=s._dbNamesDB;return v||(v=s._dbNamesDB=new da(oi,{addons:[],indexedDB:s,IDBKeyRange:p})).version(1).stores({dbnames:"name"}),v.table("dbnames")}function El(s){return s&&typeof s.databases=="function"}function Do(s){return Ot(function(){return Ze.letThrough=!0,s()})}function zo(s){return!("from"in s)}var bn=function(s,p){var v;if(!this)return v=new bn,s&&"d"in s&&b(v,s),v;b(this,arguments.length?{d:1,from:s,to:1<arguments.length?p:s}:{d:0})};function Vr(s,p,v){var S=ft(p,v);if(!isNaN(S)){if(0<S)throw RangeError();if(zo(s))return b(s,{from:p,to:v,d:1});var S=s.l,N=s.r;if(ft(v,s.from)<0)return S?Vr(S,p,v):s.l={from:p,to:v,d:1,l:null,r:null},nu(s);if(0<ft(p,s.to))return N?Vr(N,p,v):s.r={from:p,to:v,d:1,l:null,r:null},nu(s);ft(p,s.from)<0&&(s.from=p,s.l=null,s.d=N?N.d+1:1),0<ft(v,s.to)&&(s.to=v,s.r=null,s.d=s.l?s.l.d+1:1),p=!s.r,S&&!s.l&&vi(s,S),N&&p&&vi(s,N)}}function vi(s,p){zo(p)||(function v(S,N){var M=N.from,H=N.l,q=N.r;Vr(S,M,N.to),H&&v(S,H),q&&v(S,q)})(s,p)}function tu(s,p){var v=Nl(p),S=v.next();if(!S.done)for(var N=S.value,M=Nl(s),H=M.next(N.from),q=H.value;!S.done&&!H.done;){if(ft(q.from,N.to)<=0&&0<=ft(q.to,N.from))return!0;ft(N.from,q.from)<0?N=(S=v.next(q.from)).value:q=(H=M.next(N.from)).value}return!1}function Nl(s){var p=zo(s)?null:{s:0,n:s};return{next:function(v){for(var S=0<arguments.length;p;)switch(p.s){case 0:if(p.s=1,S)for(;p.n.l&&ft(v,p.n.from)<0;)p={up:p,n:p.n.l,s:1};else for(;p.n.l;)p={up:p,n:p.n.l,s:1};case 1:if(p.s=2,!S||ft(v,p.n.to)<=0)return{value:p.n,done:!1};case 2:if(p.n.r){p.s=3,p={up:p,n:p.n.r,s:0};continue}case 3:p=p.up}return{done:!0}}}}function nu(s){var p,v,S,N=(((N=s.r)==null?void 0:N.d)||0)-(((N=s.l)==null?void 0:N.d)||0),N=1<N?"r":N<-1?"l":"";N&&(p=N=="r"?"l":"r",v=o({},s),S=s[N],s.from=S.from,s.to=S.to,s[N]=S[N],v[N]=S[p],(s[p]=v).d=Oo(v)),s.d=Oo(s)}function Oo(v){var p=v.r,v=v.l;return(p?v?Math.max(p.d,v.d):p.d:v?v.d:0)+1}function Cl(s,p){return h(p).forEach(function(v){s[v]?vi(s[v],p[v]):s[v]=(function S(N){var M,H,q={};for(M in N)x(N,M)&&(H=N[M],q[M]=!H||typeof H!="object"||le.has(H.constructor)?H:S(H));return q})(p[v])}),s}function ko(s,p){return s.all||p.all||Object.keys(s).some(function(v){return p[v]&&tu(p[v],s[v])})}_(bn.prototype,((qt={add:function(s){return vi(this,s),this},addKey:function(s){return Vr(this,s,s),this},addKeys:function(s){var p=this;return s.forEach(function(v){return Vr(p,v,v)}),this},hasKey:function(s){var p=Nl(this).next(s).value;return p&&ft(p.from,s)<=0&&0<=ft(p.to,s)}})[U]=function(){return Nl(this)},qt));var bi={},Ro={},Bo=!1;function Al(s){Cl(Ro,s),Bo||(Bo=!0,setTimeout(function(){Bo=!1,Ho(Ro,!(Ro={}))},0))}function Ho(s,p){p===void 0&&(p=!1);var v=new Set;if(s.all)for(var S=0,N=Object.values(bi);S<N.length;S++)au(q=N[S],s,v,p);else for(var M in s){var H,q,M=/^idb\:\/\/(.*)\/(.*)\//.exec(M);M&&(H=M[1],M=M[2],q=bi["idb://".concat(H,"/").concat(M)])&&au(q,s,v,p)}v.forEach(function(P){return P()})}function au(s,p,v,S){for(var N=[],M=0,H=Object.entries(s.queries.query);M<H.length;M++){for(var q=H[M],P=q[0],ue=[],F=0,Q=q[1];F<Q.length;F++){var ee=Q[F];ko(p,ee.obsSet)?ee.subscribers.forEach(function(fe){return v.add(fe)}):S&&ue.push(ee)}S&&N.push([P,ue])}if(S)for(var ne=0,J=N;ne<J.length;ne++){var W=J[ne],P=W[0],ue=W[1];s.queries.query[P]=ue}}function lf(s){var p=s._state,v=s._deps.indexedDB;if(p.isBeingOpened||s.idbdb)return p.dbReadyPromise.then(function(){return p.dbOpenError?At(p.dbOpenError):s});p.isBeingOpened=!0,p.dbOpenError=null,p.openComplete=!1;var S=p.openCanceller,N=Math.round(10*s.verno),M=!1;function H(){if(p.openCanceller!==S)throw new ze.DatabaseClosed("db.open() was cancelled")}function q(){return new $e(function(ee,ne){if(H(),!v)throw new ze.MissingAPI;var J=s.name,W=p.autoSchema||!N?v.open(J):v.open(J,N);if(!W)throw new ze.MissingAPI;W.onerror=Zn(ne),W.onblocked=Mt(s._fireOnBlocked),W.onupgradeneeded=Mt(function(fe){var ge;F=W.transaction,p.autoSchema&&!s._options.allowEmptyDB?(W.onerror=mi,F.abort(),W.result.close(),(ge=v.deleteDatabase(J)).onsuccess=ge.onerror=Mt(function(){ne(new ze.NoSuchDatabase("Database ".concat(J," doesnt exist")))})):(F.onerror=Zn(ne),ge=fe.oldVersion>Math.pow(2,62)?0:fe.oldVersion,Q=ge<1,s.idbdb=W.result,M&&xl(s,F),qr(s,ge/10,F,ne))},ne),W.onsuccess=Mt(function(){F=null;var fe,ge,ce,Ne,Oe,Ve,Ye=s.idbdb=W.result,ke=z(Ye.objectStoreNames);if(0<ke.length)try{var Qe=Ye.transaction((Oe=ke).length===1?Oe[0]:Oe,"readonly");if(p.autoSchema)Ve=Ye,Ne=Qe,(ce=s).verno=Ve.version/10,Ne=ce._dbSchema=tr(0,Ve,Ne),ce._storeNames=z(Ve.objectStoreNames,0),bl(ce,[ce._allTables],h(Ne),Ne);else if(_l(s,s._dbSchema,Qe),ge=Qe,((ge=wl(tr(0,(fe=s).idbdb,ge),fe._dbSchema)).add.length||ge.change.some(function(Ie){return Ie.add.length||Ie.change.length}))&&!M)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ye.close(),N=Ye.version+1,M=!0,ee(q());Va(s,Qe)}catch{}Ca.push(s),Ye.onversionchange=Mt(function(Ie){p.vcFired=!0,s.on("versionchange").fire(Ie)}),Ye.onclose=Mt(function(){s.close({disableAutoOpen:!1})}),Q&&(ke=s._deps,Oe=J,El(Ve=ke.indexedDB)||Oe===oi||To(Ve,ke.IDBKeyRange).put({name:Oe}).catch(Ue)),ee()},ne)}).catch(function(ee){switch(ee?.name){case"UnknownError":if(0<p.PR1398_maxLoop)return p.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),q();break;case"VersionError":if(0<N)return N=0,q()}return $e.reject(ee)})}var P,ue=p.dbReadyResolve,F=null,Q=!1;return $e.race([S,(typeof navigator>"u"?$e.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ee){function ne(){return indexedDB.databases().finally(ee)}P=setInterval(ne,100),ne()}).finally(function(){return clearInterval(P)}):Promise.resolve()).then(q)]).then(function(){return H(),p.onReadyBeingFired=[],$e.resolve(Do(function(){return s.on.ready.fire(s.vip)})).then(function ee(){var ne;if(0<p.onReadyBeingFired.length)return ne=p.onReadyBeingFired.reduce(Fe,Ue),p.onReadyBeingFired=[],$e.resolve(Do(function(){return ne(s.vip)})).then(ee)})}).finally(function(){p.openCanceller===S&&(p.onReadyBeingFired=null,p.isBeingOpened=!1)}).catch(function(ee){p.dbOpenError=ee;try{F&&F.abort()}catch{}return S===p.openCanceller&&s._close(),At(ee)}).finally(function(){p.openComplete=!0,ue()}).then(function(){var ee;return Q&&(ee={},s.tables.forEach(function(ne){ne.schema.indexes.forEach(function(J){J.name&&(ee["idb://".concat(s.name,"/").concat(ne.name,"/").concat(J.name)]=new bn(-1/0,[[[]]]))}),ee["idb://".concat(s.name,"/").concat(ne.name,"/")]=ee["idb://".concat(s.name,"/").concat(ne.name,"/:dels")]=new bn(-1/0,[[[]]])}),vn(Fi).fire(ee),Ho(ee,!0)),s})}function Yr(s){function p(M){return s.next(M)}var v=N(p),S=N(function(M){return s.throw(M)});function N(M){return function(q){var q=M(q),P=q.value;return q.done?P:P&&typeof P.then=="function"?P.then(v,S):y(P)?Promise.all(P).then(v,S):v(P)}}return N(p)()}function Ya(s,p,v){for(var S=y(s)?s.slice():[s],N=0;N<v;++N)S.push(p);return S}var of={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return o(o({},s),{table:function(S){var v=s.table(S),S=v.schema,N={},M=[];function H(ee,ne,J){var ce=ln(ee),W=N[ce]=N[ce]||[],fe=ee==null?0:typeof ee=="string"?1:ee.length,ge=0<ne,ce=o(o({},J),{name:ge?"".concat(ce,"(virtual-from:").concat(J.name,")"):J.name,lowLevelIndex:J,isVirtual:ge,keyTail:ne,keyLength:fe,extractKey:er(ee),unique:!ge&&J.unique});return W.push(ce),ce.isPrimaryKey||M.push(ce),1<fe&&H(fe===2?ee[0]:ee.slice(0,fe-1),ne+1,J),W.sort(function(Ne,Oe){return Ne.keyTail-Oe.keyTail}),ce}var q=H(S.primaryKey.keyPath,0,S.primaryKey);N[":id"]=[q];for(var P=0,ue=S.indexes;P<ue.length;P++){var F=ue[P];H(F.keyPath,0,F)}function Q(ee){var ne,J=ee.query.index;return J.isVirtual?o(o({},ee),{query:{index:J.lowLevelIndex,range:(ne=ee.query.range,J=J.keyTail,{type:ne.type===1?2:ne.type,lower:Ya(ne.lower,ne.lowerOpen?s.MAX_KEY:s.MIN_KEY,J),lowerOpen:!0,upper:Ya(ne.upper,ne.upperOpen?s.MIN_KEY:s.MAX_KEY,J),upperOpen:!0})}}):ee}return o(o({},v),{schema:o(o({},S),{primaryKey:q,indexes:M,getIndexByKeyPath:function(ee){return(ee=N[ln(ee)])&&ee[0]}}),count:function(ee){return v.count(Q(ee))},query:function(ee){return v.query(Q(ee))},openCursor:function(ee){var ne=ee.query.index,J=ne.keyTail,W=ne.keyLength;return ne.isVirtual?v.openCursor(Q(ee)).then(function(ge){return ge&&fe(ge)}):v.openCursor(ee);function fe(ge){return Object.create(ge,{continue:{value:function(ce){ce!=null?ge.continue(Ya(ce,ee.reverse?s.MAX_KEY:s.MIN_KEY,J)):ee.unique?ge.continue(ge.key.slice(0,W).concat(ee.reverse?s.MIN_KEY:s.MAX_KEY,J)):ge.continue()}},continuePrimaryKey:{value:function(ce,Ne){ge.continuePrimaryKey(Ya(ce,s.MAX_KEY,J),Ne)}},primaryKey:{get:function(){return ge.primaryKey}},key:{get:function(){var ce=ge.key;return W===1?ce[0]:ce.slice(0,W)}},value:{get:function(){return ge.value}}})}}})}})}};function jl(s,p,v,S){return v=v||{},S=S||"",h(s).forEach(function(N){var M,H,q;x(p,N)?(M=s[N],H=p[N],typeof M=="object"&&typeof H=="object"&&M&&H?(q=oe(M))!==oe(H)?v[S+N]=p[N]:q==="Object"?jl(M,H,v,S+N+"."):M!==H&&(v[S+N]=p[N]):M!==H&&(v[S+N]=p[N])):v[S+N]=void 0}),h(p).forEach(function(N){x(s,N)||(v[S+N]=p[N])}),v}function Ml(s,p){return p.type==="delete"?p.keys:p.keys||p.values.map(s.extractKey)}var iu={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return o(o({},s),{table:function(p){var v=s.table(p),S=v.schema.primaryKey;return o(o({},v),{mutate:function(N){var M=Ze.trans,H=M.table(p).hook,q=H.deleting,P=H.creating,ue=H.updating;switch(N.type){case"add":if(P.fire===Ue)break;return M._promise("readwrite",function(){return F(N)},!0);case"put":if(P.fire===Ue&&ue.fire===Ue)break;return M._promise("readwrite",function(){return F(N)},!0);case"delete":if(q.fire===Ue)break;return M._promise("readwrite",function(){return F(N)},!0);case"deleteRange":if(q.fire===Ue)break;return M._promise("readwrite",function(){return(function Q(ee,ne,J){return v.query({trans:ee,values:!1,query:{index:S,range:ne},limit:J}).then(function(W){var fe=W.result;return F({type:"delete",keys:fe,trans:ee}).then(function(ge){return 0<ge.numFailures?Promise.reject(ge.failures[0]):fe.length<J?{failures:[],numFailures:0,lastResult:void 0}:Q(ee,o(o({},ne),{lower:fe[fe.length-1],lowerOpen:!0}),J)})})})(N.trans,N.range,1e4)},!0)}return v.mutate(N);function F(Q){var ee,ne,J,W=Ze.trans,fe=Q.keys||Ml(S,Q);if(fe)return(Q=Q.type==="add"||Q.type==="put"?o(o({},Q),{keys:fe}):o({},Q)).type!=="delete"&&(Q.values=u([],Q.values)),Q.keys&&(Q.keys=u([],Q.keys)),ee=v,J=fe,((ne=Q).type==="add"?Promise.resolve([]):ee.getMany({trans:ne.trans,keys:J,cache:"immutable"})).then(function(ge){var ce=fe.map(function(Ne,Oe){var Ve,Ye,ke,Qe=ge[Oe],Ie={onerror:null,onsuccess:null};return Q.type==="delete"?q.fire.call(Ie,Ne,Qe,W):Q.type==="add"||Qe===void 0?(Ve=P.fire.call(Ie,Ne,Q.values[Oe],W),Ne==null&&Ve!=null&&(Q.keys[Oe]=Ne=Ve,S.outbound||Y(Q.values[Oe],S.keyPath,Ne))):(Ve=jl(Qe,Q.values[Oe]),(Ye=ue.fire.call(Ie,Ve,Ne,Qe,W))&&(ke=Q.values[Oe],Object.keys(Ye).forEach(function(Re){x(ke,Re)?ke[Re]=Ye[Re]:Y(ke,Re,Ye[Re])}))),Ie});return v.mutate(Q).then(function(Ne){for(var Oe=Ne.failures,Ve=Ne.results,Ye=Ne.numFailures,Ne=Ne.lastResult,ke=0;ke<fe.length;++ke){var Qe=(Ve||fe)[ke],Ie=ce[ke];Qe==null?Ie.onerror&&Ie.onerror(Oe[ke]):Ie.onsuccess&&Ie.onsuccess(Q.type==="put"&&ge[ke]?Q.values[ke]:Qe)}return{failures:Oe,results:Ve,numFailures:Ye,lastResult:Ne}}).catch(function(Ne){return ce.forEach(function(Oe){return Oe.onerror&&Oe.onerror(Ne)}),Promise.reject(Ne)})});throw new Error("Keys missing")}}})}})}};function Lo(s,p,v){try{if(!p||p.keys.length<s.length)return null;for(var S=[],N=0,M=0;N<p.keys.length&&M<s.length;++N)ft(p.keys[N],s[M])===0&&(S.push(v?Ee(p.values[N]):p.values[N]),++M);return S.length===s.length?S:null}catch{return null}}var ru={stack:"dbcore",level:-1,create:function(s){return{table:function(p){var v=s.table(p);return o(o({},v),{getMany:function(S){var N;return S.cache?(N=Lo(S.keys,S.trans._cache,S.cache==="clone"))?$e.resolve(N):v.getMany(S).then(function(M){return S.trans._cache={keys:S.keys,values:S.cache==="clone"?Ee(M):M},M}):v.getMany(S)},mutate:function(S){return S.type!=="add"&&(S.trans._cache=null),v.mutate(S)}})}}}};function xi(s,p){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!p.schema.primaryKey.outbound}function lu(s,p){switch(s){case"query":return p.values&&!p.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var sf={stack:"dbcore",level:0,name:"Observability",create:function(s){var p=s.schema.name,v=new bn(s.MIN_KEY,s.MAX_KEY);return o(o({},s),{transaction:function(S,N,M){if(Ze.subscr&&N!=="readonly")throw new ze.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ze.querier));return s.transaction(S,N,M)},table:function(S){function N(fe){var W,fe=fe.query;return[W=fe.index,new bn((W=(fe=fe.range).lower)!=null?W:s.MIN_KEY,(W=fe.upper)!=null?W:s.MAX_KEY)]}var M=s.table(S),H=M.schema,q=H.primaryKey,P=H.indexes,ue=q.extractKey,F=q.outbound,Q=q.autoIncrement&&P.filter(function(J){return J.compound&&J.keyPath.includes(q.keyPath)}),ee=o(o({},M),{mutate:function(J){function W(Pe){return Pe="idb://".concat(p,"/").concat(S,"/").concat(Pe),Oe[Pe]||(Oe[Pe]=new bn)}var fe,ge,ce,Ne=J.trans,Oe=J.mutatedParts||(J.mutatedParts={}),Ve=W(""),Ye=W(":dels"),ke=J.type,Ie=J.type==="deleteRange"?[J.range]:J.type==="delete"?[J.keys]:J.values.length<50?[Ml(q,J).filter(function(Pe){return Pe}),J.values]:[],Qe=Ie[0],Ie=Ie[1],Re=J.trans._cache;return y(Qe)?(Ve.addKeys(Qe),(ke=ke==="delete"||Qe.length===Ie.length?Lo(Qe,Re):null)||Ye.addKeys(Qe),(ke||Ie)&&(fe=W,ge=ke,ce=Ie,H.indexes.forEach(function(Pe){var ot=fe(Pe.name||"");function pt(st){return st!=null?Pe.extractKey(st):null}function nt(st){Pe.multiEntry&&y(st)?st.forEach(function(kt){return ot.addKey(kt)}):ot.addKey(st)}(ge||ce).forEach(function(st,jt){var Mn=ge&&pt(ge[jt]),jt=ce&&pt(ce[jt]);ft(Mn,jt)!==0&&(Mn!=null&&nt(Mn),jt!=null)&&nt(jt)})}))):Qe?(Ie={from:(Re=Qe.lower)!=null?Re:s.MIN_KEY,to:(ke=Qe.upper)!=null?ke:s.MAX_KEY},Ye.add(Ie),Ve.add(Ie)):(Ve.add(v),Ye.add(v),H.indexes.forEach(function(Pe){return W(Pe.name).add(v)})),M.mutate(J).then(function(Pe){return!Qe||J.type!=="add"&&J.type!=="put"||(Ve.addKeys(Pe.results),Q&&Q.forEach(function(ot){for(var pt=J.values.map(function(Mn){return ot.extractKey(Mn)}),nt=ot.keyPath.findIndex(function(Mn){return Mn===q.keyPath}),st=0,kt=Pe.results.length;st<kt;++st)pt[st][nt]=Pe.results[st];W(ot.name).addKeys(pt)})),Ne.mutatedParts=Cl(Ne.mutatedParts||{},Oe),Pe})}}),ne={get:function(J){return[q,new bn(J.key)]},getMany:function(J){return[q,new bn().addKeys(J.keys)]},count:N,query:N,openCursor:N};return h(ne).forEach(function(J){ee[J]=function(W){var fe=Ze.subscr,ge=!!fe,ce=xi(Ze,M)&&lu(J,W)?W.obsSet={}:fe;if(ge){var Ne,fe=function(Ie){return Ie="idb://".concat(p,"/").concat(S,"/").concat(Ie),ce[Ie]||(ce[Ie]=new bn)},Oe=fe(""),Ve=fe(":dels"),ge=ne[J](W),Ye=ge[0],ge=ge[1];if((J==="query"&&Ye.isPrimaryKey&&!W.values?Ve:fe(Ye.name||"")).add(ge),!Ye.isPrimaryKey){if(J!=="count")return Ne=J==="query"&&F&&W.values&&M.query(o(o({},W),{values:!1})),M[J].apply(this,arguments).then(function(Ie){if(J==="query"){if(F&&W.values)return Ne.then(function(pt){return pt=pt.result,Oe.addKeys(pt),Ie});var Re=W.values?Ie.result.map(ue):Ie.result;(W.values?Oe:Ve).addKeys(Re)}else{var Pe,ot;if(J==="openCursor")return ot=W.values,(Pe=Ie)&&Object.create(Pe,{key:{get:function(){return Ve.addKey(Pe.primaryKey),Pe.key}},primaryKey:{get:function(){var pt=Pe.primaryKey;return Ve.addKey(pt),pt}},value:{get:function(){return ot&&Oe.addKey(Pe.primaryKey),Pe.value}}})}return Ie});Ve.add(v)}}return M[J].apply(this,arguments)}}),ee}})}};function ou(s,p,v){var S;return v.numFailures===0?p:p.type==="deleteRange"||(S=p.keys?p.keys.length:"values"in p&&p.values?p.values.length:1,v.numFailures===S)?null:(S=o({},p),y(S.keys)&&(S.keys=S.keys.filter(function(N,M){return!(M in v.failures)})),"values"in S&&y(S.values)&&(S.values=S.values.filter(function(N,M){return!(M in v.failures)})),S)}function Tl(s,p){return v=s,((S=p).lower===void 0||(S.lowerOpen?0<ft(v,S.lower):0<=ft(v,S.lower)))&&(v=s,(S=p).upper===void 0||(S.upperOpen?ft(v,S.upper)<0:ft(v,S.upper)<=0));var v,S}function Uo(s,p,v,S,N,M){var H,q,P,ue,F,Q;return!v||v.length===0||(H=p.query.index,q=H.multiEntry,P=p.query.range,ue=S.schema.primaryKey.extractKey,F=H.extractKey,Q=(H.lowLevelIndex||H).extractKey,(S=v.reduce(function(ee,ne){var J=ee,W=[];if(ne.type==="add"||ne.type==="put")for(var fe=new bn,ge=ne.values.length-1;0<=ge;--ge){var ce,Ne=ne.values[ge],Oe=ue(Ne);!fe.hasKey(Oe)&&(ce=F(Ne),q&&y(ce)?ce.some(function(Ie){return Tl(Ie,P)}):Tl(ce,P))&&(fe.addKey(Oe),W.push(Ne))}switch(ne.type){case"add":var Ve=new bn().addKeys(p.values?ee.map(function(Re){return ue(Re)}):ee),J=ee.concat(p.values?W.filter(function(Re){return Re=ue(Re),!Ve.hasKey(Re)&&(Ve.addKey(Re),!0)}):W.map(function(Re){return ue(Re)}).filter(function(Re){return!Ve.hasKey(Re)&&(Ve.addKey(Re),!0)}));break;case"put":var Ye=new bn().addKeys(ne.values.map(function(Re){return ue(Re)}));J=ee.filter(function(Re){return!Ye.hasKey(p.values?ue(Re):Re)}).concat(p.values?W:W.map(function(Re){return ue(Re)}));break;case"delete":var ke=new bn().addKeys(ne.keys);J=ee.filter(function(Re){return!ke.hasKey(p.values?ue(Re):Re)});break;case"deleteRange":var Qe=ne.range;J=ee.filter(function(Re){return!Tl(ue(Re),Qe)})}return J},s))===s)?s:(S.sort(function(ee,ne){return ft(Q(ee),Q(ne))||ft(ue(ee),ue(ne))}),p.limit&&p.limit<1/0&&(S.length>p.limit?S.length=p.limit:s.length===p.limit&&S.length<p.limit&&(N.dirty=!0)),M?Object.freeze(S):S)}function ar(s,p){return ft(s.lower,p.lower)===0&&ft(s.upper,p.upper)===0&&!!s.lowerOpen==!!p.lowerOpen&&!!s.upperOpen==!!p.upperOpen}function Kr(s,p){return((v,S,N,M)=>{if(v===void 0)return S!==void 0?-1:0;if(S===void 0)return 1;if((v=ft(v,S))===0){if(N&&M)return 0;if(N)return 1;if(M)return-1}return v})(s.lower,p.lower,s.lowerOpen,p.lowerOpen)<=0&&0<=((v,S,N,M)=>{if(v===void 0)return S!==void 0?1:0;if(S===void 0)return-1;if((v=ft(v,S))===0){if(N&&M)return 0;if(N)return-1;if(M)return 1}return v})(s.upper,p.upper,s.upperOpen,p.upperOpen)}function uf(s,p,v,S){s.subscribers.add(v),S.addEventListener("abort",function(){var N,M;s.subscribers.delete(v),s.subscribers.size===0&&(N=s,M=p,setTimeout(function(){N.subscribers.size===0&&Z(M,N)},3e3))})}var Dl={stack:"dbcore",level:0,name:"Cache",create:function(s){var p=s.schema.name;return o(o({},s),{transaction:function(v,S,N){var M,H,q=s.transaction(v,S,N);return S==="readwrite"&&(N=(M=new AbortController).signal,q.addEventListener("abort",(H=function(P){return function(){if(M.abort(),S==="readwrite"){for(var ue=new Set,F=0,Q=v;F<Q.length;F++){var ee=Q[F],ne=bi["idb://".concat(p,"/").concat(ee)];if(ne){var J=s.table(ee),W=ne.optimisticOps.filter(function(Pe){return Pe.trans===q});if(q._explicit&&P&&q.mutatedParts)for(var fe=0,ge=Object.values(ne.queries.query);fe<ge.length;fe++)for(var ce=0,Ne=(Ye=ge[fe]).slice();ce<Ne.length;ce++)ko((ke=Ne[ce]).obsSet,q.mutatedParts)&&(Z(Ye,ke),ke.subscribers.forEach(function(Pe){return ue.add(Pe)}));else if(0<W.length){ne.optimisticOps=ne.optimisticOps.filter(function(Pe){return Pe.trans!==q});for(var Oe=0,Ve=Object.values(ne.queries.query);Oe<Ve.length;Oe++)for(var Ye,ke,Qe,Ie=0,Re=(Ye=Ve[Oe]).slice();Ie<Re.length;Ie++)(ke=Re[Ie]).res!=null&&q.mutatedParts&&(P&&!ke.dirty?(Qe=Object.isFrozen(ke.res),Qe=Uo(ke.res,ke.req,W,J,ke,Qe),ke.dirty?(Z(Ye,ke),ke.subscribers.forEach(function(Pe){return ue.add(Pe)})):Qe!==ke.res&&(ke.res=Qe,ke.promise=$e.resolve({result:Qe}))):(ke.dirty&&Z(Ye,ke),ke.subscribers.forEach(function(Pe){return ue.add(Pe)})))}}}ue.forEach(function(Pe){return Pe()})}}})(!1),{signal:N}),q.addEventListener("error",H(!1),{signal:N}),q.addEventListener("complete",H(!0),{signal:N})),q},table:function(v){var S=s.table(v),N=S.schema.primaryKey;return o(o({},S),{mutate:function(M){var H,q=Ze.trans;return!N.outbound&&q.db._options.cache!=="disabled"&&!q.explicit&&q.idbtrans.mode==="readwrite"&&(H=bi["idb://".concat(p,"/").concat(v)])?(q=S.mutate(M),M.type!=="add"&&M.type!=="put"||!(50<=M.values.length||Ml(N,M).some(function(P){return P==null}))?(H.optimisticOps.push(M),M.mutatedParts&&Al(M.mutatedParts),q.then(function(P){0<P.numFailures&&(Z(H.optimisticOps,M),(P=ou(0,M,P))&&H.optimisticOps.push(P),M.mutatedParts)&&Al(M.mutatedParts)}),q.catch(function(){Z(H.optimisticOps,M),M.mutatedParts&&Al(M.mutatedParts)})):q.then(function(P){var ue=ou(0,o(o({},M),{values:M.values.map(function(F,Q){var ee;return P.failures[Q]?F:(Y(ee=(ee=N.keyPath)!=null&&ee.includes(".")?Ee(F):o({},F),N.keyPath,P.results[Q]),ee)})}),P);H.optimisticOps.push(ue),queueMicrotask(function(){return M.mutatedParts&&Al(M.mutatedParts)})}),q):S.mutate(M)},query:function(M){var H,q,P,ue,F,Q,ee;return xi(Ze,S)&&lu("query",M)?(H=((P=Ze.trans)==null?void 0:P.db._options.cache)==="immutable",q=(P=Ze).requery,P=P.signal,Q=((ne,J,W,fe)=>{var ge=bi["idb://".concat(ne,"/").concat(J)];if(!ge)return[];if(!(ne=ge.queries[W]))return[null,!1,ge,null];var ce=ne[(fe.query?fe.query.index.name:null)||""];if(!ce)return[null,!1,ge,null];switch(W){case"query":var Ne=ce.find(function(Oe){return Oe.req.limit===fe.limit&&Oe.req.values===fe.values&&ar(Oe.req.query.range,fe.query.range)});return Ne?[Ne,!0,ge,ce]:[ce.find(function(Oe){return("limit"in Oe.req?Oe.req.limit:1/0)>=fe.limit&&(!fe.values||Oe.req.values)&&Kr(Oe.req.query.range,fe.query.range)}),!1,ge,ce];case"count":return Ne=ce.find(function(Oe){return ar(Oe.req.query.range,fe.query.range)}),[Ne,!!Ne,ge,ce]}})(p,v,"query",M),ee=Q[0],ue=Q[2],F=Q[3],ee&&Q[1]?ee.obsSet=M.obsSet:(Q=S.query(M).then(function(ne){var J=ne.result;if(ee&&(ee.res=J),H){for(var W=0,fe=J.length;W<fe;++W)Object.freeze(J[W]);Object.freeze(J)}else ne.result=Ee(J);return ne}).catch(function(ne){return F&&ee&&Z(F,ee),Promise.reject(ne)}),ee={obsSet:M.obsSet,promise:Q,subscribers:new Set,type:"query",req:M,dirty:!1},F?F.push(ee):(F=[ee],(ue=ue||(bi["idb://".concat(p,"/").concat(v)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[M.query.index.name||""]=F)),uf(ee,F,q,P),ee.promise.then(function(ne){return{result:Uo(ne.result,M,ue?.optimisticOps,S,ee,H)}})):S.query(M)}})}})}};function $r(s,p){return new Proxy(s,{get:function(v,S,N){return S==="db"?p:Reflect.get(v,S,N)}})}Yt.prototype.version=function(s){if(isNaN(s)||s<.1)throw new ze.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new ze.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var p=this._versions,v=p.filter(function(S){return S._cfg.version===s})[0];return v||(v=new this.Version(s),p.push(v),p.sort(jo),v.stores({}),this._state.autoSchema=!1),v},Yt.prototype._whenReady=function(s){var p=this;return this.idbdb&&(this._state.openComplete||Ze.letThrough||this._vip)?s():new $e(function(v,S){if(p._state.openComplete)return S(new ze.DatabaseClosed(p._state.dbOpenError));if(!p._state.isBeingOpened){if(!p._state.autoOpen)return void S(new ze.DatabaseClosed);p.open().catch(Ue)}p._state.dbReadyPromise.then(v,S)}).then(s)},Yt.prototype.use=function(N){var p=N.stack,v=N.create,S=N.level,N=N.name,M=(N&&this.unuse({stack:p,name:N}),this._middlewares[p]||(this._middlewares[p]=[]));return M.push({stack:p,create:v,level:S??10,name:N}),M.sort(function(H,q){return H.level-q.level}),this},Yt.prototype.unuse=function(s){var p=s.stack,v=s.name,S=s.create;return p&&this._middlewares[p]&&(this._middlewares[p]=this._middlewares[p].filter(function(N){return S?N.create!==S:!!v&&N.name!==v})),this},Yt.prototype.open=function(){var s=this;return Dn(hn,function(){return lf(s)})},Yt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,p=Ca.indexOf(this);if(0<=p&&Ca.splice(p,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new $e(function(v){s.dbReadyResolve=v}),s.openCanceller=new $e(function(v,S){s.cancelOpen=S}))},Yt.prototype.close=function(p){var p=(p===void 0?{disableAutoOpen:!0}:p).disableAutoOpen,v=this._state;p?(v.isBeingOpened&&v.cancelOpen(new ze.DatabaseClosed),this._close(),v.autoOpen=!1,v.dbOpenError=new ze.DatabaseClosed):(this._close(),v.autoOpen=this._options.autoOpen||v.isBeingOpened,v.openComplete=!1,v.dbOpenError=null)},Yt.prototype.delete=function(s){var p=this,v=(s===void 0&&(s={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),S=this._state;return new $e(function(N,M){function H(){p.close(s);var q=p._deps.indexedDB.deleteDatabase(p.name);q.onsuccess=Mt(function(){var P,ue,F;P=p._deps,ue=p.name,El(F=P.indexedDB)||ue===oi||To(F,P.IDBKeyRange).delete(ue).catch(Ue),N()}),q.onerror=Zn(M),q.onblocked=p._fireOnBlocked}if(v)throw new ze.InvalidArgument("Invalid closeOptions argument to db.delete()");S.isBeingOpened?S.dbReadyPromise.then(H):H()})},Yt.prototype.backendDB=function(){return this.idbdb},Yt.prototype.isOpen=function(){return this.idbdb!==null},Yt.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},Yt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Yt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Yt.prototype,"tables",{get:function(){var s=this;return h(this._allTables).map(function(p){return s._allTables[p]})},enumerable:!1,configurable:!0}),Yt.prototype.transaction=function(){var s=(function(p,v,S){var N=arguments.length;if(N<2)throw new ze.InvalidArgument("Too few arguments");for(var M=new Array(N-1);--N;)M[N-1]=arguments[N];return S=M.pop(),[p,Te(M),S]}).apply(this,arguments);return this._transaction.apply(this,s)},Yt.prototype._transaction=function(s,p,v){var S,N,M=this,H=Ze.trans,q=(H&&H.db===this&&s.indexOf("!")===-1||(H=null),s.indexOf("?")!==-1);s=s.replace("!","").replace("?","");try{if(N=p.map(function(ue){if(ue=ue instanceof M.Table?ue.name:ue,typeof ue!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ue}),s=="r"||s===Gn)S=Gn;else{if(s!="rw"&&s!=ua)throw new ze.InvalidArgument("Invalid transaction mode: "+s);S=ua}if(H){if(H.mode===Gn&&S===ua){if(!q)throw new ze.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");H=null}H&&N.forEach(function(ue){if(H&&H.storeNames.indexOf(ue)===-1){if(!q)throw new ze.SubTransaction("Table "+ue+" not included in parent transaction.");H=null}}),q&&H&&!H.active&&(H=null)}}catch(ue){return H?H._promise(null,function(F,Q){Q(ue)}):At(ue)}var P=(function ue(F,Q,ee,ne,J){return $e.resolve().then(function(){var ce=Ze.transless||Ze,W=F._createTransaction(Q,ee,F._dbSchema,ne),ce=(W.explicit=!0,{trans:W,transless:ce});if(ne)W.idbtrans=ne.idbtrans;else try{W.create(),W.idbtrans._explicit=!0,F._state.PR1398_maxLoop=3}catch(Ne){return Ne.name===De.InvalidState&&F.isOpen()&&0<--F._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),F.close({disableAutoOpen:!1}),F.open().then(function(){return ue(F,Q,ee,null,J)})):At(Ne)}var fe,ge=L(J),ce=(ge&&Qt(),$e.follow(function(){var Ne;(fe=J.call(W,W))&&(ge?(Ne=yn.bind(null,null),fe.then(Ne,Ne)):typeof fe.next=="function"&&typeof fe.throw=="function"&&(fe=Yr(fe)))},ce));return(fe&&typeof fe.then=="function"?$e.resolve(fe).then(function(Ne){return W.active?Ne:At(new ze.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ce.then(function(){return fe})).then(function(Ne){return ne&&W._resolve(),W._completion.then(function(){return Ne})}).catch(function(Ne){return W._reject(Ne),At(Ne)})})}).bind(null,this,S,N,H,v);return H?H._promise(S,P,"lock"):Ze.trans?Dn(Ze.transless,function(){return M._whenReady(P)}):this._whenReady(P)},Yt.prototype.table=function(s){if(x(this._allTables,s))return this._allTables[s];throw new ze.InvalidTable("Table ".concat(s," does not exist"))};var da=Yt;function Yt(s,p){var v,S,N,M,H,q=this,P=(this._middlewares={},this.verno=0,Yt.dependencies),P=(this._options=p=o({addons:Yt.addons,autoOpen:!0,indexedDB:P.indexedDB,IDBKeyRange:P.IDBKeyRange,cache:"cloned"},p),this._deps={indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},p.addons),ue=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ue,dbReadyPromise:null,cancelOpen:Ue,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:p.autoOpen}),F=(ue.dbReadyPromise=new $e(function(Q){ue.dbReadyResolve=Q}),ue.openCanceller=new $e(function(Q,ee){ue.cancelOpen=ee}),this._state=ue,this.name=s,this.on=fi(this,"populate","blocked","versionchange","close",{ready:[Fe,Ue]}),this.once=function(Q,ee){var ne=function(){for(var J=[],W=0;W<arguments.length;W++)J[W]=arguments[W];q.on(Q).unsubscribe(ne),ee.apply(q,J)};return q.on(Q,ne)},this.on.ready.subscribe=A(this.on.ready.subscribe,function(Q){return function(ee,ne){Yt.vip(function(){var J,W=q._state;W.openComplete?(W.dbOpenError||$e.resolve().then(ee),ne&&Q(ee)):W.onReadyBeingFired?(W.onReadyBeingFired.push(ee),ne&&Q(ee)):(Q(ee),J=q,ne||Q(function fe(){J.on.ready.unsubscribe(ee),J.on.ready.unsubscribe(fe)}))})}}),this.Collection=(v=this,rn(nf.prototype,function(fe,W){this.db=v;var ne=Qi,J=null;if(W)try{ne=W()}catch(ce){J=ce}var W=fe._ctx,fe=W.table,ge=fe.hook.reading.fire;this._ctx={table:fe,index:W.index,isPrimKey:!W.index||fe.schema.primKey.keyPath&&W.index===fe.schema.primKey.name,range:ne,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:J,or:W.or,valueMapper:ge!==Ae?ge:null}})),this.Table=(S=this,rn(Br.prototype,function(Q,ee,ne){this.db=S,this._tx=ne,this.name=Q,this.schema=ee,this.hook=S._allTables[Q]?S._allTables[Q].hook:fi(null,{creating:[ie,Ue],reading:[Ke,Ae],updating:[Xe,Ue],deleting:[ye,Ue]})})),this.Transaction=(N=this,rn(Ao.prototype,function(Q,ee,ne,J,W){var fe=this;Q!=="readonly"&&ee.forEach(function(ge){ge=(ge=ne[ge])==null?void 0:ge.yProps,ge&&(ee=ee.concat(ge.map(function(ce){return ce.updatesTable})))}),this.db=N,this.mode=Q,this.storeNames=ee,this.schema=ne,this.chromeTransactionDurability=J,this.idbtrans=null,this.on=fi(this,"complete","error","abort"),this.parent=W||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new $e(function(ge,ce){fe._resolve=ge,fe._reject=ce}),this._completion.then(function(){fe.active=!1,fe.on.complete.fire()},function(ge){var ce=fe.active;return fe.active=!1,fe.on.error.fire(ge),fe.parent?fe.parent._reject(ge):ce&&fe.idbtrans&&fe.idbtrans.abort(),At(ge)})})),this.Version=(M=this,rn(rf.prototype,function(Q){this.db=M,this._cfg={version:Q,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(H=this,rn(pi.prototype,function(Q,ee,ne){if(this.db=H,this._ctx={table:Q,index:ee===":id"?null:ee,or:ne},this._cmp=this._ascending=ft,this._descending=function(J,W){return ft(W,J)},this._max=function(J,W){return 0<ft(J,W)?J:W},this._min=function(J,W){return ft(J,W)<0?J:W},this._IDBKeyRange=H._deps.IDBKeyRange,!this._IDBKeyRange)throw new ze.MissingAPI})),this.on("versionchange",function(Q){0<Q.newVersion?console.warn("Another connection wants to upgrade database '".concat(q.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(q.name,"'. Closing db now to resume the delete request.")),q.close({disableAutoOpen:!1})}),this.on("blocked",function(Q){!Q.newVersion||Q.newVersion<Q.oldVersion?console.warn("Dexie.delete('".concat(q.name,"') was blocked")):console.warn("Upgrade '".concat(q.name,"' blocked by other connection holding version ").concat(Q.oldVersion/10))}),this._maxKey=Wi(p.IDBKeyRange),this._createTransaction=function(Q,ee,ne,J){return new q.Transaction(Q,ee,ne,q._options.chromeTransactionDurability,J)},this._fireOnBlocked=function(Q){q.on("blocked").fire(Q),Ca.filter(function(ee){return ee.name===q.name&&ee!==q&&!ee._state.vcFired}).map(function(ee){return ee.on("versionchange").fire(Q)})},this.use(ru),this.use(Dl),this.use(sf),this.use(of),this.use(iu),new Proxy(this,{get:function(Q,ee,ne){var J;return ee==="_vip"||(ee==="table"?function(W){return $r(q.table(W),F)}:(J=Reflect.get(Q,ee,ne))instanceof Br?$r(J,F):ee==="tables"?J.map(function(W){return $r(W,F)}):ee==="_createTransaction"?function(){return $r(J.apply(this,arguments),F)}:J)}}));this.vip=F,P.forEach(function(Q){return Q(q)})}var ir,wi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",su=(zl.prototype.subscribe=function(s,p,v){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:p,complete:v})},zl.prototype[wi]=function(){return this},zl);function zl(s){this._subscribe=s}try{ir={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch{ir={indexedDB:null,IDBKeyRange:null}}function uu(s){var p,v=!1,S=new su(function(N){var M=L(s),H,q=!1,P={},ue={},F={get closed(){return q},unsubscribe:function(){q||(q=!0,H&&H.abort(),Q&&vn.storagemutated.unsubscribe(ne))}},Q=(N.start&&N.start(F),!1),ee=function(){return sa(J)},ne=function(W){Cl(P,W),ko(ue,P)&&ee()},J=function(){var W,fe,ge;!q&&ir.indexedDB&&(P={},W={},H&&H.abort(),H=new AbortController,ge=(ce=>{var Ne=ra();try{M&&Qt();var Oe=Ot(s,ce);return Oe=M?Oe.finally(yn):Oe}finally{Ne&&Rn()}})(fe={subscr:W,signal:H.signal,requery:ee,querier:s,trans:null}),Promise.resolve(ge).then(function(ce){v=!0,p=ce,q||fe.signal.aborted||(P={},(Ne=>{for(var Oe in Ne)if(x(Ne,Oe))return;return 1})(ue=W)||Q||(vn(Fi,ne),Q=!0),sa(function(){return!q&&N.next&&N.next(ce)}))},function(ce){v=!1,["DatabaseClosedError","AbortError"].includes(ce?.name)||q||sa(function(){q||N.error&&N.error(ce)})}))};return setTimeout(ee,0),F});return S.hasValue=function(){return v},S.getValue=function(){return p},S}var Si=da;function qo(s){var p=Ka;try{Ka=!0,vn.storagemutated.fire(s),Ho(s,!0)}finally{Ka=p}}_(Si,o(o({},I),{delete:function(s){return new Si(s,{addons:[]}).delete()},exists:function(s){return new Si(s,{addons:[]}).open().then(function(p){return p.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return p=Si.dependencies,v=p.indexedDB,p=p.IDBKeyRange,(El(v)?Promise.resolve(v.databases()).then(function(S){return S.map(function(N){return N.name}).filter(function(N){return N!==oi})}):To(v,p).toCollection().primaryKeys()).then(s)}catch{return At(new ze.MissingAPI)}var p,v},defineClass:function(){return function(s){b(this,s)}},ignoreTransaction:function(s){return Ze.trans?Dn(Ze.transless,s):s()},vip:Do,async:function(s){return function(){try{var p=Yr(s.apply(this,arguments));return p&&typeof p.then=="function"?p:$e.resolve(p)}catch(v){return At(v)}}},spawn:function(s,p,v){try{var S=Yr(s.apply(v,p||[]));return S&&typeof S.then=="function"?S:$e.resolve(S)}catch(N){return At(N)}},currentTransaction:{get:function(){return Ze.trans||null}},waitFor:function(s,p){return s=$e.resolve(typeof s=="function"?Si.ignoreTransaction(s):s).timeout(p||6e4),Ze.trans?Ze.trans.waitFor(s):s},Promise:$e,debug:{get:function(){return Je},set:function(s){ct(s)}},derive:D,extend:b,props:_,override:A,Events:fi,on:vn,liveQuery:uu,extendObservabilitySet:Cl,getByKeyPath:V,setByKeyPath:Y,delByKeyPath:function(s,p){typeof p=="string"?Y(s,p,void 0):"length"in p&&[].map.call(p,function(v){Y(s,v,void 0)})},shallowClone:de,deepClone:Ee,getObjectDiff:jl,cmp:ft,asap:G,minKey:-1/0,addons:[],connections:Ca,errnames:De,dependencies:ir,cache:bi,semVer:"4.3.0",version:"4.3.0".split(".").map(function(s){return parseInt(s)}).reduce(function(s,p,v){return s+p/Math.pow(10,2*v)})})),Si.maxKey=Wi(Si.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(vn(Fi,function(s){Ka||(s=new CustomEvent(yi,{detail:s}),Ka=!0,dispatchEvent(s),Ka=!1)}),addEventListener(yi,function(s){s=s.detail,Ka||qo(s)}));var rr,Ka=!1,jn=function(){};return typeof BroadcastChannel<"u"&&((jn=function(){(rr=new BroadcastChannel(yi)).onmessage=function(s){return s.data&&qo(s.data)}})(),typeof rr.unref=="function"&&rr.unref(),vn(Fi,function(s){Ka||rr.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!da.disableBfCache&&s.persisted){Je&&console.debug("Dexie: handling persisted pagehide"),rr?.close();for(var p=0,v=Ca;p<v.length;p++)v[p].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!da.disableBfCache&&s.persisted&&(Je&&console.debug("Dexie: handling persisted pageshow"),jn(),qo({all:new bn(-1/0,[[]])}))})),$e.rejectionMapper=function(s,p){return!s||s instanceof Se||s instanceof TypeError||s instanceof SyntaxError||!s.name||!lt[s.name]?s:(p=new lt[s.name](p||s.message,s),"stack"in s&&C(p,"stack",{get:function(){return this.inner.stack}}),p)},ct(Je),o(da,Object.freeze({__proto__:null,Dexie:da,Entity:pl,PropModification:qa,RangeSet:bn,add:function(s){return new qa({add:s})},cmp:ft,default:da,liveQuery:uu,mergeRanges:vi,rangesOverlap:tu,remove:function(s){return new qa({remove:s})},replacePrefix:function(s,p){return new qa({replacePrefix:[s,p]})}}),{default:da}),da})})(wc)),wc.exports}var QS=ZS();const Eh=qh(QS),Dg=Symbol.for("Dexie"),jc=globalThis[Dg]||(globalThis[Dg]=Eh);if(Eh.semVer!==jc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Eh.semVer} and ${jc.semVer}`);const{liveQuery:BM,mergeRanges:HM,rangesOverlap:LM,RangeSet:UM,cmp:qM,Entity:VM,PropModification:YM,replacePrefix:KM,add:$M,remove:XM,DexieYProvider:IM}=jc,na={machine:{label:"Machine",icon:"",color:"#6366f1"},sop:{label:"SOP",icon:"",color:"#f59e0b"},tool:{label:"Tool",icon:"",color:"#3b82f6"},skill:{label:"Skill",icon:"",color:"#8b5cf6"},note:{label:"Note",icon:"",color:"#64748b"}},Nh=[{value:"beginner",label:"Beginner",icon:""},{value:"intermediate",label:"Intermediate",icon:""},{value:"advanced",label:"Advanced",icon:""},{value:"expert",label:"Expert",icon:""}],c0=[{value:"feeds",label:"Feeds into",color:"#22c55e"},{value:"depends",label:"Depends on",color:"#f59e0b"},{value:"triggers",label:"Triggers",color:"#3b82f6"},{value:"supports",label:"Supports",color:"#8b5cf6"},{value:"custom",label:"Custom",color:"#64748b"}],Mc={critical:0,high:1,medium:2,low:3},Ss={problem:{amber:3,red:7,critical:14},staleness:{amber:7,red:14,critical:21},capture:{amber:1,red:2,critical:3},blocked:{amber:3,red:7,critical:14}},f0=[{id:"running",label:"Running",color:"#22c55e",icon:"",order:0},{id:"under",label:"Under Construction",color:"#f59e0b",icon:"",order:1},{id:"blocked",label:"Blocked",color:"#ef4444",icon:"",order:2},{id:"not-built",label:"Not Built",color:"#6b7280",icon:"",order:3},{id:"optimizing",label:"Optimizing",color:"#8b5cf6",icon:"",order:4},{id:"paused",label:"Paused",color:"#94a3b8",icon:"",order:5}];function Ui(n){return Math.floor((Date.now()-new Date(n).getTime())/(1e3*60*60*24))}function Zh(n){const i=Ui(n);return i===0?"today":i===1?"1 day ago":`${i} days ago`}const be=new jc("MachineCenter");be.version(7).stores({nodes:"id, parentId, type, statusId, createdAt",edges:"id, parentId, source, target",statuses:"id, order",problems:"id, machineNodeId, status, severity, createdAt",levers:"id, machineNodeId",principles:"id, machineNodeId",victoryConditions:"id, machineNodeId, order",vcSnapshots:"id, victoryConditionId, machineNodeId, recordedAt",statusChanges:"id, machineNodeId, changedAt",captures:"id, machineId, processed, createdAt",events:"id, nodeId, eventType, timestamp"});be.version(6).stores({nodes:"id, parentId, type, statusId, createdAt",edges:"id, parentId, source, target",statuses:"id, order",problems:"id, machineNodeId, status, severity, createdAt",levers:"id, machineNodeId",principles:"id, machineNodeId",victoryConditions:"id, machineNodeId, order",vcSnapshots:"id, victoryConditionId, machineNodeId, recordedAt",statusChanges:"id, machineNodeId, changedAt",captures:"id, machineId, processed, createdAt"});be.version(5).stores({nodes:"id, parentId, type, statusId, createdAt",edges:"id, parentId, source, target",statuses:"id, order",problems:"id, machineNodeId, status, severity, createdAt",levers:"id, machineNodeId",principles:"id, machineNodeId",victoryConditions:"id, machineNodeId, order",vcSnapshots:"id, victoryConditionId, machineNodeId, recordedAt",statusChanges:"id, machineNodeId, changedAt"}).upgrade(n=>n.table("edges").toCollection().modify(i=>{i.relationship||(i.relationship="feeds"),i.label===void 0&&(i.label="")}));be.version(4).stores({nodes:"id, parentId, type, statusId, createdAt",edges:"id, parentId, source, target",statuses:"id, order",problems:"id, machineNodeId, status, severity, createdAt",levers:"id, machineNodeId",principles:"id, machineNodeId",victoryConditions:"id, machineNodeId, order"}).upgrade(n=>n.table("nodes").toCollection().modify(i=>{i.type||(i.type="machine"),i.notes===void 0&&(i.notes=""),i.steps===void 0&&(i.steps=[]),i.toolUrl===void 0&&(i.toolUrl=""),i.proficiency===void 0&&(i.proficiency=null),i.bottleneck===void 0&&(i.bottleneck="")}));be.version(3).stores({nodes:"id, parentId, statusId, createdAt",edges:"id, parentId, source, target",statuses:"id, order",problems:"id, machineNodeId, status, severity, createdAt",levers:"id, machineNodeId",principles:"id, machineNodeId",victoryConditions:"id, machineNodeId, order"});be.version(2).stores({nodes:"id, parentId, statusId, createdAt",edges:"id, parentId, source, target",statuses:"id, order",problems:"id, machineNodeId, status, severity, createdAt",levers:"id, machineNodeId",principles:"id, machineNodeId"});be.on("populate",()=>{be.statuses.bulkAdd(f0)});be.on("ready",async()=>{await be.statuses.count()===0&&await be.statuses.bulkAdd(f0),await be.statuses.get("paused")||await be.statuses.add({id:"paused",label:"Paused",color:"#94a3b8",icon:"",order:5})});const Nn=[];for(let n=0;n<256;++n)Nn.push((n+256).toString(16).slice(1));function PS(n,i=0){return(Nn[n[i+0]]+Nn[n[i+1]]+Nn[n[i+2]]+Nn[n[i+3]]+"-"+Nn[n[i+4]]+Nn[n[i+5]]+"-"+Nn[n[i+6]]+Nn[n[i+7]]+"-"+Nn[n[i+8]]+Nn[n[i+9]]+"-"+Nn[n[i+10]]+Nn[n[i+11]]+Nn[n[i+12]]+Nn[n[i+13]]+Nn[n[i+14]]+Nn[n[i+15]]).toLowerCase()}let ah;const FS=new Uint8Array(16);function JS(){if(!ah){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ah=crypto.getRandomValues.bind(crypto)}return ah(FS)}const WS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zg={randomUUID:WS};function e_(n,i,l){n=n||{};const o=n.random??n.rng?.()??JS();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,PS(o)}function Nt(n,i,l){return zg.randomUUID&&!n?zg.randomUUID():e_(n)}function t_(){const[n,i]=O.useState(!1),[l,o]=O.useState(""),[u,f]=O.useState(!1),[h,y]=O.useState(0),b=O.useRef(null);O.useEffect(()=>{const x=()=>be.captures.filter(j=>!j.processed).count().then(y);x();const _=setInterval(x,5e3);return()=>clearInterval(_)},[]),O.useEffect(()=>{const x=_=>{(_.metaKey||_.ctrlKey)&&_.key==="."&&(_.preventDefault(),i(j=>!j))};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[]),O.useEffect(()=>{n&&b.current?.focus()},[n]);const m=O.useCallback(async()=>{if(!l.trim())return;const _=window.location.pathname.match(/\/machine\/([^/?]+)/)?.[1]||localStorage.getItem("lastViewedMachineId")||"";await be.captures.add({id:Nt(),text:l.trim(),machineId:_,processed:!1,createdAt:new Date}),o(""),f(!0),setTimeout(()=>f(!1),1200),y(j=>j+1)},[l]),w=x=>{x.key==="Enter"&&(x.preventDefault(),m()),x.key==="Escape"&&(i(!1),o(""))};return g.jsxs(g.Fragment,{children:[g.jsxs("button",{className:`capture-fab ${h>0?"has-items":""}`,onClick:()=>i(!0),title:"Quick Capture (.)",children:[g.jsx(_h,{size:20}),h>0&&g.jsx("span",{className:"capture-fab-badge",children:h})]}),n&&g.jsxs("div",{className:"capture-overlay",onClick:()=>{i(!1),o("")},children:[g.jsxs("div",{className:"capture-bar",onClick:x=>x.stopPropagation(),children:[g.jsx("div",{className:"capture-bar-icon",children:g.jsx(_h,{size:18})}),g.jsx("input",{ref:b,className:"capture-input",value:l,onChange:x=>o(x.target.value),onKeyDown:w,placeholder:"Capture a thought, observation, or idea..."}),l.trim()&&g.jsxs("button",{className:"capture-submit",onClick:m,children:[g.jsx(Ih,{size:16})," Capture"]}),g.jsx("button",{className:"capture-close",onClick:()=>{i(!1),o("")},children:g.jsx(Kc,{size:16})})]}),u&&g.jsx("div",{className:"capture-flash",children:" Captured"})]})]})}function _s(n,i){return n>=i.critical?"critical":n>=i.red?"red":n>=i.amber?"amber":"normal"}function n_(){const[n,i]=O.useState([]),[l,o]=O.useState(!0);return O.useEffect(()=>{a_().then(u=>{i(u),o(!1)})},[]),{items:n,loading:l}}async function a_(){const n=[],[i,l,o,u,f]=await Promise.all([be.problems.toArray(),be.nodes.toArray(),be.victoryConditions.toArray(),be.captures.filter(C=>!C.processed).toArray(),be.statusChanges.toArray()]),h=new Map(l.map(C=>[C.id,C])),y=C=>{let D=h.get(C);for(;D&&D.parentId;){const T=h.get(D.parentId);if(!T)break;D=T}return D?.id||C},b=i.filter(C=>C.status!=="resolved");for(const C of b){const D=Ui(C.createdAt),T=_s(D,Ss.problem);if(T==="normal")continue;const k=h.get(C.machineNodeId),z=y(C.machineNodeId);n.push({id:`prob-${C.id}`,type:"stale-problem",title:C.title||"Untitled problem",subtitle:`Open ${D}d on ${k?.label||"Unknown"}`,nodeId:C.machineNodeId,machineId:z,severity:T,ageDays:D,link:`/machine/${z}?parent=${z}`})}const m=l.filter(C=>C.statusId==="blocked");for(const C of m){const D=f.filter(A=>A.machineNodeId===C.id&&A.toStatusId==="blocked").sort((A,B)=>new Date(B.changedAt).getTime()-new Date(A.changedAt).getTime())[0],T=Ui(D?D.changedAt:C.updatedAt),k=_s(T,Ss.blocked);if(k==="normal")continue;const z=y(C.id);n.push({id:`blocked-${C.id}`,type:"blocked-machine",title:C.label,subtitle:`Blocked for ${T}d`,nodeId:C.id,machineId:z,severity:k,ageDays:T,link:`/machine/${z}?parent=${z}`})}const w=o.filter(C=>!C.met);for(const C of w){const D=h.get(C.machineNodeId);if(!D)continue;const T=Ui(D.updatedAt),k=_s(T,Ss.staleness);if(k==="normal")continue;const z=y(C.machineNodeId);n.push({id:`vc-${C.id}`,type:"unmet-vc",title:C.label||"Unnamed condition",subtitle:`Unmet on ${D.label}  last updated ${T}d ago`,nodeId:C.machineNodeId,machineId:z,severity:k,ageDays:T,link:`/machine/${z}?parent=${z}`})}const x=l.filter(C=>C.parentId===""&&C.type==="machine");for(const C of x){const D=Ui(C.updatedAt),T=_s(D,Ss.staleness);T!=="normal"&&C.statusId!=="blocked"&&n.push({id:`stale-${C.id}`,type:"stale-node",title:C.label,subtitle:`No activity for ${D}d`,nodeId:C.id,machineId:C.id,severity:T,ageDays:D,link:`/machine/${C.id}?parent=${C.id}`})}const _=u.filter(C=>!C.processed);if(_.length>0){const C=Math.max(..._.map(T=>Ui(T.createdAt))),D=_s(C,Ss.capture);D!=="normal"&&n.push({id:"captures",type:"aging-capture",title:`${_.length} unprocessed capture${_.length>1?"s":""}`,subtitle:`Oldest: ${C}d ago`,nodeId:"",machineId:"",severity:D,ageDays:C,link:"/inbox"})}const j={critical:0,red:1,amber:2,normal:3};return n.sort((C,D)=>{const T=(j[C.severity]??3)-(j[D.severity]??3);return T!==0?T:D.ageDays-C.ageDays}),n}const i_={critical:"",red:"",amber:"",normal:""},r_={"stale-problem":g.jsx(uo,{size:14}),"blocked-machine":g.jsx(ES,{size:14}),"unmet-vc":g.jsx(YS,{size:14}),"stale-node":g.jsx(_h,{size:14}),"aging-capture":g.jsx(Gh,{size:14})};function l_({items:n,onDismissAll:i}){const l=So();return n.length===0?null:g.jsxs("div",{className:"attention-panel",children:[g.jsxs("div",{className:"attention-header",children:[g.jsx("span",{className:"attention-title",children:" Needs Attention"}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("span",{className:"attention-count",children:n.length}),i&&g.jsx("button",{className:"attention-dismiss-all",onClick:i,children:"Dismiss All"})]})]}),g.jsx("div",{className:"attention-list",children:n.slice(0,8).map(o=>g.jsxs("button",{className:`attention-item severity-${o.severity}`,onClick:()=>l(o.link),children:[g.jsx("span",{className:"attention-icon",children:i_[o.severity]}),g.jsxs("div",{className:"attention-info",children:[g.jsxs("span",{className:"attention-item-title",children:[r_[o.type]," ",o.title]}),g.jsx("span",{className:"attention-item-subtitle",children:o.subtitle})]}),g.jsxs("span",{className:"attention-age",children:[o.ageDays,"d"]})]},o.id))})]})}function o_({machineName:n,summary:i,onConfirm:l,onCancel:o}){return g.jsx("div",{className:"modal-overlay",onClick:o,children:g.jsxs("div",{className:"modal delete-modal",onClick:u=>u.stopPropagation(),children:[g.jsx("div",{className:"delete-modal-icon",children:""}),g.jsxs("div",{className:"modal-title",style:{color:"#ef4444"},children:['Delete "',n,'"?']}),g.jsxs("p",{className:"delete-modal-desc",children:["This action is ",g.jsx("strong",{children:"permanent"})," and cannot be undone. The following will be deleted:"]}),g.jsxs("div",{className:"delete-summary",children:[i.nodes>0&&g.jsxs("div",{className:"delete-summary-row",children:[g.jsx("span",{children:" Machines"}),g.jsx("span",{children:i.nodes})]}),i.sops>0&&g.jsxs("div",{className:"delete-summary-row",children:[g.jsx("span",{children:" SOPs"}),g.jsx("span",{children:i.sops})]}),i.tools>0&&g.jsxs("div",{className:"delete-summary-row",children:[g.jsx("span",{children:" Tools"}),g.jsx("span",{children:i.tools})]}),i.skills>0&&g.jsxs("div",{className:"delete-summary-row",children:[g.jsx("span",{children:" Skills"}),g.jsx("span",{children:i.skills})]}),i.notes>0&&g.jsxs("div",{className:"delete-summary-row",children:[g.jsx("span",{children:" Notes"}),g.jsx("span",{children:i.notes})]}),i.problems>0&&g.jsxs("div",{className:"delete-summary-row",children:[g.jsx("span",{children:" Problems"}),g.jsx("span",{children:i.problems})]}),i.edges>0&&g.jsxs("div",{className:"delete-summary-row",children:[g.jsx("span",{children:" Connections"}),g.jsx("span",{children:i.edges})]})]}),g.jsxs("div",{className:"modal-actions",children:[g.jsx("button",{className:"btn btn-secondary",onClick:o,children:"Cancel"}),g.jsx("button",{className:"btn btn-danger",onClick:l,children:"Delete Everything"})]})]})})}function s_({results:n,query:i,onChangeQuery:l,onSelect:o,onClose:u,statuses:f,statusFilter:h,onStatusFilter:y}){const b=O.useRef(null);return O.useEffect(()=>{b.current?.focus()},[]),g.jsx("div",{className:"modal-overlay search-overlay",onClick:u,children:g.jsxs("div",{className:"search-panel",onClick:m=>m.stopPropagation(),children:[g.jsxs("div",{className:"search-header",children:[g.jsx(u0,{size:18}),g.jsx("input",{ref:b,className:"search-input",value:i,onChange:m=>l(m.target.value),placeholder:"Search all nodes across all machines..."}),g.jsx("button",{className:"btn btn-ghost btn-sm",onClick:u,children:g.jsx(Kc,{size:16})})]}),g.jsxs("div",{className:"search-filters",children:[g.jsx("button",{className:`search-filter-btn ${h===""?"active":""}`,onClick:()=>y(""),children:"All"}),f.map(m=>g.jsxs("button",{className:`search-filter-btn ${h===m.id?"active":""}`,onClick:()=>y(m.id),style:h===m.id?{borderColor:m.color,color:m.color}:{},children:[m.icon," ",m.label]},m.id))]}),g.jsxs("div",{className:"search-results",children:[n.length===0&&i.length>0&&g.jsx("div",{className:"search-empty",children:"No results found"}),n.length===0&&i.length===0&&h===""&&g.jsx("div",{className:"search-empty",children:"Type to search across all machines, SOPs, tools, skills, and notes"}),n.map(m=>{const w=na[m.node.type]||na.machine;return g.jsxs("div",{className:"search-result-row",onClick:()=>o(m),children:[g.jsx("div",{className:"search-result-badge",style:{background:`${w.color}20`,color:w.color},children:w.icon}),g.jsxs("div",{className:"search-result-info",children:[g.jsx("div",{className:"search-result-name",children:m.node.label}),g.jsx("div",{className:"search-result-path",children:m.path.join("  ")})]}),m.node.goal&&g.jsxs("div",{className:"search-result-goal",children:[" ",m.node.goal]})]},m.node.id)}),n.length>0&&g.jsxs("div",{className:"search-count",children:[n.length," result",n.length!==1?"s":""]})]})]})})}function u_(){const n=So(),[i,l]=O.useState([]),[o,u]=O.useState([]),[f,h]=O.useState([]),[y,b]=O.useState({}),[m,w]=O.useState(!1),[x,_]=O.useState(""),[j,C]=O.useState(""),[D,T]=O.useState(!1),[k,z]=O.useState(""),[A,B]=O.useState([]),[G,V]=O.useState([]),[Y,de]=O.useState(""),[he,Te]=O.useState(null),[le,ae]=O.useState(null),[Ee,K]=O.useState(null),[oe,U]=O.useState(0),{items:X}=n_(),[Z,se]=O.useState(!1);O.useEffect(()=>{Promise.all([be.nodes.where("parentId").equals("").toArray(),be.statuses.orderBy("order").toArray(),be.problems.toArray(),be.nodes.toArray(),be.captures.filter(Ae=>!Ae.processed).count()]).then(async([Ae,Ke,Ge,ie,ye])=>{l(Ae),u(Ke),h(Ge),V(ie),U(ye);const Xe={};for(const Fe of Ae){const Je=await be.nodes.where("parentId").equals(Fe.id).toArray();Xe[Fe.id]={total:Je.length,running:Je.filter(ct=>ct.statusId==="running"||ct.statusId==="optimizing").length,blocked:Je.filter(ct=>ct.statusId==="blocked").length}}b(Xe);const et=Ge.filter(Fe=>Fe.status==="resolved"&&Fe.resolvedAt);if(et.length>0){const Fe=et.reduce((Je,ct)=>{const Ut=Ui(ct.createdAt)-Ui(ct.resolvedAt);return Je+Math.abs(Ut)},0);K(Math.round(Fe/et.length))}})},[]),O.useEffect(()=>{if(!D)return;const Ae=k.toLowerCase().trim();let Ke=G;if(Y&&(Ke=Ke.filter(ie=>ie.statusId===Y)),Ae&&(Ke=Ke.filter(ie=>ie.label.toLowerCase().includes(Ae)||ie.goal?.toLowerCase().includes(Ae)||ie.description?.toLowerCase().includes(Ae)||ie.notes?.toLowerCase().includes(Ae)||ie.bottleneck?.toLowerCase().includes(Ae))),!Ae&&!Y){B([]);return}const Ge=Ke.map(ie=>{const ye=[];let Xe=ie;for(;Xe;)ye.unshift(Xe.label),Xe=G.find(Je=>Je.id===Xe.parentId);let et=ie.id,Fe=ie;for(;Fe&&Fe.parentId!=="";)et=Fe.parentId,Fe=G.find(Je=>Je.id===Fe.parentId);return{node:ie,path:ye,rootMachineId:et}});B(Ge.slice(0,50))},[k,Y,D,G]);const xe=Ae=>{T(!1),Ae.node.parentId===""?n(`/machine/${Ae.node.id}`):n(`/machine/${Ae.rootMachineId}?parent=${Ae.node.parentId}&select=${Ae.node.id}`)};O.useEffect(()=>{const Ae=Ke=>{(Ke.metaKey||Ke.ctrlKey)&&Ke.key==="k"&&(Ke.preventDefault(),T(Ge=>!Ge))};return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[]);const L=O.useCallback(async()=>{if(!x.trim())return;const Ae={id:Nt(),parentId:"",type:"machine",label:x.trim(),description:"",statusId:"not-built",position:{x:0,y:0},goal:j.trim(),bottleneck:"",notes:"",steps:[],toolUrl:"",proficiency:null,hasChildren:!0,createdAt:new Date,updatedAt:new Date};await be.nodes.add(Ae),l(Ke=>[...Ke,Ae]),V(Ke=>[...Ke,Ae]),_(""),C(""),w(!1)},[x,j]),I=async(Ae,Ke)=>{Ke.preventDefault(),Ke.stopPropagation(),Ke.nativeEvent.stopImmediatePropagation();const Ge=async ye=>{const Xe=await be.nodes.where("parentId").equals(ye).toArray(),et=await be.edges.where("parentId").equals(ye).count();let Je={nodes:0,sops:0,tools:0,skills:0,notes:0,problems:await be.problems.where("machineNodeId").equals(ye).count(),edges:et};for(const ct of Xe){ct.type==="machine"?Je.nodes++:ct.type==="sop"?Je.sops++:ct.type==="tool"?Je.tools++:ct.type==="skill"?Je.skills++:ct.type==="note"&&Je.notes++;const Ut=await Ge(ct.id);Je.nodes+=Ut.nodes,Je.sops+=Ut.sops,Je.tools+=Ut.tools,Je.skills+=Ut.skills,Je.notes+=Ut.notes,Je.problems+=Ut.problems,Je.edges+=Ut.edges}return Je},ie=await Ge(Ae.id);ie.nodes+=1,Te(Ae),ae(ie)},_e=async()=>{if(!he)return;const Ae=he.id;async function Ke(Ge){const ie=await be.nodes.where("parentId").equals(Ge).toArray();for(const ye of ie)await Ke(ye.id);await be.edges.where("parentId").equals(Ge).delete(),await be.problems.where("machineNodeId").equals(Ge).delete(),await be.victoryConditions.where("machineNodeId").equals(Ge).delete(),await be.statusChanges.where("machineNodeId").equals(Ge).delete(),await be.nodes.delete(Ge)}await Ke(Ae),l(Ge=>Ge.filter(ie=>ie.id!==Ae)),V(Ge=>Ge.filter(ie=>ie.id!==Ae&&ie.parentId!==Ae)),Te(null),ae(null)},Se=async(Ae,Ke)=>{Ke.preventDefault(),Ke.stopPropagation(),Ke.nativeEvent.stopImmediatePropagation();const Ge=new Map;async function ie(et,Fe){const Je=await be.nodes.get(et);if(!Je)return;const ct=Nt();Ge.set(et,ct);const Ut={...Je,id:ct,parentId:Fe,label:Fe===""?`${Je.label} (Copy)`:Je.label,createdAt:new Date,updatedAt:new Date,steps:Je.steps.map(zt=>({...zt,id:Nt(),done:!1}))};await be.nodes.add(Ut);const Wt=await be.nodes.where("parentId").equals(et).toArray();for(const zt of Wt)await ie(zt.id,ct);const kn=await be.edges.where("parentId").equals(et).toArray();for(const zt of kn)await be.edges.add({...zt,id:Nt(),parentId:ct,source:Ge.get(zt.source)||zt.source,target:Ge.get(zt.target)||zt.target});const qt=await be.victoryConditions.where("machineNodeId").equals(et).toArray();for(const zt of qt)await be.victoryConditions.add({...zt,id:Nt(),machineNodeId:ct})}await ie(Ae.id,"");const ye=await be.nodes.where("parentId").equals("").toArray();l(ye);const Xe=await be.nodes.toArray();V(Xe)},Be=async()=>{const Ae={exportedAt:new Date().toISOString(),version:7,nodes:await be.nodes.toArray(),edges:await be.edges.toArray(),statuses:await be.statuses.toArray(),problems:await be.problems.toArray(),levers:await be.levers.toArray(),principles:await be.principles.toArray(),victoryConditions:await be.victoryConditions.toArray(),vcSnapshots:await be.vcSnapshots.toArray(),statusChanges:await be.statusChanges.toArray(),captures:await be.captures.toArray(),events:await be.events.toArray()},Ke=new Blob([JSON.stringify(Ae,null,2)],{type:"application/json"}),Ge=URL.createObjectURL(Ke),ie=document.createElement("a");ie.href=Ge,ie.download=`machine-center-backup-${new Date().toISOString().slice(0,10)}.json`,ie.click(),URL.revokeObjectURL(Ge)},Le=async()=>{const Ae=document.createElement("input");Ae.type="file",Ae.accept=".json",Ae.onchange=async Ke=>{const Ge=Ke.target.files?.[0];if(!Ge)return;const ie=await Ge.text();try{const ye=JSON.parse(ie);if(!ye.nodes||!ye.edges){alert("Invalid backup file");return}await be.nodes.clear(),await be.edges.clear(),await be.problems.clear(),await be.victoryConditions.clear(),await be.vcSnapshots.clear(),await be.statusChanges.clear(),await be.levers.clear(),await be.principles.clear(),await be.captures.clear(),await be.events.clear(),ye.nodes.length&&await be.nodes.bulkAdd(ye.nodes),ye.edges.length&&await be.edges.bulkAdd(ye.edges),ye.problems?.length&&await be.problems.bulkAdd(ye.problems),ye.victoryConditions?.length&&await be.victoryConditions.bulkAdd(ye.victoryConditions),ye.vcSnapshots?.length&&await be.vcSnapshots.bulkAdd(ye.vcSnapshots),ye.statusChanges?.length&&await be.statusChanges.bulkAdd(ye.statusChanges),ye.levers?.length&&await be.levers.bulkAdd(ye.levers),ye.principles?.length&&await be.principles.bulkAdd(ye.principles),ye.captures?.length&&await be.captures.bulkAdd(ye.captures),ye.events?.length&&await be.events.bulkAdd(ye.events),window.location.reload()}catch(ye){alert("Failed to import: "+ye.message)}},Ae.click()},[He,De]=O.useState(null),[qe,ze]=O.useState(""),lt=(Ae,Ke,Ge)=>{Ge.stopPropagation(),De(Ae),ze(Ke)},Ue=async()=>{He&&(await be.nodes.update(He,{goal:qe,updatedAt:new Date}),l(Ae=>Ae.map(Ke=>Ke.id===He?{...Ke,goal:qe}:Ke)),De(null))};return g.jsxs("div",{className:"dashboard",children:[g.jsxs("div",{className:"dashboard-header",children:[g.jsx("div",{className:"dashboard-header-left",children:g.jsxs("div",{className:"dashboard-logo",children:[g.jsx("div",{className:"logo-icon",children:""}),g.jsxs("div",{children:[g.jsx("h1",{className:"dashboard-title",children:"Machine Center"}),g.jsx("p",{className:"dashboard-subtitle",children:"Design, operate, and evolve your machines"})]})]})}),g.jsxs("div",{className:"dashboard-header-right",children:[Ee!==null&&g.jsxs("div",{className:"loop-speed-badge",title:"Average days from problem logged to resolved",children:[" Loop: ",Ee,"d avg"]}),g.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:()=>n("/inbox"),title:"Inbox",children:[g.jsx(Gh,{size:16})," Inbox",oe>0&&g.jsx("span",{className:"inbox-header-badge",children:oe})]}),g.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:()=>T(!0),title:"Search (K)",children:[g.jsx(u0,{size:16})," Search"]}),g.jsxs("div",{className:"dashboard-dropdown",children:[g.jsxs("button",{className:"btn btn-ghost btn-sm",children:[g.jsx(jS,{size:16})," Data ",g.jsx(vS,{size:12})]}),g.jsxs("div",{className:"dashboard-dropdown-content",children:[g.jsx("button",{onClick:Be,children:" Export Backup (JSON)"}),g.jsx("button",{onClick:Le,children:" Import Backup"})]})]}),g.jsxs("button",{className:"btn btn-primary",onClick:()=>w(!0),children:[g.jsx(ol,{size:16})," New Machine"]})]})]}),X.length>0&&!Z&&g.jsx("div",{style:{padding:"0 32px",paddingTop:"20px"},children:g.jsx(l_,{items:X,onDismissAll:()=>se(!0)})}),g.jsxs("div",{className:"dashboard-grid",children:[i.map(Ae=>{const Ke=o.find(ye=>ye.id===Ae.statusId),Ge=f.filter(ye=>ye.machineNodeId===Ae.id&&ye.status!=="resolved"),ie=y[Ae.id];return g.jsxs("div",{className:"machine-card",onClick:ye=>{ye.target.closest(".machine-card-delete")||ye.target.closest(".machine-card-duplicate")||ye.target.closest(".goal-edit-area")||n(`/machine/${Ae.id}`)},style:{"--card-accent":Ke?.color??"#6b7280"},children:[g.jsxs("div",{className:"machine-card-header",children:[g.jsxs("span",{className:"machine-card-status",children:[Ke?.icon," ",Ke?.label]}),g.jsxs("div",{className:"machine-card-actions",children:[g.jsx("button",{className:"machine-card-duplicate",onClick:ye=>Se(Ae,ye),title:"Duplicate machine",children:g.jsx(CS,{size:13})}),g.jsx("button",{className:"machine-card-delete",onClick:ye=>I(Ae,ye),title:"Delete machine",children:""})]})]}),g.jsx("h3",{className:"machine-card-name",children:Ae.label}),g.jsx("div",{className:"goal-edit-area",onClick:ye=>ye.stopPropagation(),children:He===Ae.id?g.jsx("input",{className:"machine-card-goal-input",value:qe,onChange:ye=>ze(ye.target.value),onKeyDown:ye=>{ye.key==="Enter"&&Ue(),ye.key==="Escape"&&De(null)},onBlur:Ue,placeholder:"What's the goal?",autoFocus:!0}):Ae.goal?g.jsxs("div",{className:"machine-card-goal",onClick:ye=>lt(Ae.id,Ae.goal,ye),children:[" ",Ae.goal]}):g.jsxs("div",{className:"machine-card-prompt",onClick:ye=>lt(Ae.id,"",ye),children:[g.jsx(uo,{size:13})," Click to set goal"]})}),ie&&ie.total>0&&g.jsxs("div",{className:"machine-card-progress",children:[g.jsx("div",{className:"progress-bar-track",children:g.jsx("div",{className:"progress-bar-fill",style:{width:`${Math.round(ie.running/ie.total*100)}%`}})}),g.jsxs("span",{className:"progress-label",children:[ie.running,"/",ie.total," running",ie.blocked>0&&g.jsxs("span",{className:"progress-blocked",children:["  ",ie.blocked," blocked"]})]})]}),Ge.length>0&&g.jsxs("div",{className:"machine-card-problems",children:[g.jsx(uo,{size:13}),Ge.length," problem",Ge.length>1?"s":""]}),g.jsx("div",{className:"machine-card-footer",children:g.jsx("span",{className:"machine-card-date",children:new Date(Ae.updatedAt).toLocaleDateString()})})]},Ae.id)}),g.jsxs("div",{className:"machine-card new-card",onClick:()=>w(!0),children:[g.jsx(ol,{size:28}),g.jsx("span",{children:"New Machine"})]})]}),m&&g.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:g.jsxs("div",{className:"modal",onClick:Ae=>Ae.stopPropagation(),children:[g.jsx("div",{className:"modal-title",children:"Create New Machine"}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{className:"form-label",children:"Machine name"}),g.jsx("input",{className:"input",value:x,onChange:Ae=>_(Ae.target.value),placeholder:"e.g., Sales Machine, Content Machine...",autoFocus:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsxs("label",{className:"form-label",children:["Goal ",g.jsx("span",{className:"form-hint",children:"(what should it produce?)"})]}),g.jsx("input",{className:"input",value:j,onChange:Ae=>C(Ae.target.value),onKeyDown:Ae=>Ae.key==="Enter"&&L(),placeholder:"e.g., 100 qualified leads/month, $50k MRR..."})]}),g.jsxs("div",{className:"modal-actions",children:[g.jsx("button",{className:"btn btn-secondary",onClick:()=>w(!1),children:"Cancel"}),g.jsx("button",{className:"btn btn-primary",onClick:L,children:"Create"})]})]})}),he&&le&&g.jsx(o_,{machineName:he.label,summary:le,onConfirm:_e,onCancel:()=>{Te(null),ae(null)}}),D&&g.jsx(s_,{results:A,query:k,onChangeQuery:z,onSelect:xe,onClose:()=>{T(!1),z(""),de("")},statuses:o,statusFilter:Y,onStatusFilter:de})]})}function fn(n){if(typeof n=="string"||typeof n=="number")return""+n;let i="";if(Array.isArray(n))for(let l=0,o;l<n.length;l++)(o=fn(n[l]))!==""&&(i+=(i&&" ")+o);else for(let l in n)n[l]&&(i+=(i&&" ")+l);return i}var c_={value:()=>{}};function $c(){for(var n=0,i=arguments.length,l={},o;n<i;++n){if(!(o=arguments[n]+"")||o in l||/[\s.]/.test(o))throw new Error("illegal type: "+o);l[o]=[]}return new Sc(l)}function Sc(n){this._=n}function f_(n,i){return n.trim().split(/^|\s+/).map(function(l){var o="",u=l.indexOf(".");if(u>=0&&(o=l.slice(u+1),l=l.slice(0,u)),l&&!i.hasOwnProperty(l))throw new Error("unknown type: "+l);return{type:l,name:o}})}Sc.prototype=$c.prototype={constructor:Sc,on:function(n,i){var l=this._,o=f_(n+"",l),u,f=-1,h=o.length;if(arguments.length<2){for(;++f<h;)if((u=(n=o[f]).type)&&(u=d_(l[u],n.name)))return u;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++f<h;)if(u=(n=o[f]).type)l[u]=Og(l[u],n.name,i);else if(i==null)for(u in l)l[u]=Og(l[u],n.name,null);return this},copy:function(){var n={},i=this._;for(var l in i)n[l]=i[l].slice();return new Sc(n)},call:function(n,i){if((u=arguments.length-2)>0)for(var l=new Array(u),o=0,u,f;o<u;++o)l[o]=arguments[o+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(f=this._[n],o=0,u=f.length;o<u;++o)f[o].value.apply(i,l)},apply:function(n,i,l){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var o=this._[n],u=0,f=o.length;u<f;++u)o[u].value.apply(i,l)}};function d_(n,i){for(var l=0,o=n.length,u;l<o;++l)if((u=n[l]).name===i)return u.value}function Og(n,i,l){for(var o=0,u=n.length;o<u;++o)if(n[o].name===i){n[o]=c_,n=n.slice(0,o).concat(n.slice(o+1));break}return l!=null&&n.push({name:i,value:l}),n}var Ch="http://www.w3.org/1999/xhtml";const kg={svg:"http://www.w3.org/2000/svg",xhtml:Ch,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xc(n){var i=n+="",l=i.indexOf(":");return l>=0&&(i=n.slice(0,l))!=="xmlns"&&(n=n.slice(l+1)),kg.hasOwnProperty(i)?{space:kg[i],local:n}:n}function h_(n){return function(){var i=this.ownerDocument,l=this.namespaceURI;return l===Ch&&i.documentElement.namespaceURI===Ch?i.createElement(n):i.createElementNS(l,n)}}function p_(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function d0(n){var i=Xc(n);return(i.local?p_:h_)(i)}function m_(){}function Qh(n){return n==null?m_:function(){return this.querySelector(n)}}function y_(n){typeof n!="function"&&(n=Qh(n));for(var i=this._groups,l=i.length,o=new Array(l),u=0;u<l;++u)for(var f=i[u],h=f.length,y=o[u]=new Array(h),b,m,w=0;w<h;++w)(b=f[w])&&(m=n.call(b,b.__data__,w,f))&&("__data__"in b&&(m.__data__=b.__data__),y[w]=m);return new aa(o,this._parents)}function g_(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function v_(){return[]}function h0(n){return n==null?v_:function(){return this.querySelectorAll(n)}}function b_(n){return function(){return g_(n.apply(this,arguments))}}function x_(n){typeof n=="function"?n=b_(n):n=h0(n);for(var i=this._groups,l=i.length,o=[],u=[],f=0;f<l;++f)for(var h=i[f],y=h.length,b,m=0;m<y;++m)(b=h[m])&&(o.push(n.call(b,b.__data__,m,h)),u.push(b));return new aa(o,u)}function p0(n){return function(){return this.matches(n)}}function m0(n){return function(i){return i.matches(n)}}var w_=Array.prototype.find;function S_(n){return function(){return w_.call(this.children,n)}}function __(){return this.firstElementChild}function E_(n){return this.select(n==null?__:S_(typeof n=="function"?n:m0(n)))}var N_=Array.prototype.filter;function C_(){return Array.from(this.children)}function A_(n){return function(){return N_.call(this.children,n)}}function j_(n){return this.selectAll(n==null?C_:A_(typeof n=="function"?n:m0(n)))}function M_(n){typeof n!="function"&&(n=p0(n));for(var i=this._groups,l=i.length,o=new Array(l),u=0;u<l;++u)for(var f=i[u],h=f.length,y=o[u]=[],b,m=0;m<h;++m)(b=f[m])&&n.call(b,b.__data__,m,f)&&y.push(b);return new aa(o,this._parents)}function y0(n){return new Array(n.length)}function T_(){return new aa(this._enter||this._groups.map(y0),this._parents)}function Tc(n,i){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=i}Tc.prototype={constructor:Tc,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,i){return this._parent.insertBefore(n,i)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function D_(n){return function(){return n}}function z_(n,i,l,o,u,f){for(var h=0,y,b=i.length,m=f.length;h<m;++h)(y=i[h])?(y.__data__=f[h],o[h]=y):l[h]=new Tc(n,f[h]);for(;h<b;++h)(y=i[h])&&(u[h]=y)}function O_(n,i,l,o,u,f,h){var y,b,m=new Map,w=i.length,x=f.length,_=new Array(w),j;for(y=0;y<w;++y)(b=i[y])&&(_[y]=j=h.call(b,b.__data__,y,i)+"",m.has(j)?u[y]=b:m.set(j,b));for(y=0;y<x;++y)j=h.call(n,f[y],y,f)+"",(b=m.get(j))?(o[y]=b,b.__data__=f[y],m.delete(j)):l[y]=new Tc(n,f[y]);for(y=0;y<w;++y)(b=i[y])&&m.get(_[y])===b&&(u[y]=b)}function k_(n){return n.__data__}function R_(n,i){if(!arguments.length)return Array.from(this,k_);var l=i?O_:z_,o=this._parents,u=this._groups;typeof n!="function"&&(n=D_(n));for(var f=u.length,h=new Array(f),y=new Array(f),b=new Array(f),m=0;m<f;++m){var w=o[m],x=u[m],_=x.length,j=B_(n.call(w,w&&w.__data__,m,o)),C=j.length,D=y[m]=new Array(C),T=h[m]=new Array(C),k=b[m]=new Array(_);l(w,x,D,T,k,j,i);for(var z=0,A=0,B,G;z<C;++z)if(B=D[z]){for(z>=A&&(A=z+1);!(G=T[A])&&++A<C;);B._next=G||null}}return h=new aa(h,o),h._enter=y,h._exit=b,h}function B_(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function H_(){return new aa(this._exit||this._groups.map(y0),this._parents)}function L_(n,i,l){var o=this.enter(),u=this,f=this.exit();return typeof n=="function"?(o=n(o),o&&(o=o.selection())):o=o.append(n+""),i!=null&&(u=i(u),u&&(u=u.selection())),l==null?f.remove():l(f),o&&u?o.merge(u).order():u}function U_(n){for(var i=n.selection?n.selection():n,l=this._groups,o=i._groups,u=l.length,f=o.length,h=Math.min(u,f),y=new Array(u),b=0;b<h;++b)for(var m=l[b],w=o[b],x=m.length,_=y[b]=new Array(x),j,C=0;C<x;++C)(j=m[C]||w[C])&&(_[C]=j);for(;b<u;++b)y[b]=l[b];return new aa(y,this._parents)}function q_(){for(var n=this._groups,i=-1,l=n.length;++i<l;)for(var o=n[i],u=o.length-1,f=o[u],h;--u>=0;)(h=o[u])&&(f&&h.compareDocumentPosition(f)^4&&f.parentNode.insertBefore(h,f),f=h);return this}function V_(n){n||(n=Y_);function i(x,_){return x&&_?n(x.__data__,_.__data__):!x-!_}for(var l=this._groups,o=l.length,u=new Array(o),f=0;f<o;++f){for(var h=l[f],y=h.length,b=u[f]=new Array(y),m,w=0;w<y;++w)(m=h[w])&&(b[w]=m);b.sort(i)}return new aa(u,this._parents).order()}function Y_(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}function K_(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function $_(){return Array.from(this)}function X_(){for(var n=this._groups,i=0,l=n.length;i<l;++i)for(var o=n[i],u=0,f=o.length;u<f;++u){var h=o[u];if(h)return h}return null}function I_(){let n=0;for(const i of this)++n;return n}function G_(){return!this.node()}function Z_(n){for(var i=this._groups,l=0,o=i.length;l<o;++l)for(var u=i[l],f=0,h=u.length,y;f<h;++f)(y=u[f])&&n.call(y,y.__data__,f,u);return this}function Q_(n){return function(){this.removeAttribute(n)}}function P_(n){return function(){this.removeAttributeNS(n.space,n.local)}}function F_(n,i){return function(){this.setAttribute(n,i)}}function J_(n,i){return function(){this.setAttributeNS(n.space,n.local,i)}}function W_(n,i){return function(){var l=i.apply(this,arguments);l==null?this.removeAttribute(n):this.setAttribute(n,l)}}function eE(n,i){return function(){var l=i.apply(this,arguments);l==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,l)}}function tE(n,i){var l=Xc(n);if(arguments.length<2){var o=this.node();return l.local?o.getAttributeNS(l.space,l.local):o.getAttribute(l)}return this.each((i==null?l.local?P_:Q_:typeof i=="function"?l.local?eE:W_:l.local?J_:F_)(l,i))}function g0(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function nE(n){return function(){this.style.removeProperty(n)}}function aE(n,i,l){return function(){this.style.setProperty(n,i,l)}}function iE(n,i,l){return function(){var o=i.apply(this,arguments);o==null?this.style.removeProperty(n):this.style.setProperty(n,o,l)}}function rE(n,i,l){return arguments.length>1?this.each((i==null?nE:typeof i=="function"?iE:aE)(n,i,l??"")):co(this.node(),n)}function co(n,i){return n.style.getPropertyValue(i)||g0(n).getComputedStyle(n,null).getPropertyValue(i)}function lE(n){return function(){delete this[n]}}function oE(n,i){return function(){this[n]=i}}function sE(n,i){return function(){var l=i.apply(this,arguments);l==null?delete this[n]:this[n]=l}}function uE(n,i){return arguments.length>1?this.each((i==null?lE:typeof i=="function"?sE:oE)(n,i)):this.node()[n]}function v0(n){return n.trim().split(/^|\s+/)}function Ph(n){return n.classList||new b0(n)}function b0(n){this._node=n,this._names=v0(n.getAttribute("class")||"")}b0.prototype={add:function(n){var i=this._names.indexOf(n);i<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var i=this._names.indexOf(n);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function x0(n,i){for(var l=Ph(n),o=-1,u=i.length;++o<u;)l.add(i[o])}function w0(n,i){for(var l=Ph(n),o=-1,u=i.length;++o<u;)l.remove(i[o])}function cE(n){return function(){x0(this,n)}}function fE(n){return function(){w0(this,n)}}function dE(n,i){return function(){(i.apply(this,arguments)?x0:w0)(this,n)}}function hE(n,i){var l=v0(n+"");if(arguments.length<2){for(var o=Ph(this.node()),u=-1,f=l.length;++u<f;)if(!o.contains(l[u]))return!1;return!0}return this.each((typeof i=="function"?dE:i?cE:fE)(l,i))}function pE(){this.textContent=""}function mE(n){return function(){this.textContent=n}}function yE(n){return function(){var i=n.apply(this,arguments);this.textContent=i??""}}function gE(n){return arguments.length?this.each(n==null?pE:(typeof n=="function"?yE:mE)(n)):this.node().textContent}function vE(){this.innerHTML=""}function bE(n){return function(){this.innerHTML=n}}function xE(n){return function(){var i=n.apply(this,arguments);this.innerHTML=i??""}}function wE(n){return arguments.length?this.each(n==null?vE:(typeof n=="function"?xE:bE)(n)):this.node().innerHTML}function SE(){this.nextSibling&&this.parentNode.appendChild(this)}function _E(){return this.each(SE)}function EE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function NE(){return this.each(EE)}function CE(n){var i=typeof n=="function"?n:d0(n);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function AE(){return null}function jE(n,i){var l=typeof n=="function"?n:d0(n),o=i==null?AE:typeof i=="function"?i:Qh(i);return this.select(function(){return this.insertBefore(l.apply(this,arguments),o.apply(this,arguments)||null)})}function ME(){var n=this.parentNode;n&&n.removeChild(this)}function TE(){return this.each(ME)}function DE(){var n=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function zE(){var n=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(n,this.nextSibling):n}function OE(n){return this.select(n?zE:DE)}function kE(n){return arguments.length?this.property("__data__",n):this.node().__data__}function RE(n){return function(i){n.call(this,i,this.__data__)}}function BE(n){return n.trim().split(/^|\s+/).map(function(i){var l="",o=i.indexOf(".");return o>=0&&(l=i.slice(o+1),i=i.slice(0,o)),{type:i,name:l}})}function HE(n){return function(){var i=this.__on;if(i){for(var l=0,o=-1,u=i.length,f;l<u;++l)f=i[l],(!n.type||f.type===n.type)&&f.name===n.name?this.removeEventListener(f.type,f.listener,f.options):i[++o]=f;++o?i.length=o:delete this.__on}}}function LE(n,i,l){return function(){var o=this.__on,u,f=RE(i);if(o){for(var h=0,y=o.length;h<y;++h)if((u=o[h]).type===n.type&&u.name===n.name){this.removeEventListener(u.type,u.listener,u.options),this.addEventListener(u.type,u.listener=f,u.options=l),u.value=i;return}}this.addEventListener(n.type,f,l),u={type:n.type,name:n.name,value:i,listener:f,options:l},o?o.push(u):this.__on=[u]}}function UE(n,i,l){var o=BE(n+""),u,f=o.length,h;if(arguments.length<2){var y=this.node().__on;if(y){for(var b=0,m=y.length,w;b<m;++b)for(u=0,w=y[b];u<f;++u)if((h=o[u]).type===w.type&&h.name===w.name)return w.value}return}for(y=i?LE:HE,u=0;u<f;++u)this.each(y(o[u],i,l));return this}function S0(n,i,l){var o=g0(n),u=o.CustomEvent;typeof u=="function"?u=new u(i,l):(u=o.document.createEvent("Event"),l?(u.initEvent(i,l.bubbles,l.cancelable),u.detail=l.detail):u.initEvent(i,!1,!1)),n.dispatchEvent(u)}function qE(n,i){return function(){return S0(this,n,i)}}function VE(n,i){return function(){return S0(this,n,i.apply(this,arguments))}}function YE(n,i){return this.each((typeof i=="function"?VE:qE)(n,i))}function*KE(){for(var n=this._groups,i=0,l=n.length;i<l;++i)for(var o=n[i],u=0,f=o.length,h;u<f;++u)(h=o[u])&&(yield h)}var _0=[null];function aa(n,i){this._groups=n,this._parents=i}function Xs(){return new aa([[document.documentElement]],_0)}function $E(){return this}aa.prototype=Xs.prototype={constructor:aa,select:y_,selectAll:x_,selectChild:E_,selectChildren:j_,filter:M_,data:R_,enter:T_,exit:H_,join:L_,merge:U_,selection:$E,order:q_,sort:V_,call:K_,nodes:$_,node:X_,size:I_,empty:G_,each:Z_,attr:tE,style:rE,property:uE,classed:hE,text:gE,html:wE,raise:_E,lower:NE,append:CE,insert:jE,remove:TE,clone:OE,datum:kE,on:UE,dispatch:YE,[Symbol.iterator]:KE};function ta(n){return typeof n=="string"?new aa([[document.querySelector(n)]],[document.documentElement]):new aa([[n]],_0)}function XE(n){let i;for(;i=n.sourceEvent;)n=i;return n}function Da(n,i){if(n=XE(n),i===void 0&&(i=n.currentTarget),i){var l=i.ownerSVGElement||i;if(l.createSVGPoint){var o=l.createSVGPoint();return o.x=n.clientX,o.y=n.clientY,o=o.matrixTransform(i.getScreenCTM().inverse()),[o.x,o.y]}if(i.getBoundingClientRect){var u=i.getBoundingClientRect();return[n.clientX-u.left-i.clientLeft,n.clientY-u.top-i.clientTop]}}return[n.pageX,n.pageY]}const IE={passive:!1},zs={capture:!0,passive:!1};function ih(n){n.stopImmediatePropagation()}function oo(n){n.preventDefault(),n.stopImmediatePropagation()}function E0(n){var i=n.document.documentElement,l=ta(n).on("dragstart.drag",oo,zs);"onselectstart"in i?l.on("selectstart.drag",oo,zs):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none")}function N0(n,i){var l=n.document.documentElement,o=ta(n).on("dragstart.drag",null);i&&(o.on("click.drag",oo,zs),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in l?o.on("selectstart.drag",null):(l.style.MozUserSelect=l.__noselect,delete l.__noselect)}const uc=n=>()=>n;function Ah(n,{sourceEvent:i,subject:l,target:o,identifier:u,active:f,x:h,y,dx:b,dy:m,dispatch:w}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},subject:{value:l,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:u,enumerable:!0,configurable:!0},active:{value:f,enumerable:!0,configurable:!0},x:{value:h,enumerable:!0,configurable:!0},y:{value:y,enumerable:!0,configurable:!0},dx:{value:b,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:w}})}Ah.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function GE(n){return!n.ctrlKey&&!n.button}function ZE(){return this.parentNode}function QE(n,i){return i??{x:n.x,y:n.y}}function PE(){return navigator.maxTouchPoints||"ontouchstart"in this}function C0(){var n=GE,i=ZE,l=QE,o=PE,u={},f=$c("start","drag","end"),h=0,y,b,m,w,x=0;function _(B){B.on("mousedown.drag",j).filter(o).on("touchstart.drag",T).on("touchmove.drag",k,IE).on("touchend.drag touchcancel.drag",z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function j(B,G){if(!(w||!n.call(this,B,G))){var V=A(this,i.call(this,B,G),B,G,"mouse");V&&(ta(B.view).on("mousemove.drag",C,zs).on("mouseup.drag",D,zs),E0(B.view),ih(B),m=!1,y=B.clientX,b=B.clientY,V("start",B))}}function C(B){if(oo(B),!m){var G=B.clientX-y,V=B.clientY-b;m=G*G+V*V>x}u.mouse("drag",B)}function D(B){ta(B.view).on("mousemove.drag mouseup.drag",null),N0(B.view,m),oo(B),u.mouse("end",B)}function T(B,G){if(n.call(this,B,G)){var V=B.changedTouches,Y=i.call(this,B,G),de=V.length,he,Te;for(he=0;he<de;++he)(Te=A(this,Y,B,G,V[he].identifier,V[he]))&&(ih(B),Te("start",B,V[he]))}}function k(B){var G=B.changedTouches,V=G.length,Y,de;for(Y=0;Y<V;++Y)(de=u[G[Y].identifier])&&(oo(B),de("drag",B,G[Y]))}function z(B){var G=B.changedTouches,V=G.length,Y,de;for(w&&clearTimeout(w),w=setTimeout(function(){w=null},500),Y=0;Y<V;++Y)(de=u[G[Y].identifier])&&(ih(B),de("end",B,G[Y]))}function A(B,G,V,Y,de,he){var Te=f.copy(),le=Da(he||V,G),ae,Ee,K;if((K=l.call(B,new Ah("beforestart",{sourceEvent:V,target:_,identifier:de,active:h,x:le[0],y:le[1],dx:0,dy:0,dispatch:Te}),Y))!=null)return ae=K.x-le[0]||0,Ee=K.y-le[1]||0,function oe(U,X,Z){var se=le,xe;switch(U){case"start":u[de]=oe,xe=h++;break;case"end":delete u[de],--h;case"drag":le=Da(Z||X,G),xe=h;break}Te.call(U,B,new Ah(U,{sourceEvent:X,subject:K,target:_,identifier:de,active:xe,x:le[0]+ae,y:le[1]+Ee,dx:le[0]-se[0],dy:le[1]-se[1],dispatch:Te}),Y)}}return _.filter=function(B){return arguments.length?(n=typeof B=="function"?B:uc(!!B),_):n},_.container=function(B){return arguments.length?(i=typeof B=="function"?B:uc(B),_):i},_.subject=function(B){return arguments.length?(l=typeof B=="function"?B:uc(B),_):l},_.touchable=function(B){return arguments.length?(o=typeof B=="function"?B:uc(!!B),_):o},_.on=function(){var B=f.on.apply(f,arguments);return B===f?_:B},_.clickDistance=function(B){return arguments.length?(x=(B=+B)*B,_):Math.sqrt(x)},_}function Fh(n,i,l){n.prototype=i.prototype=l,l.constructor=n}function A0(n,i){var l=Object.create(n.prototype);for(var o in i)l[o]=i[o];return l}function Is(){}var Os=.7,Dc=1/Os,so="\\s*([+-]?\\d+)\\s*",ks="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FE=/^#([0-9a-f]{3,8})$/,JE=new RegExp(`^rgb\\(${so},${so},${so}\\)$`),WE=new RegExp(`^rgb\\(${Pa},${Pa},${Pa}\\)$`),e2=new RegExp(`^rgba\\(${so},${so},${so},${ks}\\)$`),t2=new RegExp(`^rgba\\(${Pa},${Pa},${Pa},${ks}\\)$`),n2=new RegExp(`^hsl\\(${ks},${Pa},${Pa}\\)$`),a2=new RegExp(`^hsla\\(${ks},${Pa},${Pa},${ks}\\)$`),Rg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fh(Is,sl,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Bg,formatHex:Bg,formatHex8:i2,formatHsl:r2,formatRgb:Hg,toString:Hg});function Bg(){return this.rgb().formatHex()}function i2(){return this.rgb().formatHex8()}function r2(){return j0(this).formatHsl()}function Hg(){return this.rgb().formatRgb()}function sl(n){var i,l;return n=(n+"").trim().toLowerCase(),(i=FE.exec(n))?(l=i[1].length,i=parseInt(i[1],16),l===6?Lg(i):l===3?new Xn(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):l===8?cc(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):l===4?cc(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=JE.exec(n))?new Xn(i[1],i[2],i[3],1):(i=WE.exec(n))?new Xn(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=e2.exec(n))?cc(i[1],i[2],i[3],i[4]):(i=t2.exec(n))?cc(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=n2.exec(n))?Vg(i[1],i[2]/100,i[3]/100,1):(i=a2.exec(n))?Vg(i[1],i[2]/100,i[3]/100,i[4]):Rg.hasOwnProperty(n)?Lg(Rg[n]):n==="transparent"?new Xn(NaN,NaN,NaN,0):null}function Lg(n){return new Xn(n>>16&255,n>>8&255,n&255,1)}function cc(n,i,l,o){return o<=0&&(n=i=l=NaN),new Xn(n,i,l,o)}function l2(n){return n instanceof Is||(n=sl(n)),n?(n=n.rgb(),new Xn(n.r,n.g,n.b,n.opacity)):new Xn}function jh(n,i,l,o){return arguments.length===1?l2(n):new Xn(n,i,l,o??1)}function Xn(n,i,l,o){this.r=+n,this.g=+i,this.b=+l,this.opacity=+o}Fh(Xn,jh,A0(Is,{brighter(n){return n=n==null?Dc:Math.pow(Dc,n),new Xn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Os:Math.pow(Os,n),new Xn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Xn(rl(this.r),rl(this.g),rl(this.b),zc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ug,formatHex:Ug,formatHex8:o2,formatRgb:qg,toString:qg}));function Ug(){return`#${il(this.r)}${il(this.g)}${il(this.b)}`}function o2(){return`#${il(this.r)}${il(this.g)}${il(this.b)}${il((isNaN(this.opacity)?1:this.opacity)*255)}`}function qg(){const n=zc(this.opacity);return`${n===1?"rgb(":"rgba("}${rl(this.r)}, ${rl(this.g)}, ${rl(this.b)}${n===1?")":`, ${n})`}`}function zc(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function rl(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function il(n){return n=rl(n),(n<16?"0":"")+n.toString(16)}function Vg(n,i,l,o){return o<=0?n=i=l=NaN:l<=0||l>=1?n=i=NaN:i<=0&&(n=NaN),new za(n,i,l,o)}function j0(n){if(n instanceof za)return new za(n.h,n.s,n.l,n.opacity);if(n instanceof Is||(n=sl(n)),!n)return new za;if(n instanceof za)return n;n=n.rgb();var i=n.r/255,l=n.g/255,o=n.b/255,u=Math.min(i,l,o),f=Math.max(i,l,o),h=NaN,y=f-u,b=(f+u)/2;return y?(i===f?h=(l-o)/y+(l<o)*6:l===f?h=(o-i)/y+2:h=(i-l)/y+4,y/=b<.5?f+u:2-f-u,h*=60):y=b>0&&b<1?0:h,new za(h,y,b,n.opacity)}function s2(n,i,l,o){return arguments.length===1?j0(n):new za(n,i,l,o??1)}function za(n,i,l,o){this.h=+n,this.s=+i,this.l=+l,this.opacity=+o}Fh(za,s2,A0(Is,{brighter(n){return n=n==null?Dc:Math.pow(Dc,n),new za(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Os:Math.pow(Os,n),new za(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,i=isNaN(n)||isNaN(this.s)?0:this.s,l=this.l,o=l+(l<.5?l:1-l)*i,u=2*l-o;return new Xn(rh(n>=240?n-240:n+120,u,o),rh(n,u,o),rh(n<120?n+240:n-120,u,o),this.opacity)},clamp(){return new za(Yg(this.h),fc(this.s),fc(this.l),zc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=zc(this.opacity);return`${n===1?"hsl(":"hsla("}${Yg(this.h)}, ${fc(this.s)*100}%, ${fc(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Yg(n){return n=(n||0)%360,n<0?n+360:n}function fc(n){return Math.max(0,Math.min(1,n||0))}function rh(n,i,l){return(n<60?i+(l-i)*n/60:n<180?l:n<240?i+(l-i)*(240-n)/60:i)*255}const Jh=n=>()=>n;function u2(n,i){return function(l){return n+l*i}}function c2(n,i,l){return n=Math.pow(n,l),i=Math.pow(i,l)-n,l=1/l,function(o){return Math.pow(n+o*i,l)}}function f2(n){return(n=+n)==1?M0:function(i,l){return l-i?c2(i,l,n):Jh(isNaN(i)?l:i)}}function M0(n,i){var l=i-n;return l?u2(n,l):Jh(isNaN(n)?i:n)}const Oc=(function n(i){var l=f2(i);function o(u,f){var h=l((u=jh(u)).r,(f=jh(f)).r),y=l(u.g,f.g),b=l(u.b,f.b),m=M0(u.opacity,f.opacity);return function(w){return u.r=h(w),u.g=y(w),u.b=b(w),u.opacity=m(w),u+""}}return o.gamma=n,o})(1);function d2(n,i){i||(i=[]);var l=n?Math.min(i.length,n.length):0,o=i.slice(),u;return function(f){for(u=0;u<l;++u)o[u]=n[u]*(1-f)+i[u]*f;return o}}function h2(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function p2(n,i){var l=i?i.length:0,o=n?Math.min(l,n.length):0,u=new Array(o),f=new Array(l),h;for(h=0;h<o;++h)u[h]=Ms(n[h],i[h]);for(;h<l;++h)f[h]=i[h];return function(y){for(h=0;h<o;++h)f[h]=u[h](y);return f}}function m2(n,i){var l=new Date;return n=+n,i=+i,function(o){return l.setTime(n*(1-o)+i*o),l}}function Qa(n,i){return n=+n,i=+i,function(l){return n*(1-l)+i*l}}function y2(n,i){var l={},o={},u;(n===null||typeof n!="object")&&(n={}),(i===null||typeof i!="object")&&(i={});for(u in i)u in n?l[u]=Ms(n[u],i[u]):o[u]=i[u];return function(f){for(u in l)o[u]=l[u](f);return o}}var Mh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lh=new RegExp(Mh.source,"g");function g2(n){return function(){return n}}function v2(n){return function(i){return n(i)+""}}function T0(n,i){var l=Mh.lastIndex=lh.lastIndex=0,o,u,f,h=-1,y=[],b=[];for(n=n+"",i=i+"";(o=Mh.exec(n))&&(u=lh.exec(i));)(f=u.index)>l&&(f=i.slice(l,f),y[h]?y[h]+=f:y[++h]=f),(o=o[0])===(u=u[0])?y[h]?y[h]+=u:y[++h]=u:(y[++h]=null,b.push({i:h,x:Qa(o,u)})),l=lh.lastIndex;return l<i.length&&(f=i.slice(l),y[h]?y[h]+=f:y[++h]=f),y.length<2?b[0]?v2(b[0].x):g2(i):(i=b.length,function(m){for(var w=0,x;w<i;++w)y[(x=b[w]).i]=x.x(m);return y.join("")})}function Ms(n,i){var l=typeof i,o;return i==null||l==="boolean"?Jh(i):(l==="number"?Qa:l==="string"?(o=sl(i))?(i=o,Oc):T0:i instanceof sl?Oc:i instanceof Date?m2:h2(i)?d2:Array.isArray(i)?p2:typeof i.valueOf!="function"&&typeof i.toString!="function"||isNaN(i)?y2:Qa)(n,i)}var Kg=180/Math.PI,Th={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function D0(n,i,l,o,u,f){var h,y,b;return(h=Math.sqrt(n*n+i*i))&&(n/=h,i/=h),(b=n*l+i*o)&&(l-=n*b,o-=i*b),(y=Math.sqrt(l*l+o*o))&&(l/=y,o/=y,b/=y),n*o<i*l&&(n=-n,i=-i,b=-b,h=-h),{translateX:u,translateY:f,rotate:Math.atan2(i,n)*Kg,skewX:Math.atan(b)*Kg,scaleX:h,scaleY:y}}var dc;function b2(n){const i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return i.isIdentity?Th:D0(i.a,i.b,i.c,i.d,i.e,i.f)}function x2(n){return n==null||(dc||(dc=document.createElementNS("http://www.w3.org/2000/svg","g")),dc.setAttribute("transform",n),!(n=dc.transform.baseVal.consolidate()))?Th:(n=n.matrix,D0(n.a,n.b,n.c,n.d,n.e,n.f))}function z0(n,i,l,o){function u(m){return m.length?m.pop()+" ":""}function f(m,w,x,_,j,C){if(m!==x||w!==_){var D=j.push("translate(",null,i,null,l);C.push({i:D-4,x:Qa(m,x)},{i:D-2,x:Qa(w,_)})}else(x||_)&&j.push("translate("+x+i+_+l)}function h(m,w,x,_){m!==w?(m-w>180?w+=360:w-m>180&&(m+=360),_.push({i:x.push(u(x)+"rotate(",null,o)-2,x:Qa(m,w)})):w&&x.push(u(x)+"rotate("+w+o)}function y(m,w,x,_){m!==w?_.push({i:x.push(u(x)+"skewX(",null,o)-2,x:Qa(m,w)}):w&&x.push(u(x)+"skewX("+w+o)}function b(m,w,x,_,j,C){if(m!==x||w!==_){var D=j.push(u(j)+"scale(",null,",",null,")");C.push({i:D-4,x:Qa(m,x)},{i:D-2,x:Qa(w,_)})}else(x!==1||_!==1)&&j.push(u(j)+"scale("+x+","+_+")")}return function(m,w){var x=[],_=[];return m=n(m),w=n(w),f(m.translateX,m.translateY,w.translateX,w.translateY,x,_),h(m.rotate,w.rotate,x,_),y(m.skewX,w.skewX,x,_),b(m.scaleX,m.scaleY,w.scaleX,w.scaleY,x,_),m=w=null,function(j){for(var C=-1,D=_.length,T;++C<D;)x[(T=_[C]).i]=T.x(j);return x.join("")}}}var w2=z0(b2,"px, ","px)","deg)"),S2=z0(x2,", ",")",")"),_2=1e-12;function $g(n){return((n=Math.exp(n))+1/n)/2}function E2(n){return((n=Math.exp(n))-1/n)/2}function N2(n){return((n=Math.exp(2*n))-1)/(n+1)}const _c=(function n(i,l,o){function u(f,h){var y=f[0],b=f[1],m=f[2],w=h[0],x=h[1],_=h[2],j=w-y,C=x-b,D=j*j+C*C,T,k;if(D<_2)k=Math.log(_/m)/i,T=function(Y){return[y+Y*j,b+Y*C,m*Math.exp(i*Y*k)]};else{var z=Math.sqrt(D),A=(_*_-m*m+o*D)/(2*m*l*z),B=(_*_-m*m-o*D)/(2*_*l*z),G=Math.log(Math.sqrt(A*A+1)-A),V=Math.log(Math.sqrt(B*B+1)-B);k=(V-G)/i,T=function(Y){var de=Y*k,he=$g(G),Te=m/(l*z)*(he*N2(i*de+G)-E2(G));return[y+Te*j,b+Te*C,m*he/$g(i*de+G)]}}return T.duration=k*1e3*i/Math.SQRT2,T}return u.rho=function(f){var h=Math.max(.001,+f),y=h*h,b=y*y;return n(h,y,b)},u})(Math.SQRT2,2,4);var fo=0,Cs=0,Es=0,O0=1e3,kc,As,Rc=0,ul=0,Ic=0,Rs=typeof performance=="object"&&performance.now?performance:Date,k0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Wh(){return ul||(k0(C2),ul=Rs.now()+Ic)}function C2(){ul=0}function Bc(){this._call=this._time=this._next=null}Bc.prototype=R0.prototype={constructor:Bc,restart:function(n,i,l){if(typeof n!="function")throw new TypeError("callback is not a function");l=(l==null?Wh():+l)+(i==null?0:+i),!this._next&&As!==this&&(As?As._next=this:kc=this,As=this),this._call=n,this._time=l,Dh()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dh())}};function R0(n,i,l){var o=new Bc;return o.restart(n,i,l),o}function A2(){Wh(),++fo;for(var n=kc,i;n;)(i=ul-n._time)>=0&&n._call.call(void 0,i),n=n._next;--fo}function Xg(){ul=(Rc=Rs.now())+Ic,fo=Cs=0;try{A2()}finally{fo=0,M2(),ul=0}}function j2(){var n=Rs.now(),i=n-Rc;i>O0&&(Ic-=i,Rc=n)}function M2(){for(var n,i=kc,l,o=1/0;i;)i._call?(o>i._time&&(o=i._time),n=i,i=i._next):(l=i._next,i._next=null,i=n?n._next=l:kc=l);As=n,Dh(o)}function Dh(n){if(!fo){Cs&&(Cs=clearTimeout(Cs));var i=n-ul;i>24?(n<1/0&&(Cs=setTimeout(Xg,n-Rs.now()-Ic)),Es&&(Es=clearInterval(Es))):(Es||(Rc=Rs.now(),Es=setInterval(j2,O0)),fo=1,k0(Xg))}}function Ig(n,i,l){var o=new Bc;return i=i==null?0:+i,o.restart(u=>{o.stop(),n(u+i)},i,l),o}var T2=$c("start","end","cancel","interrupt"),D2=[],B0=0,Gg=1,zh=2,Ec=3,Zg=4,Oh=5,Nc=6;function Gc(n,i,l,o,u,f){var h=n.__transition;if(!h)n.__transition={};else if(l in h)return;z2(n,l,{name:i,index:o,group:u,on:T2,tween:D2,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:B0})}function ep(n,i){var l=Ba(n,i);if(l.state>B0)throw new Error("too late; already scheduled");return l}function Wa(n,i){var l=Ba(n,i);if(l.state>Ec)throw new Error("too late; already running");return l}function Ba(n,i){var l=n.__transition;if(!l||!(l=l[i]))throw new Error("transition not found");return l}function z2(n,i,l){var o=n.__transition,u;o[i]=l,l.timer=R0(f,0,l.time);function f(m){l.state=Gg,l.timer.restart(h,l.delay,l.time),l.delay<=m&&h(m-l.delay)}function h(m){var w,x,_,j;if(l.state!==Gg)return b();for(w in o)if(j=o[w],j.name===l.name){if(j.state===Ec)return Ig(h);j.state===Zg?(j.state=Nc,j.timer.stop(),j.on.call("interrupt",n,n.__data__,j.index,j.group),delete o[w]):+w<i&&(j.state=Nc,j.timer.stop(),j.on.call("cancel",n,n.__data__,j.index,j.group),delete o[w])}if(Ig(function(){l.state===Ec&&(l.state=Zg,l.timer.restart(y,l.delay,l.time),y(m))}),l.state=zh,l.on.call("start",n,n.__data__,l.index,l.group),l.state===zh){for(l.state=Ec,u=new Array(_=l.tween.length),w=0,x=-1;w<_;++w)(j=l.tween[w].value.call(n,n.__data__,l.index,l.group))&&(u[++x]=j);u.length=x+1}}function y(m){for(var w=m<l.duration?l.ease.call(null,m/l.duration):(l.timer.restart(b),l.state=Oh,1),x=-1,_=u.length;++x<_;)u[x].call(n,w);l.state===Oh&&(l.on.call("end",n,n.__data__,l.index,l.group),b())}function b(){l.state=Nc,l.timer.stop(),delete o[i];for(var m in o)return;delete n.__transition}}function Cc(n,i){var l=n.__transition,o,u,f=!0,h;if(l){i=i==null?null:i+"";for(h in l){if((o=l[h]).name!==i){f=!1;continue}u=o.state>zh&&o.state<Oh,o.state=Nc,o.timer.stop(),o.on.call(u?"interrupt":"cancel",n,n.__data__,o.index,o.group),delete l[h]}f&&delete n.__transition}}function O2(n){return this.each(function(){Cc(this,n)})}function k2(n,i){var l,o;return function(){var u=Wa(this,n),f=u.tween;if(f!==l){o=l=f;for(var h=0,y=o.length;h<y;++h)if(o[h].name===i){o=o.slice(),o.splice(h,1);break}}u.tween=o}}function R2(n,i,l){var o,u;if(typeof l!="function")throw new Error;return function(){var f=Wa(this,n),h=f.tween;if(h!==o){u=(o=h).slice();for(var y={name:i,value:l},b=0,m=u.length;b<m;++b)if(u[b].name===i){u[b]=y;break}b===m&&u.push(y)}f.tween=u}}function B2(n,i){var l=this._id;if(n+="",arguments.length<2){for(var o=Ba(this.node(),l).tween,u=0,f=o.length,h;u<f;++u)if((h=o[u]).name===n)return h.value;return null}return this.each((i==null?k2:R2)(l,n,i))}function tp(n,i,l){var o=n._id;return n.each(function(){var u=Wa(this,o);(u.value||(u.value={}))[i]=l.apply(this,arguments)}),function(u){return Ba(u,o).value[i]}}function H0(n,i){var l;return(typeof i=="number"?Qa:i instanceof sl?Oc:(l=sl(i))?(i=l,Oc):T0)(n,i)}function H2(n){return function(){this.removeAttribute(n)}}function L2(n){return function(){this.removeAttributeNS(n.space,n.local)}}function U2(n,i,l){var o,u=l+"",f;return function(){var h=this.getAttribute(n);return h===u?null:h===o?f:f=i(o=h,l)}}function q2(n,i,l){var o,u=l+"",f;return function(){var h=this.getAttributeNS(n.space,n.local);return h===u?null:h===o?f:f=i(o=h,l)}}function V2(n,i,l){var o,u,f;return function(){var h,y=l(this),b;return y==null?void this.removeAttribute(n):(h=this.getAttribute(n),b=y+"",h===b?null:h===o&&b===u?f:(u=b,f=i(o=h,y)))}}function Y2(n,i,l){var o,u,f;return function(){var h,y=l(this),b;return y==null?void this.removeAttributeNS(n.space,n.local):(h=this.getAttributeNS(n.space,n.local),b=y+"",h===b?null:h===o&&b===u?f:(u=b,f=i(o=h,y)))}}function K2(n,i){var l=Xc(n),o=l==="transform"?S2:H0;return this.attrTween(n,typeof i=="function"?(l.local?Y2:V2)(l,o,tp(this,"attr."+n,i)):i==null?(l.local?L2:H2)(l):(l.local?q2:U2)(l,o,i))}function $2(n,i){return function(l){this.setAttribute(n,i.call(this,l))}}function X2(n,i){return function(l){this.setAttributeNS(n.space,n.local,i.call(this,l))}}function I2(n,i){var l,o;function u(){var f=i.apply(this,arguments);return f!==o&&(l=(o=f)&&X2(n,f)),l}return u._value=i,u}function G2(n,i){var l,o;function u(){var f=i.apply(this,arguments);return f!==o&&(l=(o=f)&&$2(n,f)),l}return u._value=i,u}function Z2(n,i){var l="attr."+n;if(arguments.length<2)return(l=this.tween(l))&&l._value;if(i==null)return this.tween(l,null);if(typeof i!="function")throw new Error;var o=Xc(n);return this.tween(l,(o.local?I2:G2)(o,i))}function Q2(n,i){return function(){ep(this,n).delay=+i.apply(this,arguments)}}function P2(n,i){return i=+i,function(){ep(this,n).delay=i}}function F2(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?Q2:P2)(i,n)):Ba(this.node(),i).delay}function J2(n,i){return function(){Wa(this,n).duration=+i.apply(this,arguments)}}function W2(n,i){return i=+i,function(){Wa(this,n).duration=i}}function eN(n){var i=this._id;return arguments.length?this.each((typeof n=="function"?J2:W2)(i,n)):Ba(this.node(),i).duration}function tN(n,i){if(typeof i!="function")throw new Error;return function(){Wa(this,n).ease=i}}function nN(n){var i=this._id;return arguments.length?this.each(tN(i,n)):Ba(this.node(),i).ease}function aN(n,i){return function(){var l=i.apply(this,arguments);if(typeof l!="function")throw new Error;Wa(this,n).ease=l}}function iN(n){if(typeof n!="function")throw new Error;return this.each(aN(this._id,n))}function rN(n){typeof n!="function"&&(n=p0(n));for(var i=this._groups,l=i.length,o=new Array(l),u=0;u<l;++u)for(var f=i[u],h=f.length,y=o[u]=[],b,m=0;m<h;++m)(b=f[m])&&n.call(b,b.__data__,m,f)&&y.push(b);return new $i(o,this._parents,this._name,this._id)}function lN(n){if(n._id!==this._id)throw new Error;for(var i=this._groups,l=n._groups,o=i.length,u=l.length,f=Math.min(o,u),h=new Array(o),y=0;y<f;++y)for(var b=i[y],m=l[y],w=b.length,x=h[y]=new Array(w),_,j=0;j<w;++j)(_=b[j]||m[j])&&(x[j]=_);for(;y<o;++y)h[y]=i[y];return new $i(h,this._parents,this._name,this._id)}function oN(n){return(n+"").trim().split(/^|\s+/).every(function(i){var l=i.indexOf(".");return l>=0&&(i=i.slice(0,l)),!i||i==="start"})}function sN(n,i,l){var o,u,f=oN(i)?ep:Wa;return function(){var h=f(this,n),y=h.on;y!==o&&(u=(o=y).copy()).on(i,l),h.on=u}}function uN(n,i){var l=this._id;return arguments.length<2?Ba(this.node(),l).on.on(n):this.each(sN(l,n,i))}function cN(n){return function(){var i=this.parentNode;for(var l in this.__transition)if(+l!==n)return;i&&i.removeChild(this)}}function fN(){return this.on("end.remove",cN(this._id))}function dN(n){var i=this._name,l=this._id;typeof n!="function"&&(n=Qh(n));for(var o=this._groups,u=o.length,f=new Array(u),h=0;h<u;++h)for(var y=o[h],b=y.length,m=f[h]=new Array(b),w,x,_=0;_<b;++_)(w=y[_])&&(x=n.call(w,w.__data__,_,y))&&("__data__"in w&&(x.__data__=w.__data__),m[_]=x,Gc(m[_],i,l,_,m,Ba(w,l)));return new $i(f,this._parents,i,l)}function hN(n){var i=this._name,l=this._id;typeof n!="function"&&(n=h0(n));for(var o=this._groups,u=o.length,f=[],h=[],y=0;y<u;++y)for(var b=o[y],m=b.length,w,x=0;x<m;++x)if(w=b[x]){for(var _=n.call(w,w.__data__,x,b),j,C=Ba(w,l),D=0,T=_.length;D<T;++D)(j=_[D])&&Gc(j,i,l,D,_,C);f.push(_),h.push(w)}return new $i(f,h,i,l)}var pN=Xs.prototype.constructor;function mN(){return new pN(this._groups,this._parents)}function yN(n,i){var l,o,u;return function(){var f=co(this,n),h=(this.style.removeProperty(n),co(this,n));return f===h?null:f===l&&h===o?u:u=i(l=f,o=h)}}function L0(n){return function(){this.style.removeProperty(n)}}function gN(n,i,l){var o,u=l+"",f;return function(){var h=co(this,n);return h===u?null:h===o?f:f=i(o=h,l)}}function vN(n,i,l){var o,u,f;return function(){var h=co(this,n),y=l(this),b=y+"";return y==null&&(b=y=(this.style.removeProperty(n),co(this,n))),h===b?null:h===o&&b===u?f:(u=b,f=i(o=h,y))}}function bN(n,i){var l,o,u,f="style."+i,h="end."+f,y;return function(){var b=Wa(this,n),m=b.on,w=b.value[f]==null?y||(y=L0(i)):void 0;(m!==l||u!==w)&&(o=(l=m).copy()).on(h,u=w),b.on=o}}function xN(n,i,l){var o=(n+="")=="transform"?w2:H0;return i==null?this.styleTween(n,yN(n,o)).on("end.style."+n,L0(n)):typeof i=="function"?this.styleTween(n,vN(n,o,tp(this,"style."+n,i))).each(bN(this._id,n)):this.styleTween(n,gN(n,o,i),l).on("end.style."+n,null)}function wN(n,i,l){return function(o){this.style.setProperty(n,i.call(this,o),l)}}function SN(n,i,l){var o,u;function f(){var h=i.apply(this,arguments);return h!==u&&(o=(u=h)&&wN(n,h,l)),o}return f._value=i,f}function _N(n,i,l){var o="style."+(n+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(i==null)return this.tween(o,null);if(typeof i!="function")throw new Error;return this.tween(o,SN(n,i,l??""))}function EN(n){return function(){this.textContent=n}}function NN(n){return function(){var i=n(this);this.textContent=i??""}}function CN(n){return this.tween("text",typeof n=="function"?NN(tp(this,"text",n)):EN(n==null?"":n+""))}function AN(n){return function(i){this.textContent=n.call(this,i)}}function jN(n){var i,l;function o(){var u=n.apply(this,arguments);return u!==l&&(i=(l=u)&&AN(u)),i}return o._value=n,o}function MN(n){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,jN(n))}function TN(){for(var n=this._name,i=this._id,l=U0(),o=this._groups,u=o.length,f=0;f<u;++f)for(var h=o[f],y=h.length,b,m=0;m<y;++m)if(b=h[m]){var w=Ba(b,i);Gc(b,n,l,m,h,{time:w.time+w.delay+w.duration,delay:0,duration:w.duration,ease:w.ease})}return new $i(o,this._parents,n,l)}function DN(){var n,i,l=this,o=l._id,u=l.size();return new Promise(function(f,h){var y={value:h},b={value:function(){--u===0&&f()}};l.each(function(){var m=Wa(this,o),w=m.on;w!==n&&(i=(n=w).copy(),i._.cancel.push(y),i._.interrupt.push(y),i._.end.push(b)),m.on=i}),u===0&&f()})}var zN=0;function $i(n,i,l,o){this._groups=n,this._parents=i,this._name=l,this._id=o}function U0(){return++zN}var Li=Xs.prototype;$i.prototype={constructor:$i,select:dN,selectAll:hN,selectChild:Li.selectChild,selectChildren:Li.selectChildren,filter:rN,merge:lN,selection:mN,transition:TN,call:Li.call,nodes:Li.nodes,node:Li.node,size:Li.size,empty:Li.empty,each:Li.each,on:uN,attr:K2,attrTween:Z2,style:xN,styleTween:_N,text:CN,textTween:MN,remove:fN,tween:B2,delay:F2,duration:eN,ease:nN,easeVarying:iN,end:DN,[Symbol.iterator]:Li[Symbol.iterator]};function ON(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var kN={time:null,delay:0,duration:250,ease:ON};function RN(n,i){for(var l;!(l=n.__transition)||!(l=l[i]);)if(!(n=n.parentNode))throw new Error(`transition ${i} not found`);return l}function BN(n){var i,l;n instanceof $i?(i=n._id,n=n._name):(i=U0(),(l=kN).time=Wh(),n=n==null?null:n+"");for(var o=this._groups,u=o.length,f=0;f<u;++f)for(var h=o[f],y=h.length,b,m=0;m<y;++m)(b=h[m])&&Gc(b,n,i,m,h,l||RN(b,i));return new $i(o,this._parents,n,i)}Xs.prototype.interrupt=O2;Xs.prototype.transition=BN;const hc=n=>()=>n;function HN(n,{sourceEvent:i,target:l,transform:o,dispatch:u}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:i,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:u}})}function qi(n,i,l){this.k=n,this.x=i,this.y=l}qi.prototype={constructor:qi,scale:function(n){return n===1?this:new qi(this.k*n,this.x,this.y)},translate:function(n,i){return n===0&i===0?this:new qi(this.k,this.x+this.k*n,this.y+this.k*i)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zc=new qi(1,0,0);q0.prototype=qi.prototype;function q0(n){for(;!n.__zoom;)if(!(n=n.parentNode))return Zc;return n.__zoom}function oh(n){n.stopImmediatePropagation()}function Ns(n){n.preventDefault(),n.stopImmediatePropagation()}function LN(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function UN(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Qg(){return this.__zoom||Zc}function qN(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function VN(){return navigator.maxTouchPoints||"ontouchstart"in this}function YN(n,i,l){var o=n.invertX(i[0][0])-l[0][0],u=n.invertX(i[1][0])-l[1][0],f=n.invertY(i[0][1])-l[0][1],h=n.invertY(i[1][1])-l[1][1];return n.translate(u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u),h>f?(f+h)/2:Math.min(0,f)||Math.max(0,h))}function V0(){var n=LN,i=UN,l=YN,o=qN,u=VN,f=[0,1/0],h=[[-1/0,-1/0],[1/0,1/0]],y=250,b=_c,m=$c("start","zoom","end"),w,x,_,j=500,C=150,D=0,T=10;function k(K){K.property("__zoom",Qg).on("wheel.zoom",de,{passive:!1}).on("mousedown.zoom",he).on("dblclick.zoom",Te).filter(u).on("touchstart.zoom",le).on("touchmove.zoom",ae).on("touchend.zoom touchcancel.zoom",Ee).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(K,oe,U,X){var Z=K.selection?K.selection():K;Z.property("__zoom",Qg),K!==Z?G(K,oe,U,X):Z.interrupt().each(function(){V(this,arguments).event(X).start().zoom(null,typeof oe=="function"?oe.apply(this,arguments):oe).end()})},k.scaleBy=function(K,oe,U,X){k.scaleTo(K,function(){var Z=this.__zoom.k,se=typeof oe=="function"?oe.apply(this,arguments):oe;return Z*se},U,X)},k.scaleTo=function(K,oe,U,X){k.transform(K,function(){var Z=i.apply(this,arguments),se=this.__zoom,xe=U==null?B(Z):typeof U=="function"?U.apply(this,arguments):U,L=se.invert(xe),I=typeof oe=="function"?oe.apply(this,arguments):oe;return l(A(z(se,I),xe,L),Z,h)},U,X)},k.translateBy=function(K,oe,U,X){k.transform(K,function(){return l(this.__zoom.translate(typeof oe=="function"?oe.apply(this,arguments):oe,typeof U=="function"?U.apply(this,arguments):U),i.apply(this,arguments),h)},null,X)},k.translateTo=function(K,oe,U,X,Z){k.transform(K,function(){var se=i.apply(this,arguments),xe=this.__zoom,L=X==null?B(se):typeof X=="function"?X.apply(this,arguments):X;return l(Zc.translate(L[0],L[1]).scale(xe.k).translate(typeof oe=="function"?-oe.apply(this,arguments):-oe,typeof U=="function"?-U.apply(this,arguments):-U),se,h)},X,Z)};function z(K,oe){return oe=Math.max(f[0],Math.min(f[1],oe)),oe===K.k?K:new qi(oe,K.x,K.y)}function A(K,oe,U){var X=oe[0]-U[0]*K.k,Z=oe[1]-U[1]*K.k;return X===K.x&&Z===K.y?K:new qi(K.k,X,Z)}function B(K){return[(+K[0][0]+ +K[1][0])/2,(+K[0][1]+ +K[1][1])/2]}function G(K,oe,U,X){K.on("start.zoom",function(){V(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(X).end()}).tween("zoom",function(){var Z=this,se=arguments,xe=V(Z,se).event(X),L=i.apply(Z,se),I=U==null?B(L):typeof U=="function"?U.apply(Z,se):U,_e=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),Se=Z.__zoom,Be=typeof oe=="function"?oe.apply(Z,se):oe,Le=b(Se.invert(I).concat(_e/Se.k),Be.invert(I).concat(_e/Be.k));return function(He){if(He===1)He=Be;else{var De=Le(He),qe=_e/De[2];He=new qi(qe,I[0]-De[0]*qe,I[1]-De[1]*qe)}xe.zoom(null,He)}})}function V(K,oe,U){return!U&&K.__zooming||new Y(K,oe)}function Y(K,oe){this.that=K,this.args=oe,this.active=0,this.sourceEvent=null,this.extent=i.apply(K,oe),this.taps=0}Y.prototype={event:function(K){return K&&(this.sourceEvent=K),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(K,oe){return this.mouse&&K!=="mouse"&&(this.mouse[1]=oe.invert(this.mouse[0])),this.touch0&&K!=="touch"&&(this.touch0[1]=oe.invert(this.touch0[0])),this.touch1&&K!=="touch"&&(this.touch1[1]=oe.invert(this.touch1[0])),this.that.__zoom=oe,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(K){var oe=ta(this.that).datum();m.call(K,this.that,new HN(K,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:m}),oe)}};function de(K,...oe){if(!n.apply(this,arguments))return;var U=V(this,oe).event(K),X=this.__zoom,Z=Math.max(f[0],Math.min(f[1],X.k*Math.pow(2,o.apply(this,arguments)))),se=Da(K);if(U.wheel)(U.mouse[0][0]!==se[0]||U.mouse[0][1]!==se[1])&&(U.mouse[1]=X.invert(U.mouse[0]=se)),clearTimeout(U.wheel);else{if(X.k===Z)return;U.mouse=[se,X.invert(se)],Cc(this),U.start()}Ns(K),U.wheel=setTimeout(xe,C),U.zoom("mouse",l(A(z(X,Z),U.mouse[0],U.mouse[1]),U.extent,h));function xe(){U.wheel=null,U.end()}}function he(K,...oe){if(_||!n.apply(this,arguments))return;var U=K.currentTarget,X=V(this,oe,!0).event(K),Z=ta(K.view).on("mousemove.zoom",I,!0).on("mouseup.zoom",_e,!0),se=Da(K,U),xe=K.clientX,L=K.clientY;E0(K.view),oh(K),X.mouse=[se,this.__zoom.invert(se)],Cc(this),X.start();function I(Se){if(Ns(Se),!X.moved){var Be=Se.clientX-xe,Le=Se.clientY-L;X.moved=Be*Be+Le*Le>D}X.event(Se).zoom("mouse",l(A(X.that.__zoom,X.mouse[0]=Da(Se,U),X.mouse[1]),X.extent,h))}function _e(Se){Z.on("mousemove.zoom mouseup.zoom",null),N0(Se.view,X.moved),Ns(Se),X.event(Se).end()}}function Te(K,...oe){if(n.apply(this,arguments)){var U=this.__zoom,X=Da(K.changedTouches?K.changedTouches[0]:K,this),Z=U.invert(X),se=U.k*(K.shiftKey?.5:2),xe=l(A(z(U,se),X,Z),i.apply(this,oe),h);Ns(K),y>0?ta(this).transition().duration(y).call(G,xe,X,K):ta(this).call(k.transform,xe,X,K)}}function le(K,...oe){if(n.apply(this,arguments)){var U=K.touches,X=U.length,Z=V(this,oe,K.changedTouches.length===X).event(K),se,xe,L,I;for(oh(K),xe=0;xe<X;++xe)L=U[xe],I=Da(L,this),I=[I,this.__zoom.invert(I),L.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==I[2]&&(Z.touch1=I,Z.taps=0):(Z.touch0=I,se=!0,Z.taps=1+!!w);w&&(w=clearTimeout(w)),se&&(Z.taps<2&&(x=I[0],w=setTimeout(function(){w=null},j)),Cc(this),Z.start())}}function ae(K,...oe){if(this.__zooming){var U=V(this,oe).event(K),X=K.changedTouches,Z=X.length,se,xe,L,I;for(Ns(K),se=0;se<Z;++se)xe=X[se],L=Da(xe,this),U.touch0&&U.touch0[2]===xe.identifier?U.touch0[0]=L:U.touch1&&U.touch1[2]===xe.identifier&&(U.touch1[0]=L);if(xe=U.that.__zoom,U.touch1){var _e=U.touch0[0],Se=U.touch0[1],Be=U.touch1[0],Le=U.touch1[1],He=(He=Be[0]-_e[0])*He+(He=Be[1]-_e[1])*He,De=(De=Le[0]-Se[0])*De+(De=Le[1]-Se[1])*De;xe=z(xe,Math.sqrt(He/De)),L=[(_e[0]+Be[0])/2,(_e[1]+Be[1])/2],I=[(Se[0]+Le[0])/2,(Se[1]+Le[1])/2]}else if(U.touch0)L=U.touch0[0],I=U.touch0[1];else return;U.zoom("touch",l(A(xe,L,I),U.extent,h))}}function Ee(K,...oe){if(this.__zooming){var U=V(this,oe).event(K),X=K.changedTouches,Z=X.length,se,xe;for(oh(K),_&&clearTimeout(_),_=setTimeout(function(){_=null},j),se=0;se<Z;++se)xe=X[se],U.touch0&&U.touch0[2]===xe.identifier?delete U.touch0:U.touch1&&U.touch1[2]===xe.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(xe=Da(xe,this),Math.hypot(x[0]-xe[0],x[1]-xe[1])<T)){var L=ta(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return k.wheelDelta=function(K){return arguments.length?(o=typeof K=="function"?K:hc(+K),k):o},k.filter=function(K){return arguments.length?(n=typeof K=="function"?K:hc(!!K),k):n},k.touchable=function(K){return arguments.length?(u=typeof K=="function"?K:hc(!!K),k):u},k.extent=function(K){return arguments.length?(i=typeof K=="function"?K:hc([[+K[0][0],+K[0][1]],[+K[1][0],+K[1][1]]]),k):i},k.scaleExtent=function(K){return arguments.length?(f[0]=+K[0],f[1]=+K[1],k):[f[0],f[1]]},k.translateExtent=function(K){return arguments.length?(h[0][0]=+K[0][0],h[1][0]=+K[1][0],h[0][1]=+K[0][1],h[1][1]=+K[1][1],k):[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},k.constrain=function(K){return arguments.length?(l=K,k):l},k.duration=function(K){return arguments.length?(y=+K,k):y},k.interpolate=function(K){return arguments.length?(b=K,k):b},k.on=function(){var K=m.on.apply(m,arguments);return K===m?k:K},k.clickDistance=function(K){return arguments.length?(D=(K=+K)*K,k):Math.sqrt(D)},k.tapDistance=function(K){return arguments.length?(T=+K,k):T},k}const Fa={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,{id:i,sourceHandle:l,targetHandle:o})=>`Couldn't create edge for ${n} handle id: "${n==="source"?l:o}", edge id: ${i}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(n="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${n}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Bs=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Y0=["Enter"," ","Escape"],K0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:n,x:i,y:l})=>`Moved selected node ${n}. New position, x: ${i}, y: ${l}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ho;(function(n){n.Strict="strict",n.Loose="loose"})(ho||(ho={}));var ll;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(ll||(ll={}));var Hs;(function(n){n.Partial="partial",n.Full="full"})(Hs||(Hs={}));const $0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Dr;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(Dr||(Dr={}));var po;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(po||(po={}));var at;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(at||(at={}));const Pg={[at.Left]:at.Right,[at.Right]:at.Left,[at.Top]:at.Bottom,[at.Bottom]:at.Top};function X0(n){return n===null?null:n?"valid":"invalid"}const I0=n=>"id"in n&&"source"in n&&"target"in n,KN=n=>"id"in n&&"position"in n&&!("source"in n)&&!("target"in n),np=n=>"id"in n&&"internals"in n&&!("source"in n)&&!("target"in n),Gs=(n,i=[0,0])=>{const{width:l,height:o}=Xi(n),u=n.origin??i,f=l*u[0],h=o*u[1];return{x:n.position.x-f,y:n.position.y-h}},$N=(n,i={nodeOrigin:[0,0]})=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const l=n.reduce((o,u)=>{const f=typeof u=="string";let h=!i.nodeLookup&&!f?u:void 0;i.nodeLookup&&(h=f?i.nodeLookup.get(u):np(u)?u:i.nodeLookup.get(u.id));const y=h?Hc(h,i.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Qc(o,y)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Pc(l)},Zs=(n,i={})=>{let l={x:1/0,y:1/0,x2:-1/0,y2:-1/0},o=!1;return n.forEach(u=>{(i.filter===void 0||i.filter(u))&&(l=Qc(l,Hc(u)),o=!0)}),o?Pc(l):{x:0,y:0,width:0,height:0}},ap=(n,i,[l,o,u]=[0,0,1],f=!1,h=!1)=>{const y={...Ps(i,[l,o,u]),width:i.width/u,height:i.height/u},b=[];for(const m of n.values()){const{measured:w,selectable:x=!0,hidden:_=!1}=m;if(h&&!x||_)continue;const j=w.width??m.width??m.initialWidth??null,C=w.height??m.height??m.initialHeight??null,D=Ls(y,yo(m)),T=(j??0)*(C??0),k=f&&D>0;(!m.internals.handleBounds||k||D>=T||m.dragging)&&b.push(m)}return b},XN=(n,i)=>{const l=new Set;return n.forEach(o=>{l.add(o.id)}),i.filter(o=>l.has(o.source)||l.has(o.target))};function IN(n,i){const l=new Map,o=i?.nodes?new Set(i.nodes.map(u=>u.id)):null;return n.forEach(u=>{u.measured.width&&u.measured.height&&(i?.includeHiddenNodes||!u.hidden)&&(!o||o.has(u.id))&&l.set(u.id,u)}),l}async function GN({nodes:n,width:i,height:l,panZoom:o,minZoom:u,maxZoom:f},h){if(n.size===0)return Promise.resolve(!0);const y=IN(n,h),b=Zs(y),m=ip(b,i,l,h?.minZoom??u,h?.maxZoom??f,h?.padding??.1);return await o.setViewport(m,{duration:h?.duration,ease:h?.ease,interpolate:h?.interpolate}),Promise.resolve(!0)}function G0({nodeId:n,nextPosition:i,nodeLookup:l,nodeOrigin:o=[0,0],nodeExtent:u,onError:f}){const h=l.get(n),y=h.parentId?l.get(h.parentId):void 0,{x:b,y:m}=y?y.internals.positionAbsolute:{x:0,y:0},w=h.origin??o;let x=h.extent||u;if(h.extent==="parent"&&!h.expandParent)if(!y)f?.("005",Fa.error005());else{const j=y.measured.width,C=y.measured.height;j&&C&&(x=[[b,m],[b+j,m+C]])}else y&&go(h.extent)&&(x=[[h.extent[0][0]+b,h.extent[0][1]+m],[h.extent[1][0]+b,h.extent[1][1]+m]]);const _=go(x)?cl(i,x,h.measured):i;return(h.measured.width===void 0||h.measured.height===void 0)&&f?.("015",Fa.error015()),{position:{x:_.x-b+(h.measured.width??0)*w[0],y:_.y-m+(h.measured.height??0)*w[1]},positionAbsolute:_}}async function ZN({nodesToRemove:n=[],edgesToRemove:i=[],nodes:l,edges:o,onBeforeDelete:u}){const f=new Set(n.map(_=>_.id)),h=[];for(const _ of l){if(_.deletable===!1)continue;const j=f.has(_.id),C=!j&&_.parentId&&h.find(D=>D.id===_.parentId);(j||C)&&h.push(_)}const y=new Set(i.map(_=>_.id)),b=o.filter(_=>_.deletable!==!1),w=XN(h,b);for(const _ of b)y.has(_.id)&&!w.find(C=>C.id===_.id)&&w.push(_);if(!u)return{edges:w,nodes:h};const x=await u({nodes:h,edges:w});return typeof x=="boolean"?x?{edges:w,nodes:h}:{edges:[],nodes:[]}:x}const mo=(n,i=0,l=1)=>Math.min(Math.max(n,i),l),cl=(n={x:0,y:0},i,l)=>({x:mo(n.x,i[0][0],i[1][0]-(l?.width??0)),y:mo(n.y,i[0][1],i[1][1]-(l?.height??0))});function Z0(n,i,l){const{width:o,height:u}=Xi(l),{x:f,y:h}=l.internals.positionAbsolute;return cl(n,[[f,h],[f+o,h+u]],i)}const Fg=(n,i,l)=>n<i?mo(Math.abs(n-i),1,i)/i:n>l?-mo(Math.abs(n-l),1,i)/i:0,Q0=(n,i,l=15,o=40)=>{const u=Fg(n.x,o,i.width-o)*l,f=Fg(n.y,o,i.height-o)*l;return[u,f]},Qc=(n,i)=>({x:Math.min(n.x,i.x),y:Math.min(n.y,i.y),x2:Math.max(n.x2,i.x2),y2:Math.max(n.y2,i.y2)}),kh=({x:n,y:i,width:l,height:o})=>({x:n,y:i,x2:n+l,y2:i+o}),Pc=({x:n,y:i,x2:l,y2:o})=>({x:n,y:i,width:l-n,height:o-i}),yo=(n,i=[0,0])=>{const{x:l,y:o}=np(n)?n.internals.positionAbsolute:Gs(n,i);return{x:l,y:o,width:n.measured?.width??n.width??n.initialWidth??0,height:n.measured?.height??n.height??n.initialHeight??0}},Hc=(n,i=[0,0])=>{const{x:l,y:o}=np(n)?n.internals.positionAbsolute:Gs(n,i);return{x:l,y:o,x2:l+(n.measured?.width??n.width??n.initialWidth??0),y2:o+(n.measured?.height??n.height??n.initialHeight??0)}},P0=(n,i)=>Pc(Qc(kh(n),kh(i))),Ls=(n,i)=>{const l=Math.max(0,Math.min(n.x+n.width,i.x+i.width)-Math.max(n.x,i.x)),o=Math.max(0,Math.min(n.y+n.height,i.y+i.height)-Math.max(n.y,i.y));return Math.ceil(l*o)},Jg=n=>Oa(n.width)&&Oa(n.height)&&Oa(n.x)&&Oa(n.y),Oa=n=>!isNaN(n)&&isFinite(n),QN=(n,i)=>{},Qs=(n,i=[1,1])=>({x:i[0]*Math.round(n.x/i[0]),y:i[1]*Math.round(n.y/i[1])}),Ps=({x:n,y:i},[l,o,u],f=!1,h=[1,1])=>{const y={x:(n-l)/u,y:(i-o)/u};return f?Qs(y,h):y},Lc=({x:n,y:i},[l,o,u])=>({x:n*u+l,y:i*u+o});function io(n,i){if(typeof n=="number")return Math.floor((i-i/(1+n))*.5);if(typeof n=="string"&&n.endsWith("px")){const l=parseFloat(n);if(!Number.isNaN(l))return Math.floor(l)}if(typeof n=="string"&&n.endsWith("%")){const l=parseFloat(n);if(!Number.isNaN(l))return Math.floor(i*l*.01)}return console.error(`[React Flow] The padding value "${n}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function PN(n,i,l){if(typeof n=="string"||typeof n=="number"){const o=io(n,l),u=io(n,i);return{top:o,right:u,bottom:o,left:u,x:u*2,y:o*2}}if(typeof n=="object"){const o=io(n.top??n.y??0,l),u=io(n.bottom??n.y??0,l),f=io(n.left??n.x??0,i),h=io(n.right??n.x??0,i);return{top:o,right:h,bottom:u,left:f,x:f+h,y:o+u}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function FN(n,i,l,o,u,f){const{x:h,y}=Lc(n,[i,l,o]),{x:b,y:m}=Lc({x:n.x+n.width,y:n.y+n.height},[i,l,o]),w=u-b,x=f-m;return{left:Math.floor(h),top:Math.floor(y),right:Math.floor(w),bottom:Math.floor(x)}}const ip=(n,i,l,o,u,f)=>{const h=PN(f,i,l),y=(i-h.x)/n.width,b=(l-h.y)/n.height,m=Math.min(y,b),w=mo(m,o,u),x=n.x+n.width/2,_=n.y+n.height/2,j=i/2-x*w,C=l/2-_*w,D=FN(n,j,C,w,i,l),T={left:Math.min(D.left-h.left,0),top:Math.min(D.top-h.top,0),right:Math.min(D.right-h.right,0),bottom:Math.min(D.bottom-h.bottom,0)};return{x:j-T.left+T.right,y:C-T.top+T.bottom,zoom:w}},Us=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function go(n){return n!=null&&n!=="parent"}function Xi(n){return{width:n.measured?.width??n.width??n.initialWidth??0,height:n.measured?.height??n.height??n.initialHeight??0}}function F0(n){return(n.measured?.width??n.width??n.initialWidth)!==void 0&&(n.measured?.height??n.height??n.initialHeight)!==void 0}function J0(n,i={width:0,height:0},l,o,u){const f={...n},h=o.get(l);if(h){const y=h.origin||u;f.x+=h.internals.positionAbsolute.x-(i.width??0)*y[0],f.y+=h.internals.positionAbsolute.y-(i.height??0)*y[1]}return f}function Wg(n,i){if(n.size!==i.size)return!1;for(const l of n)if(!i.has(l))return!1;return!0}function JN(){let n,i;return{promise:new Promise((o,u)=>{n=o,i=u}),resolve:n,reject:i}}function WN(n){return{...K0,...n||{}}}function Ts(n,{snapGrid:i=[0,0],snapToGrid:l=!1,transform:o,containerBounds:u}){const{x:f,y:h}=ka(n),y=Ps({x:f-(u?.left??0),y:h-(u?.top??0)},o),{x:b,y:m}=l?Qs(y,i):y;return{xSnapped:b,ySnapped:m,...y}}const rp=n=>({width:n.offsetWidth,height:n.offsetHeight}),W0=n=>n?.getRootNode?.()||window?.document,eC=["INPUT","SELECT","TEXTAREA"];function eb(n){const i=n.composedPath?.()?.[0]||n.target;return i?.nodeType!==1?!1:eC.includes(i.nodeName)||i.hasAttribute("contenteditable")||!!i.closest(".nokey")}const tb=n=>"clientX"in n,ka=(n,i)=>{const l=tb(n),o=l?n.clientX:n.touches?.[0].clientX,u=l?n.clientY:n.touches?.[0].clientY;return{x:o-(i?.left??0),y:u-(i?.top??0)}},ev=(n,i,l,o,u)=>{const f=i.querySelectorAll(`.${n}`);return!f||!f.length?null:Array.from(f).map(h=>{const y=h.getBoundingClientRect();return{id:h.getAttribute("data-handleid"),type:n,nodeId:u,position:h.getAttribute("data-handlepos"),x:(y.left-l.left)/o,y:(y.top-l.top)/o,...rp(h)}})};function nb({sourceX:n,sourceY:i,targetX:l,targetY:o,sourceControlX:u,sourceControlY:f,targetControlX:h,targetControlY:y}){const b=n*.125+u*.375+h*.375+l*.125,m=i*.125+f*.375+y*.375+o*.125,w=Math.abs(b-n),x=Math.abs(m-i);return[b,m,w,x]}function pc(n,i){return n>=0?.5*n:i*25*Math.sqrt(-n)}function tv({pos:n,x1:i,y1:l,x2:o,y2:u,c:f}){switch(n){case at.Left:return[i-pc(i-o,f),l];case at.Right:return[i+pc(o-i,f),l];case at.Top:return[i,l-pc(l-u,f)];case at.Bottom:return[i,l+pc(u-l,f)]}}function ab({sourceX:n,sourceY:i,sourcePosition:l=at.Bottom,targetX:o,targetY:u,targetPosition:f=at.Top,curvature:h=.25}){const[y,b]=tv({pos:l,x1:n,y1:i,x2:o,y2:u,c:h}),[m,w]=tv({pos:f,x1:o,y1:u,x2:n,y2:i,c:h}),[x,_,j,C]=nb({sourceX:n,sourceY:i,targetX:o,targetY:u,sourceControlX:y,sourceControlY:b,targetControlX:m,targetControlY:w});return[`M${n},${i} C${y},${b} ${m},${w} ${o},${u}`,x,_,j,C]}function ib({sourceX:n,sourceY:i,targetX:l,targetY:o}){const u=Math.abs(l-n)/2,f=l<n?l+u:l-u,h=Math.abs(o-i)/2,y=o<i?o+h:o-h;return[f,y,u,h]}function tC({sourceNode:n,targetNode:i,selected:l=!1,zIndex:o=0,elevateOnSelect:u=!1,zIndexMode:f="basic"}){if(f==="manual")return o;const h=u&&l?o+1e3:o,y=Math.max(n.parentId||u&&n.selected?n.internals.z:0,i.parentId||u&&i.selected?i.internals.z:0);return h+y}function nC({sourceNode:n,targetNode:i,width:l,height:o,transform:u}){const f=Qc(Hc(n),Hc(i));f.x===f.x2&&(f.x2+=1),f.y===f.y2&&(f.y2+=1);const h={x:-u[0]/u[2],y:-u[1]/u[2],width:l/u[2],height:o/u[2]};return Ls(h,Pc(f))>0}const aC=({source:n,sourceHandle:i,target:l,targetHandle:o})=>`xy-edge__${n}${i||""}-${l}${o||""}`,iC=(n,i)=>i.some(l=>l.source===n.source&&l.target===n.target&&(l.sourceHandle===n.sourceHandle||!l.sourceHandle&&!n.sourceHandle)&&(l.targetHandle===n.targetHandle||!l.targetHandle&&!n.targetHandle)),rC=(n,i,l={})=>{if(!n.source||!n.target)return i;const o=l.getEdgeId||aC;let u;return I0(n)?u={...n}:u={...n,id:o(n)},iC(u,i)?i:(u.sourceHandle===null&&delete u.sourceHandle,u.targetHandle===null&&delete u.targetHandle,i.concat(u))};function rb({sourceX:n,sourceY:i,targetX:l,targetY:o}){const[u,f,h,y]=ib({sourceX:n,sourceY:i,targetX:l,targetY:o});return[`M ${n},${i}L ${l},${o}`,u,f,h,y]}const nv={[at.Left]:{x:-1,y:0},[at.Right]:{x:1,y:0},[at.Top]:{x:0,y:-1},[at.Bottom]:{x:0,y:1}},lC=({source:n,sourcePosition:i=at.Bottom,target:l})=>i===at.Left||i===at.Right?n.x<l.x?{x:1,y:0}:{x:-1,y:0}:n.y<l.y?{x:0,y:1}:{x:0,y:-1},av=(n,i)=>Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2));function oC({source:n,sourcePosition:i=at.Bottom,target:l,targetPosition:o=at.Top,center:u,offset:f,stepPosition:h}){const y=nv[i],b=nv[o],m={x:n.x+y.x*f,y:n.y+y.y*f},w={x:l.x+b.x*f,y:l.y+b.y*f},x=lC({source:m,sourcePosition:i,target:w}),_=x.x!==0?"x":"y",j=x[_];let C=[],D,T;const k={x:0,y:0},z={x:0,y:0},[,,A,B]=ib({sourceX:n.x,sourceY:n.y,targetX:l.x,targetY:l.y});if(y[_]*b[_]===-1){_==="x"?(D=u.x??m.x+(w.x-m.x)*h,T=u.y??(m.y+w.y)/2):(D=u.x??(m.x+w.x)/2,T=u.y??m.y+(w.y-m.y)*h);const V=[{x:D,y:m.y},{x:D,y:w.y}],Y=[{x:m.x,y:T},{x:w.x,y:T}];y[_]===j?C=_==="x"?V:Y:C=_==="x"?Y:V}else{const V=[{x:m.x,y:w.y}],Y=[{x:w.x,y:m.y}];if(_==="x"?C=y.x===j?Y:V:C=y.y===j?V:Y,i===o){const ae=Math.abs(n[_]-l[_]);if(ae<=f){const Ee=Math.min(f-1,f-ae);y[_]===j?k[_]=(m[_]>n[_]?-1:1)*Ee:z[_]=(w[_]>l[_]?-1:1)*Ee}}if(i!==o){const ae=_==="x"?"y":"x",Ee=y[_]===b[ae],K=m[ae]>w[ae],oe=m[ae]<w[ae];(y[_]===1&&(!Ee&&K||Ee&&oe)||y[_]!==1&&(!Ee&&oe||Ee&&K))&&(C=_==="x"?V:Y)}const de={x:m.x+k.x,y:m.y+k.y},he={x:w.x+z.x,y:w.y+z.y},Te=Math.max(Math.abs(de.x-C[0].x),Math.abs(he.x-C[0].x)),le=Math.max(Math.abs(de.y-C[0].y),Math.abs(he.y-C[0].y));Te>=le?(D=(de.x+he.x)/2,T=C[0].y):(D=C[0].x,T=(de.y+he.y)/2)}return[[n,{x:m.x+k.x,y:m.y+k.y},...C,{x:w.x+z.x,y:w.y+z.y},l],D,T,A,B]}function sC(n,i,l,o){const u=Math.min(av(n,i)/2,av(i,l)/2,o),{x:f,y:h}=i;if(n.x===f&&f===l.x||n.y===h&&h===l.y)return`L${f} ${h}`;if(n.y===h){const m=n.x<l.x?-1:1,w=n.y<l.y?1:-1;return`L ${f+u*m},${h}Q ${f},${h} ${f},${h+u*w}`}const y=n.x<l.x?1:-1,b=n.y<l.y?-1:1;return`L ${f},${h+u*b}Q ${f},${h} ${f+u*y},${h}`}function Rh({sourceX:n,sourceY:i,sourcePosition:l=at.Bottom,targetX:o,targetY:u,targetPosition:f=at.Top,borderRadius:h=5,centerX:y,centerY:b,offset:m=20,stepPosition:w=.5}){const[x,_,j,C,D]=oC({source:{x:n,y:i},sourcePosition:l,target:{x:o,y:u},targetPosition:f,center:{x:y,y:b},offset:m,stepPosition:w});return[x.reduce((k,z,A)=>{let B="";return A>0&&A<x.length-1?B=sC(x[A-1],z,x[A+1],h):B=`${A===0?"M":"L"}${z.x} ${z.y}`,k+=B,k},""),_,j,C,D]}function iv(n){return n&&!!(n.internals.handleBounds||n.handles?.length)&&!!(n.measured.width||n.width||n.initialWidth)}function uC(n){const{sourceNode:i,targetNode:l}=n;if(!iv(i)||!iv(l))return null;const o=i.internals.handleBounds||rv(i.handles),u=l.internals.handleBounds||rv(l.handles),f=lv(o?.source??[],n.sourceHandle),h=lv(n.connectionMode===ho.Strict?u?.target??[]:(u?.target??[]).concat(u?.source??[]),n.targetHandle);if(!f||!h)return n.onError?.("008",Fa.error008(f?"target":"source",{id:n.id,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle})),null;const y=f?.position||at.Bottom,b=h?.position||at.Top,m=fl(i,f,y),w=fl(l,h,b);return{sourceX:m.x,sourceY:m.y,targetX:w.x,targetY:w.y,sourcePosition:y,targetPosition:b}}function rv(n){if(!n)return null;const i=[],l=[];for(const o of n)o.width=o.width??1,o.height=o.height??1,o.type==="source"?i.push(o):o.type==="target"&&l.push(o);return{source:i,target:l}}function fl(n,i,l=at.Left,o=!1){const u=(i?.x??0)+n.internals.positionAbsolute.x,f=(i?.y??0)+n.internals.positionAbsolute.y,{width:h,height:y}=i??Xi(n);if(o)return{x:u+h/2,y:f+y/2};switch(i?.position??l){case at.Top:return{x:u+h/2,y:f};case at.Right:return{x:u+h,y:f+y/2};case at.Bottom:return{x:u+h/2,y:f+y};case at.Left:return{x:u,y:f+y/2}}}function lv(n,i){return n&&(i?n.find(l=>l.id===i):n[0])||null}function Bh(n,i){return n?typeof n=="string"?n:`${i?`${i}__`:""}${Object.keys(n).sort().map(o=>`${o}=${n[o]}`).join("&")}`:""}function cC(n,{id:i,defaultColor:l,defaultMarkerStart:o,defaultMarkerEnd:u}){const f=new Set;return n.reduce((h,y)=>([y.markerStart||o,y.markerEnd||u].forEach(b=>{if(b&&typeof b=="object"){const m=Bh(b,i);f.has(m)||(h.push({id:m,color:b.color||l,...b}),f.add(m))}}),h),[]).sort((h,y)=>h.id.localeCompare(y.id))}const lb=1e3,fC=10,lp={nodeOrigin:[0,0],nodeExtent:Bs,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},dC={...lp,checkEquality:!0};function op(n,i){const l={...n};for(const o in i)i[o]!==void 0&&(l[o]=i[o]);return l}function hC(n,i,l){const o=op(lp,l);for(const u of n.values())if(u.parentId)up(u,n,i,o);else{const f=Gs(u,o.nodeOrigin),h=go(u.extent)?u.extent:o.nodeExtent,y=cl(f,h,Xi(u));u.internals.positionAbsolute=y}}function pC(n,i){if(!n.handles)return n.measured?i?.internals.handleBounds:void 0;const l=[],o=[];for(const u of n.handles){const f={id:u.id,width:u.width??1,height:u.height??1,nodeId:n.id,x:u.x,y:u.y,position:u.position,type:u.type};u.type==="source"?l.push(f):u.type==="target"&&o.push(f)}return{source:l,target:o}}function sp(n){return n==="manual"}function Hh(n,i,l,o={}){const u=op(dC,o),f={i:0},h=new Map(i),y=u?.elevateNodesOnSelect&&!sp(u.zIndexMode)?lb:0;let b=n.length>0;i.clear(),l.clear();for(const m of n){let w=h.get(m.id);if(u.checkEquality&&m===w?.internals.userNode)i.set(m.id,w);else{const x=Gs(m,u.nodeOrigin),_=go(m.extent)?m.extent:u.nodeExtent,j=cl(x,_,Xi(m));w={...u.defaults,...m,measured:{width:m.measured?.width,height:m.measured?.height},internals:{positionAbsolute:j,handleBounds:pC(m,w),z:ob(m,y,u.zIndexMode),userNode:m}},i.set(m.id,w)}(w.measured===void 0||w.measured.width===void 0||w.measured.height===void 0)&&!w.hidden&&(b=!1),m.parentId&&up(w,i,l,o,f)}return b}function mC(n,i){if(!n.parentId)return;const l=i.get(n.parentId);l?l.set(n.id,n):i.set(n.parentId,new Map([[n.id,n]]))}function up(n,i,l,o,u){const{elevateNodesOnSelect:f,nodeOrigin:h,nodeExtent:y,zIndexMode:b}=op(lp,o),m=n.parentId,w=i.get(m);if(!w){console.warn(`Parent node ${m} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}mC(n,l),u&&!w.parentId&&w.internals.rootParentIndex===void 0&&b==="auto"&&(w.internals.rootParentIndex=++u.i,w.internals.z=w.internals.z+u.i*fC),u&&w.internals.rootParentIndex!==void 0&&(u.i=w.internals.rootParentIndex);const x=f&&!sp(b)?lb:0,{x:_,y:j,z:C}=yC(n,w,h,y,x,b),{positionAbsolute:D}=n.internals,T=_!==D.x||j!==D.y;(T||C!==n.internals.z)&&i.set(n.id,{...n,internals:{...n.internals,positionAbsolute:T?{x:_,y:j}:D,z:C}})}function ob(n,i,l){const o=Oa(n.zIndex)?n.zIndex:0;return sp(l)?o:o+(n.selected?i:0)}function yC(n,i,l,o,u,f){const{x:h,y}=i.internals.positionAbsolute,b=Xi(n),m=Gs(n,l),w=go(n.extent)?cl(m,n.extent,b):m;let x=cl({x:h+w.x,y:y+w.y},o,b);n.extent==="parent"&&(x=Z0(x,b,i));const _=ob(n,u,f),j=i.internals.z??0;return{x:x.x,y:x.y,z:j>=_?j+1:_}}function cp(n,i,l,o=[0,0]){const u=[],f=new Map;for(const h of n){const y=i.get(h.parentId);if(!y)continue;const b=f.get(h.parentId)?.expandedRect??yo(y),m=P0(b,h.rect);f.set(h.parentId,{expandedRect:m,parent:y})}return f.size>0&&f.forEach(({expandedRect:h,parent:y},b)=>{const m=y.internals.positionAbsolute,w=Xi(y),x=y.origin??o,_=h.x<m.x?Math.round(Math.abs(m.x-h.x)):0,j=h.y<m.y?Math.round(Math.abs(m.y-h.y)):0,C=Math.max(w.width,Math.round(h.width)),D=Math.max(w.height,Math.round(h.height)),T=(C-w.width)*x[0],k=(D-w.height)*x[1];(_>0||j>0||T||k)&&(u.push({id:b,type:"position",position:{x:y.position.x-_+T,y:y.position.y-j+k}}),l.get(b)?.forEach(z=>{n.some(A=>A.id===z.id)||u.push({id:z.id,type:"position",position:{x:z.position.x+_,y:z.position.y+j}})})),(w.width<h.width||w.height<h.height||_||j)&&u.push({id:b,type:"dimensions",setAttributes:!0,dimensions:{width:C+(_?x[0]*_-T:0),height:D+(j?x[1]*j-k:0)}})}),u}function gC(n,i,l,o,u,f,h){const y=o?.querySelector(".xyflow__viewport");let b=!1;if(!y)return{changes:[],updatedInternals:b};const m=[],w=window.getComputedStyle(y),{m22:x}=new window.DOMMatrixReadOnly(w.transform),_=[];for(const j of n.values()){const C=i.get(j.id);if(!C)continue;if(C.hidden){i.set(C.id,{...C,internals:{...C.internals,handleBounds:void 0}}),b=!0;continue}const D=rp(j.nodeElement),T=C.measured.width!==D.width||C.measured.height!==D.height;if(!!(D.width&&D.height&&(T||!C.internals.handleBounds||j.force))){const z=j.nodeElement.getBoundingClientRect(),A=go(C.extent)?C.extent:f;let{positionAbsolute:B}=C.internals;C.parentId&&C.extent==="parent"?B=Z0(B,D,i.get(C.parentId)):A&&(B=cl(B,A,D));const G={...C,measured:D,internals:{...C.internals,positionAbsolute:B,handleBounds:{source:ev("source",j.nodeElement,z,x,C.id),target:ev("target",j.nodeElement,z,x,C.id)}}};i.set(C.id,G),C.parentId&&up(G,i,l,{nodeOrigin:u,zIndexMode:h}),b=!0,T&&(m.push({id:C.id,type:"dimensions",dimensions:D}),C.expandParent&&C.parentId&&_.push({id:C.id,parentId:C.parentId,rect:yo(G,u)}))}}if(_.length>0){const j=cp(_,i,l,u);m.push(...j)}return{changes:m,updatedInternals:b}}async function vC({delta:n,panZoom:i,transform:l,translateExtent:o,width:u,height:f}){if(!i||!n.x&&!n.y)return Promise.resolve(!1);const h=await i.setViewportConstrained({x:l[0]+n.x,y:l[1]+n.y,zoom:l[2]},[[0,0],[u,f]],o),y=!!h&&(h.x!==l[0]||h.y!==l[1]||h.k!==l[2]);return Promise.resolve(y)}function ov(n,i,l,o,u,f){let h=u;const y=o.get(h)||new Map;o.set(h,y.set(l,i)),h=`${u}-${n}`;const b=o.get(h)||new Map;if(o.set(h,b.set(l,i)),f){h=`${u}-${n}-${f}`;const m=o.get(h)||new Map;o.set(h,m.set(l,i))}}function sb(n,i,l){n.clear(),i.clear();for(const o of l){const{source:u,target:f,sourceHandle:h=null,targetHandle:y=null}=o,b={edgeId:o.id,source:u,target:f,sourceHandle:h,targetHandle:y},m=`${u}-${h}--${f}-${y}`,w=`${f}-${y}--${u}-${h}`;ov("source",b,w,n,u,h),ov("target",b,m,n,f,y),i.set(o.id,o)}}function ub(n,i){if(!n.parentId)return!1;const l=i.get(n.parentId);return l?l.selected?!0:ub(l,i):!1}function sv(n,i,l){let o=n;do{if(o?.matches?.(i))return!0;if(o===l)return!1;o=o?.parentElement}while(o);return!1}function bC(n,i,l,o){const u=new Map;for(const[f,h]of n)if((h.selected||h.id===o)&&(!h.parentId||!ub(h,n))&&(h.draggable||i&&typeof h.draggable>"u")){const y=n.get(f);y&&u.set(f,{id:f,position:y.position||{x:0,y:0},distance:{x:l.x-y.internals.positionAbsolute.x,y:l.y-y.internals.positionAbsolute.y},extent:y.extent,parentId:y.parentId,origin:y.origin,expandParent:y.expandParent,internals:{positionAbsolute:y.internals.positionAbsolute||{x:0,y:0}},measured:{width:y.measured.width??0,height:y.measured.height??0}})}return u}function sh({nodeId:n,dragItems:i,nodeLookup:l,dragging:o=!0}){const u=[];for(const[h,y]of i){const b=l.get(h)?.internals.userNode;b&&u.push({...b,position:y.position,dragging:o})}if(!n)return[u[0],u];const f=l.get(n)?.internals.userNode;return[f?{...f,position:i.get(n)?.position||f.position,dragging:o}:u[0],u]}function xC({dragItems:n,snapGrid:i,x:l,y:o}){const u=n.values().next().value;if(!u)return null;const f={x:l-u.distance.x,y:o-u.distance.y},h=Qs(f,i);return{x:h.x-f.x,y:h.y-f.y}}function wC({onNodeMouseDown:n,getStoreItems:i,onDragStart:l,onDrag:o,onDragStop:u}){let f={x:null,y:null},h=0,y=new Map,b=!1,m={x:0,y:0},w=null,x=!1,_=null,j=!1,C=!1,D=null;function T({noDragClassName:z,handleSelector:A,domNode:B,isSelectable:G,nodeId:V,nodeClickDistance:Y=0}){_=ta(B);function de({x:ae,y:Ee}){const{nodeLookup:K,nodeExtent:oe,snapGrid:U,snapToGrid:X,nodeOrigin:Z,onNodeDrag:se,onSelectionDrag:xe,onError:L,updateNodePositions:I}=i();f={x:ae,y:Ee};let _e=!1;const Se=y.size>1,Be=Se&&oe?kh(Zs(y)):null,Le=Se&&X?xC({dragItems:y,snapGrid:U,x:ae,y:Ee}):null;for(const[He,De]of y){if(!K.has(He))continue;let qe={x:ae-De.distance.x,y:Ee-De.distance.y};X&&(qe=Le?{x:Math.round(qe.x+Le.x),y:Math.round(qe.y+Le.y)}:Qs(qe,U));let ze=null;if(Se&&oe&&!De.extent&&Be){const{positionAbsolute:Ae}=De.internals,Ke=Ae.x-Be.x+oe[0][0],Ge=Ae.x+De.measured.width-Be.x2+oe[1][0],ie=Ae.y-Be.y+oe[0][1],ye=Ae.y+De.measured.height-Be.y2+oe[1][1];ze=[[Ke,ie],[Ge,ye]]}const{position:lt,positionAbsolute:Ue}=G0({nodeId:He,nextPosition:qe,nodeLookup:K,nodeExtent:ze||oe,nodeOrigin:Z,onError:L});_e=_e||De.position.x!==lt.x||De.position.y!==lt.y,De.position=lt,De.internals.positionAbsolute=Ue}if(C=C||_e,!!_e&&(I(y,!0),D&&(o||se||!V&&xe))){const[He,De]=sh({nodeId:V,dragItems:y,nodeLookup:K});o?.(D,y,He,De),se?.(D,He,De),V||xe?.(D,De)}}async function he(){if(!w)return;const{transform:ae,panBy:Ee,autoPanSpeed:K,autoPanOnNodeDrag:oe}=i();if(!oe){b=!1,cancelAnimationFrame(h);return}const[U,X]=Q0(m,w,K);(U!==0||X!==0)&&(f.x=(f.x??0)-U/ae[2],f.y=(f.y??0)-X/ae[2],await Ee({x:U,y:X})&&de(f)),h=requestAnimationFrame(he)}function Te(ae){const{nodeLookup:Ee,multiSelectionActive:K,nodesDraggable:oe,transform:U,snapGrid:X,snapToGrid:Z,selectNodesOnDrag:se,onNodeDragStart:xe,onSelectionDragStart:L,unselectNodesAndEdges:I}=i();x=!0,(!se||!G)&&!K&&V&&(Ee.get(V)?.selected||I()),G&&se&&V&&n?.(V);const _e=Ts(ae.sourceEvent,{transform:U,snapGrid:X,snapToGrid:Z,containerBounds:w});if(f=_e,y=bC(Ee,oe,_e,V),y.size>0&&(l||xe||!V&&L)){const[Se,Be]=sh({nodeId:V,dragItems:y,nodeLookup:Ee});l?.(ae.sourceEvent,y,Se,Be),xe?.(ae.sourceEvent,Se,Be),V||L?.(ae.sourceEvent,Be)}}const le=C0().clickDistance(Y).on("start",ae=>{const{domNode:Ee,nodeDragThreshold:K,transform:oe,snapGrid:U,snapToGrid:X}=i();w=Ee?.getBoundingClientRect()||null,j=!1,C=!1,D=ae.sourceEvent,K===0&&Te(ae),f=Ts(ae.sourceEvent,{transform:oe,snapGrid:U,snapToGrid:X,containerBounds:w}),m=ka(ae.sourceEvent,w)}).on("drag",ae=>{const{autoPanOnNodeDrag:Ee,transform:K,snapGrid:oe,snapToGrid:U,nodeDragThreshold:X,nodeLookup:Z}=i(),se=Ts(ae.sourceEvent,{transform:K,snapGrid:oe,snapToGrid:U,containerBounds:w});if(D=ae.sourceEvent,(ae.sourceEvent.type==="touchmove"&&ae.sourceEvent.touches.length>1||V&&!Z.has(V))&&(j=!0),!j){if(!b&&Ee&&x&&(b=!0,he()),!x){const xe=ka(ae.sourceEvent,w),L=xe.x-m.x,I=xe.y-m.y;Math.sqrt(L*L+I*I)>X&&Te(ae)}(f.x!==se.xSnapped||f.y!==se.ySnapped)&&y&&x&&(m=ka(ae.sourceEvent,w),de(se))}}).on("end",ae=>{if(!(!x||j)&&(b=!1,x=!1,cancelAnimationFrame(h),y.size>0)){const{nodeLookup:Ee,updateNodePositions:K,onNodeDragStop:oe,onSelectionDragStop:U}=i();if(C&&(K(y,!1),C=!1),u||oe||!V&&U){const[X,Z]=sh({nodeId:V,dragItems:y,nodeLookup:Ee,dragging:!1});u?.(ae.sourceEvent,y,X,Z),oe?.(ae.sourceEvent,X,Z),V||U?.(ae.sourceEvent,Z)}}}).filter(ae=>{const Ee=ae.target;return!ae.button&&(!z||!sv(Ee,`.${z}`,B))&&(!A||sv(Ee,A,B))});_.call(le)}function k(){_?.on(".drag",null)}return{update:T,destroy:k}}function SC(n,i,l){const o=[],u={x:n.x-l,y:n.y-l,width:l*2,height:l*2};for(const f of i.values())Ls(u,yo(f))>0&&o.push(f);return o}const _C=250;function EC(n,i,l,o){let u=[],f=1/0;const h=SC(n,l,i+_C);for(const y of h){const b=[...y.internals.handleBounds?.source??[],...y.internals.handleBounds?.target??[]];for(const m of b){if(o.nodeId===m.nodeId&&o.type===m.type&&o.id===m.id)continue;const{x:w,y:x}=fl(y,m,m.position,!0),_=Math.sqrt(Math.pow(w-n.x,2)+Math.pow(x-n.y,2));_>i||(_<f?(u=[{...m,x:w,y:x}],f=_):_===f&&u.push({...m,x:w,y:x}))}}if(!u.length)return null;if(u.length>1){const y=o.type==="source"?"target":"source";return u.find(b=>b.type===y)??u[0]}return u[0]}function cb(n,i,l,o,u,f=!1){const h=o.get(n);if(!h)return null;const y=u==="strict"?h.internals.handleBounds?.[i]:[...h.internals.handleBounds?.source??[],...h.internals.handleBounds?.target??[]],b=(l?y?.find(m=>m.id===l):y?.[0])??null;return b&&f?{...b,...fl(h,b,b.position,!0)}:b}function fb(n,i){return n||(i?.classList.contains("target")?"target":i?.classList.contains("source")?"source":null)}function NC(n,i){let l=null;return i?l=!0:n&&!i&&(l=!1),l}const db=()=>!0;function CC(n,{connectionMode:i,connectionRadius:l,handleId:o,nodeId:u,edgeUpdaterType:f,isTarget:h,domNode:y,nodeLookup:b,lib:m,autoPanOnConnect:w,flowId:x,panBy:_,cancelConnection:j,onConnectStart:C,onConnect:D,onConnectEnd:T,isValidConnection:k=db,onReconnectEnd:z,updateConnection:A,getTransform:B,getFromHandle:G,autoPanSpeed:V,dragThreshold:Y=1,handleDomNode:de}){const he=W0(n.target);let Te=0,le;const{x:ae,y:Ee}=ka(n),K=fb(f,de),oe=y?.getBoundingClientRect();let U=!1;if(!oe||!K)return;const X=cb(u,K,o,b,i);if(!X)return;let Z=ka(n,oe),se=!1,xe=null,L=!1,I=null;function _e(){if(!w||!oe)return;const[lt,Ue]=Q0(Z,oe,V);_({x:lt,y:Ue}),Te=requestAnimationFrame(_e)}const Se={...X,nodeId:u,type:K,position:X.position},Be=b.get(u);let He={inProgress:!0,isValid:null,from:fl(Be,Se,at.Left,!0),fromHandle:Se,fromPosition:Se.position,fromNode:Be,to:Z,toHandle:null,toPosition:Pg[Se.position],toNode:null,pointer:Z};function De(){U=!0,A(He),C?.(n,{nodeId:u,handleId:o,handleType:K})}Y===0&&De();function qe(lt){if(!U){const{x:ye,y:Xe}=ka(lt),et=ye-ae,Fe=Xe-Ee;if(!(et*et+Fe*Fe>Y*Y))return;De()}if(!G()||!Se){ze(lt);return}const Ue=B();Z=ka(lt,oe),le=EC(Ps(Z,Ue,!1,[1,1]),l,b,Se),se||(_e(),se=!0);const Ae=hb(lt,{handle:le,connectionMode:i,fromNodeId:u,fromHandleId:o,fromType:h?"target":"source",isValidConnection:k,doc:he,lib:m,flowId:x,nodeLookup:b});I=Ae.handleDomNode,xe=Ae.connection,L=NC(!!le,Ae.isValid);const Ke=b.get(u),Ge=Ke?fl(Ke,Se,at.Left,!0):He.from,ie={...He,from:Ge,isValid:L,to:Ae.toHandle&&L?Lc({x:Ae.toHandle.x,y:Ae.toHandle.y},Ue):Z,toHandle:Ae.toHandle,toPosition:L&&Ae.toHandle?Ae.toHandle.position:Pg[Se.position],toNode:Ae.toHandle?b.get(Ae.toHandle.nodeId):null,pointer:Z};A(ie),He=ie}function ze(lt){if(!("touches"in lt&&lt.touches.length>0)){if(U){(le||I)&&xe&&L&&D?.(xe);const{inProgress:Ue,...Ae}=He,Ke={...Ae,toPosition:He.toHandle?He.toPosition:null};T?.(lt,Ke),f&&z?.(lt,Ke)}j(),cancelAnimationFrame(Te),se=!1,L=!1,xe=null,I=null,he.removeEventListener("mousemove",qe),he.removeEventListener("mouseup",ze),he.removeEventListener("touchmove",qe),he.removeEventListener("touchend",ze)}}he.addEventListener("mousemove",qe),he.addEventListener("mouseup",ze),he.addEventListener("touchmove",qe),he.addEventListener("touchend",ze)}function hb(n,{handle:i,connectionMode:l,fromNodeId:o,fromHandleId:u,fromType:f,doc:h,lib:y,flowId:b,isValidConnection:m=db,nodeLookup:w}){const x=f==="target",_=i?h.querySelector(`.${y}-flow__handle[data-id="${b}-${i?.nodeId}-${i?.id}-${i?.type}"]`):null,{x:j,y:C}=ka(n),D=h.elementFromPoint(j,C),T=D?.classList.contains(`${y}-flow__handle`)?D:_,k={handleDomNode:T,isValid:!1,connection:null,toHandle:null};if(T){const z=fb(void 0,T),A=T.getAttribute("data-nodeid"),B=T.getAttribute("data-handleid"),G=T.classList.contains("connectable"),V=T.classList.contains("connectableend");if(!A||!z)return k;const Y={source:x?A:o,sourceHandle:x?B:u,target:x?o:A,targetHandle:x?u:B};k.connection=Y;const he=G&&V&&(l===ho.Strict?x&&z==="source"||!x&&z==="target":A!==o||B!==u);k.isValid=he&&m(Y),k.toHandle=cb(A,z,B,w,l,!0)}return k}const Lh={onPointerDown:CC,isValid:hb};function AC({domNode:n,panZoom:i,getTransform:l,getViewScale:o}){const u=ta(n);function f({translateExtent:y,width:b,height:m,zoomStep:w=1,pannable:x=!0,zoomable:_=!0,inversePan:j=!1}){const C=A=>{if(A.sourceEvent.type!=="wheel"||!i)return;const B=l(),G=A.sourceEvent.ctrlKey&&Us()?10:1,V=-A.sourceEvent.deltaY*(A.sourceEvent.deltaMode===1?.05:A.sourceEvent.deltaMode?1:.002)*w,Y=B[2]*Math.pow(2,V*G);i.scaleTo(Y)};let D=[0,0];const T=A=>{(A.sourceEvent.type==="mousedown"||A.sourceEvent.type==="touchstart")&&(D=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY])},k=A=>{const B=l();if(A.sourceEvent.type!=="mousemove"&&A.sourceEvent.type!=="touchmove"||!i)return;const G=[A.sourceEvent.clientX??A.sourceEvent.touches[0].clientX,A.sourceEvent.clientY??A.sourceEvent.touches[0].clientY],V=[G[0]-D[0],G[1]-D[1]];D=G;const Y=o()*Math.max(B[2],Math.log(B[2]))*(j?-1:1),de={x:B[0]-V[0]*Y,y:B[1]-V[1]*Y},he=[[0,0],[b,m]];i.setViewportConstrained({x:de.x,y:de.y,zoom:B[2]},he,y)},z=V0().on("start",T).on("zoom",x?k:null).on("zoom.wheel",_?C:null);u.call(z,{})}function h(){u.on("zoom",null)}return{update:f,destroy:h,pointer:Da}}const Fc=n=>({x:n.x,y:n.y,zoom:n.k}),uh=({x:n,y:i,zoom:l})=>Zc.translate(n,i).scale(l),ro=(n,i)=>n.target.closest(`.${i}`),pb=(n,i)=>i===2&&Array.isArray(n)&&n.includes(2),jC=n=>((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2,ch=(n,i=0,l=jC,o=()=>{})=>{const u=typeof i=="number"&&i>0;return u||o(),u?n.transition().duration(i).ease(l).on("end",o):n},mb=n=>{const i=n.ctrlKey&&Us()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*i};function MC({zoomPanValues:n,noWheelClassName:i,d3Selection:l,d3Zoom:o,panOnScrollMode:u,panOnScrollSpeed:f,zoomOnPinch:h,onPanZoomStart:y,onPanZoom:b,onPanZoomEnd:m}){return w=>{if(ro(w,i))return w.ctrlKey&&w.preventDefault(),!1;w.preventDefault(),w.stopImmediatePropagation();const x=l.property("__zoom").k||1;if(w.ctrlKey&&h){const T=Da(w),k=mb(w),z=x*Math.pow(2,k);o.scaleTo(l,z,T,w);return}const _=w.deltaMode===1?20:1;let j=u===ll.Vertical?0:w.deltaX*_,C=u===ll.Horizontal?0:w.deltaY*_;!Us()&&w.shiftKey&&u!==ll.Vertical&&(j=w.deltaY*_,C=0),o.translateBy(l,-(j/x)*f,-(C/x)*f,{internal:!0});const D=Fc(l.property("__zoom"));clearTimeout(n.panScrollTimeout),n.isPanScrolling?(b?.(w,D),n.panScrollTimeout=setTimeout(()=>{m?.(w,D),n.isPanScrolling=!1},150)):(n.isPanScrolling=!0,y?.(w,D))}}function TC({noWheelClassName:n,preventScrolling:i,d3ZoomHandler:l}){return function(o,u){const f=o.type==="wheel",h=!i&&f&&!o.ctrlKey,y=ro(o,n);if(o.ctrlKey&&f&&y&&o.preventDefault(),h||y)return null;o.preventDefault(),l.call(this,o,u)}}function DC({zoomPanValues:n,onDraggingChange:i,onPanZoomStart:l}){return o=>{if(o.sourceEvent?.internal)return;const u=Fc(o.transform);n.mouseButton=o.sourceEvent?.button||0,n.isZoomingOrPanning=!0,n.prevViewport=u,o.sourceEvent?.type==="mousedown"&&i(!0),l&&l?.(o.sourceEvent,u)}}function zC({zoomPanValues:n,panOnDrag:i,onPaneContextMenu:l,onTransformChange:o,onPanZoom:u}){return f=>{n.usedRightMouseButton=!!(l&&pb(i,n.mouseButton??0)),f.sourceEvent?.sync||o([f.transform.x,f.transform.y,f.transform.k]),u&&!f.sourceEvent?.internal&&u?.(f.sourceEvent,Fc(f.transform))}}function OC({zoomPanValues:n,panOnDrag:i,panOnScroll:l,onDraggingChange:o,onPanZoomEnd:u,onPaneContextMenu:f}){return h=>{if(!h.sourceEvent?.internal&&(n.isZoomingOrPanning=!1,f&&pb(i,n.mouseButton??0)&&!n.usedRightMouseButton&&h.sourceEvent&&f(h.sourceEvent),n.usedRightMouseButton=!1,o(!1),u)){const y=Fc(h.transform);n.prevViewport=y,clearTimeout(n.timerId),n.timerId=setTimeout(()=>{u?.(h.sourceEvent,y)},l?150:0)}}}function kC({zoomActivationKeyPressed:n,zoomOnScroll:i,zoomOnPinch:l,panOnDrag:o,panOnScroll:u,zoomOnDoubleClick:f,userSelectionActive:h,noWheelClassName:y,noPanClassName:b,lib:m,connectionInProgress:w}){return x=>{const _=n||i,j=l&&x.ctrlKey,C=x.type==="wheel";if(x.button===1&&x.type==="mousedown"&&(ro(x,`${m}-flow__node`)||ro(x,`${m}-flow__edge`)))return!0;if(!o&&!_&&!u&&!f&&!l||h||w&&!C||ro(x,y)&&C||ro(x,b)&&(!C||u&&C&&!n)||!l&&x.ctrlKey&&C)return!1;if(!l&&x.type==="touchstart"&&x.touches?.length>1)return x.preventDefault(),!1;if(!_&&!u&&!j&&C||!o&&(x.type==="mousedown"||x.type==="touchstart")||Array.isArray(o)&&!o.includes(x.button)&&x.type==="mousedown")return!1;const D=Array.isArray(o)&&o.includes(x.button)||!x.button||x.button<=1;return(!x.ctrlKey||C)&&D}}function RC({domNode:n,minZoom:i,maxZoom:l,translateExtent:o,viewport:u,onPanZoom:f,onPanZoomStart:h,onPanZoomEnd:y,onDraggingChange:b}){const m={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},w=n.getBoundingClientRect(),x=V0().scaleExtent([i,l]).translateExtent(o),_=ta(n).call(x);z({x:u.x,y:u.y,zoom:mo(u.zoom,i,l)},[[0,0],[w.width,w.height]],o);const j=_.on("wheel.zoom"),C=_.on("dblclick.zoom");x.wheelDelta(mb);function D(le,ae){return _?new Promise(Ee=>{x?.interpolate(ae?.interpolate==="linear"?Ms:_c).transform(ch(_,ae?.duration,ae?.ease,()=>Ee(!0)),le)}):Promise.resolve(!1)}function T({noWheelClassName:le,noPanClassName:ae,onPaneContextMenu:Ee,userSelectionActive:K,panOnScroll:oe,panOnDrag:U,panOnScrollMode:X,panOnScrollSpeed:Z,preventScrolling:se,zoomOnPinch:xe,zoomOnScroll:L,zoomOnDoubleClick:I,zoomActivationKeyPressed:_e,lib:Se,onTransformChange:Be,connectionInProgress:Le,paneClickDistance:He,selectionOnDrag:De}){K&&!m.isZoomingOrPanning&&k();const qe=oe&&!_e&&!K;x.clickDistance(De?1/0:!Oa(He)||He<0?0:He);const ze=qe?MC({zoomPanValues:m,noWheelClassName:le,d3Selection:_,d3Zoom:x,panOnScrollMode:X,panOnScrollSpeed:Z,zoomOnPinch:xe,onPanZoomStart:h,onPanZoom:f,onPanZoomEnd:y}):TC({noWheelClassName:le,preventScrolling:se,d3ZoomHandler:j});if(_.on("wheel.zoom",ze,{passive:!1}),!K){const Ue=DC({zoomPanValues:m,onDraggingChange:b,onPanZoomStart:h});x.on("start",Ue);const Ae=zC({zoomPanValues:m,panOnDrag:U,onPaneContextMenu:!!Ee,onPanZoom:f,onTransformChange:Be});x.on("zoom",Ae);const Ke=OC({zoomPanValues:m,panOnDrag:U,panOnScroll:oe,onPaneContextMenu:Ee,onPanZoomEnd:y,onDraggingChange:b});x.on("end",Ke)}const lt=kC({zoomActivationKeyPressed:_e,panOnDrag:U,zoomOnScroll:L,panOnScroll:oe,zoomOnDoubleClick:I,zoomOnPinch:xe,userSelectionActive:K,noPanClassName:ae,noWheelClassName:le,lib:Se,connectionInProgress:Le});x.filter(lt),I?_.on("dblclick.zoom",C):_.on("dblclick.zoom",null)}function k(){x.on("zoom",null)}async function z(le,ae,Ee){const K=uh(le),oe=x?.constrain()(K,ae,Ee);return oe&&await D(oe),new Promise(U=>U(oe))}async function A(le,ae){const Ee=uh(le);return await D(Ee,ae),new Promise(K=>K(Ee))}function B(le){if(_){const ae=uh(le),Ee=_.property("__zoom");(Ee.k!==le.zoom||Ee.x!==le.x||Ee.y!==le.y)&&x?.transform(_,ae,null,{sync:!0})}}function G(){const le=_?q0(_.node()):{x:0,y:0,k:1};return{x:le.x,y:le.y,zoom:le.k}}function V(le,ae){return _?new Promise(Ee=>{x?.interpolate(ae?.interpolate==="linear"?Ms:_c).scaleTo(ch(_,ae?.duration,ae?.ease,()=>Ee(!0)),le)}):Promise.resolve(!1)}function Y(le,ae){return _?new Promise(Ee=>{x?.interpolate(ae?.interpolate==="linear"?Ms:_c).scaleBy(ch(_,ae?.duration,ae?.ease,()=>Ee(!0)),le)}):Promise.resolve(!1)}function de(le){x?.scaleExtent(le)}function he(le){x?.translateExtent(le)}function Te(le){const ae=!Oa(le)||le<0?0:le;x?.clickDistance(ae)}return{update:T,destroy:k,setViewport:A,setViewportConstrained:z,getViewport:G,scaleTo:V,scaleBy:Y,setScaleExtent:de,setTranslateExtent:he,syncViewport:B,setClickDistance:Te}}var vo;(function(n){n.Line="line",n.Handle="handle"})(vo||(vo={}));function BC({width:n,prevWidth:i,height:l,prevHeight:o,affectsX:u,affectsY:f}){const h=n-i,y=l-o,b=[h>0?1:h<0?-1:0,y>0?1:y<0?-1:0];return h&&u&&(b[0]=b[0]*-1),y&&f&&(b[1]=b[1]*-1),b}function uv(n){const i=n.includes("right")||n.includes("left"),l=n.includes("bottom")||n.includes("top"),o=n.includes("left"),u=n.includes("top");return{isHorizontal:i,isVertical:l,affectsX:o,affectsY:u}}function Mr(n,i){return Math.max(0,i-n)}function Tr(n,i){return Math.max(0,n-i)}function mc(n,i,l){return Math.max(0,i-n,n-l)}function cv(n,i){return n?!i:i}function HC(n,i,l,o,u,f,h,y){let{affectsX:b,affectsY:m}=i;const{isHorizontal:w,isVertical:x}=i,_=w&&x,{xSnapped:j,ySnapped:C}=l,{minWidth:D,maxWidth:T,minHeight:k,maxHeight:z}=o,{x:A,y:B,width:G,height:V,aspectRatio:Y}=n;let de=Math.floor(w?j-n.pointerX:0),he=Math.floor(x?C-n.pointerY:0);const Te=G+(b?-de:de),le=V+(m?-he:he),ae=-f[0]*G,Ee=-f[1]*V;let K=mc(Te,D,T),oe=mc(le,k,z);if(h){let Z=0,se=0;b&&de<0?Z=Mr(A+de+ae,h[0][0]):!b&&de>0&&(Z=Tr(A+Te+ae,h[1][0])),m&&he<0?se=Mr(B+he+Ee,h[0][1]):!m&&he>0&&(se=Tr(B+le+Ee,h[1][1])),K=Math.max(K,Z),oe=Math.max(oe,se)}if(y){let Z=0,se=0;b&&de>0?Z=Tr(A+de,y[0][0]):!b&&de<0&&(Z=Mr(A+Te,y[1][0])),m&&he>0?se=Tr(B+he,y[0][1]):!m&&he<0&&(se=Mr(B+le,y[1][1])),K=Math.max(K,Z),oe=Math.max(oe,se)}if(u){if(w){const Z=mc(Te/Y,k,z)*Y;if(K=Math.max(K,Z),h){let se=0;!b&&!m||b&&!m&&_?se=Tr(B+Ee+Te/Y,h[1][1])*Y:se=Mr(B+Ee+(b?de:-de)/Y,h[0][1])*Y,K=Math.max(K,se)}if(y){let se=0;!b&&!m||b&&!m&&_?se=Mr(B+Te/Y,y[1][1])*Y:se=Tr(B+(b?de:-de)/Y,y[0][1])*Y,K=Math.max(K,se)}}if(x){const Z=mc(le*Y,D,T)/Y;if(oe=Math.max(oe,Z),h){let se=0;!b&&!m||m&&!b&&_?se=Tr(A+le*Y+ae,h[1][0])/Y:se=Mr(A+(m?he:-he)*Y+ae,h[0][0])/Y,oe=Math.max(oe,se)}if(y){let se=0;!b&&!m||m&&!b&&_?se=Mr(A+le*Y,y[1][0])/Y:se=Tr(A+(m?he:-he)*Y,y[0][0])/Y,oe=Math.max(oe,se)}}}he=he+(he<0?oe:-oe),de=de+(de<0?K:-K),u&&(_?Te>le*Y?he=(cv(b,m)?-de:de)/Y:de=(cv(b,m)?-he:he)*Y:w?(he=de/Y,m=b):(de=he*Y,b=m));const U=b?A+de:A,X=m?B+he:B;return{width:G+(b?-de:de),height:V+(m?-he:he),x:f[0]*de*(b?-1:1)+U,y:f[1]*he*(m?-1:1)+X}}const yb={width:0,height:0,x:0,y:0},LC={...yb,pointerX:0,pointerY:0,aspectRatio:1};function UC(n){return[[0,0],[n.measured.width,n.measured.height]]}function qC(n,i,l){const o=i.position.x+n.position.x,u=i.position.y+n.position.y,f=n.measured.width??0,h=n.measured.height??0,y=l[0]*f,b=l[1]*h;return[[o-y,u-b],[o+f-y,u+h-b]]}function VC({domNode:n,nodeId:i,getStoreItems:l,onChange:o,onEnd:u}){const f=ta(n);let h={controlDirection:uv("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function y({controlPosition:m,boundaries:w,keepAspectRatio:x,resizeDirection:_,onResizeStart:j,onResize:C,onResizeEnd:D,shouldResize:T}){let k={...yb},z={...LC};h={boundaries:w,resizeDirection:_,keepAspectRatio:x,controlDirection:uv(m)};let A,B=null,G=[],V,Y,de,he=!1;const Te=C0().on("start",le=>{const{nodeLookup:ae,transform:Ee,snapGrid:K,snapToGrid:oe,nodeOrigin:U,paneDomNode:X}=l();if(A=ae.get(i),!A)return;B=X?.getBoundingClientRect()??null;const{xSnapped:Z,ySnapped:se}=Ts(le.sourceEvent,{transform:Ee,snapGrid:K,snapToGrid:oe,containerBounds:B});k={width:A.measured.width??0,height:A.measured.height??0,x:A.position.x??0,y:A.position.y??0},z={...k,pointerX:Z,pointerY:se,aspectRatio:k.width/k.height},V=void 0,A.parentId&&(A.extent==="parent"||A.expandParent)&&(V=ae.get(A.parentId),Y=V&&A.extent==="parent"?UC(V):void 0),G=[],de=void 0;for(const[xe,L]of ae)if(L.parentId===i&&(G.push({id:xe,position:{...L.position},extent:L.extent}),L.extent==="parent"||L.expandParent)){const I=qC(L,A,L.origin??U);de?de=[[Math.min(I[0][0],de[0][0]),Math.min(I[0][1],de[0][1])],[Math.max(I[1][0],de[1][0]),Math.max(I[1][1],de[1][1])]]:de=I}j?.(le,{...k})}).on("drag",le=>{const{transform:ae,snapGrid:Ee,snapToGrid:K,nodeOrigin:oe}=l(),U=Ts(le.sourceEvent,{transform:ae,snapGrid:Ee,snapToGrid:K,containerBounds:B}),X=[];if(!A)return;const{x:Z,y:se,width:xe,height:L}=k,I={},_e=A.origin??oe,{width:Se,height:Be,x:Le,y:He}=HC(z,h.controlDirection,U,h.boundaries,h.keepAspectRatio,_e,Y,de),De=Se!==xe,qe=Be!==L,ze=Le!==Z&&De,lt=He!==se&&qe;if(!ze&&!lt&&!De&&!qe)return;if((ze||lt||_e[0]===1||_e[1]===1)&&(I.x=ze?Le:k.x,I.y=lt?He:k.y,k.x=I.x,k.y=I.y,G.length>0)){const Ge=Le-Z,ie=He-se;for(const ye of G)ye.position={x:ye.position.x-Ge+_e[0]*(Se-xe),y:ye.position.y-ie+_e[1]*(Be-L)},X.push(ye)}if((De||qe)&&(I.width=De&&(!h.resizeDirection||h.resizeDirection==="horizontal")?Se:k.width,I.height=qe&&(!h.resizeDirection||h.resizeDirection==="vertical")?Be:k.height,k.width=I.width,k.height=I.height),V&&A.expandParent){const Ge=_e[0]*(I.width??0);I.x&&I.x<Ge&&(k.x=Ge,z.x=z.x-(I.x-Ge));const ie=_e[1]*(I.height??0);I.y&&I.y<ie&&(k.y=ie,z.y=z.y-(I.y-ie))}const Ue=BC({width:k.width,prevWidth:xe,height:k.height,prevHeight:L,affectsX:h.controlDirection.affectsX,affectsY:h.controlDirection.affectsY}),Ae={...k,direction:Ue};T?.(le,Ae)!==!1&&(he=!0,C?.(le,Ae),o(I,X))}).on("end",le=>{he&&(D?.(le,{...k}),u?.({...k}),he=!1)});f.call(Te)}function b(){f.on(".drag",null)}return{update:y,destroy:b}}var fh={exports:{}},dh={},hh={exports:{}},ph={};var fv;function YC(){if(fv)return ph;fv=1;var n=Vs();function i(x,_){return x===_&&(x!==0||1/x===1/_)||x!==x&&_!==_}var l=typeof Object.is=="function"?Object.is:i,o=n.useState,u=n.useEffect,f=n.useLayoutEffect,h=n.useDebugValue;function y(x,_){var j=_(),C=o({inst:{value:j,getSnapshot:_}}),D=C[0].inst,T=C[1];return f(function(){D.value=j,D.getSnapshot=_,b(D)&&T({inst:D})},[x,j,_]),u(function(){return b(D)&&T({inst:D}),x(function(){b(D)&&T({inst:D})})},[x]),h(j),j}function b(x){var _=x.getSnapshot;x=x.value;try{var j=_();return!l(x,j)}catch{return!0}}function m(x,_){return _()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:y;return ph.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:w,ph}var dv;function KC(){return dv||(dv=1,hh.exports=YC()),hh.exports}var hv;function $C(){if(hv)return dh;hv=1;var n=Vs(),i=KC();function l(m,w){return m===w&&(m!==0||1/m===1/w)||m!==m&&w!==w}var o=typeof Object.is=="function"?Object.is:l,u=i.useSyncExternalStore,f=n.useRef,h=n.useEffect,y=n.useMemo,b=n.useDebugValue;return dh.useSyncExternalStoreWithSelector=function(m,w,x,_,j){var C=f(null);if(C.current===null){var D={hasValue:!1,value:null};C.current=D}else D=C.current;C=y(function(){function k(V){if(!z){if(z=!0,A=V,V=_(V),j!==void 0&&D.hasValue){var Y=D.value;if(j(Y,V))return B=Y}return B=V}if(Y=B,o(A,V))return Y;var de=_(V);return j!==void 0&&j(Y,de)?(A=V,Y):(A=V,B=de)}var z=!1,A,B,G=x===void 0?null:x;return[function(){return k(w())},G===null?void 0:function(){return k(G())}]},[w,x,_,j]);var T=u(m,C[0],C[1]);return h(function(){D.hasValue=!0,D.value=T},[T]),b(T),T},dh}var pv;function XC(){return pv||(pv=1,fh.exports=$C()),fh.exports}var IC=XC();const GC=qh(IC),ZC={},mv=n=>{let i;const l=new Set,o=(w,x)=>{const _=typeof w=="function"?w(i):w;if(!Object.is(_,i)){const j=i;i=x??(typeof _!="object"||_===null)?_:Object.assign({},i,_),l.forEach(C=>C(i,j))}},u=()=>i,b={setState:o,getState:u,getInitialState:()=>m,subscribe:w=>(l.add(w),()=>l.delete(w)),destroy:()=>{(ZC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),l.clear()}},m=i=n(o,u,b);return b},QC=n=>n?mv(n):mv,{useDebugValue:PC}=Uv,{useSyncExternalStoreWithSelector:FC}=GC,JC=n=>n;function gb(n,i=JC,l){const o=FC(n.subscribe,n.getState,n.getServerState||n.getInitialState,i,l);return PC(o),o}const yv=(n,i)=>{const l=QC(n),o=(u,f=i)=>gb(l,u,f);return Object.assign(o,l),o},WC=(n,i)=>n?yv(n,i):yv;function It(n,i){if(Object.is(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;if(n instanceof Map&&i instanceof Map){if(n.size!==i.size)return!1;for(const[o,u]of n)if(!Object.is(u,i.get(o)))return!1;return!0}if(n instanceof Set&&i instanceof Set){if(n.size!==i.size)return!1;for(const o of n)if(!i.has(o))return!1;return!0}const l=Object.keys(n);if(l.length!==Object.keys(i).length)return!1;for(const o of l)if(!Object.prototype.hasOwnProperty.call(i,o)||!Object.is(n[o],i[o]))return!1;return!0}const Jc=O.createContext(null),eA=Jc.Provider,vb=Fa.error001();function St(n,i){const l=O.useContext(Jc);if(l===null)throw new Error(vb);return gb(l,n,i)}function Gt(){const n=O.useContext(Jc);if(n===null)throw new Error(vb);return O.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe}),[n])}const gv={display:"none"},tA={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},bb="react-flow__node-desc",xb="react-flow__edge-desc",nA="react-flow__aria-live",aA=n=>n.ariaLiveMessage,iA=n=>n.ariaLabelConfig;function rA({rfId:n}){const i=St(aA);return g.jsx("div",{id:`${nA}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:tA,children:i})}function lA({rfId:n,disableKeyboardA11y:i}){const l=St(iA);return g.jsxs(g.Fragment,{children:[g.jsx("div",{id:`${bb}-${n}`,style:gv,children:i?l["node.a11yDescription.default"]:l["node.a11yDescription.keyboardDisabled"]}),g.jsx("div",{id:`${xb}-${n}`,style:gv,children:l["edge.a11yDescription.default"]}),!i&&g.jsx(rA,{rfId:n})]})}const Fs=O.forwardRef(({position:n="top-left",children:i,className:l,style:o,...u},f)=>{const h=`${n}`.split("-");return g.jsx("div",{className:fn(["react-flow__panel",l,...h]),style:o,ref:f,...u,children:i})});Fs.displayName="Panel";function oA({proOptions:n,position:i="bottom-right"}){return n?.hideAttribution?null:g.jsx(Fs,{position:i,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:g.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const sA=n=>{const i=[],l=[];for(const[,o]of n.nodeLookup)o.selected&&i.push(o.internals.userNode);for(const[,o]of n.edgeLookup)o.selected&&l.push(o);return{selectedNodes:i,selectedEdges:l}},yc=n=>n.id;function uA(n,i){return It(n.selectedNodes.map(yc),i.selectedNodes.map(yc))&&It(n.selectedEdges.map(yc),i.selectedEdges.map(yc))}function cA({onSelectionChange:n}){const i=Gt(),{selectedNodes:l,selectedEdges:o}=St(sA,uA);return O.useEffect(()=>{const u={nodes:l,edges:o};n?.(u),i.getState().onSelectionChangeHandlers.forEach(f=>f(u))},[l,o,n]),null}const fA=n=>!!n.onSelectionChangeHandlers;function dA({onSelectionChange:n}){const i=St(fA);return n||i?g.jsx(cA,{onSelectionChange:n}):null}const wb=[0,0],hA={x:0,y:0,zoom:1},pA=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],vv=[...pA,"rfId"],mA=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges}),bv={translateExtent:Bs,nodeOrigin:wb,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function yA(n){const{setNodes:i,setEdges:l,setMinZoom:o,setMaxZoom:u,setTranslateExtent:f,setNodeExtent:h,reset:y,setDefaultNodesAndEdges:b}=St(mA,It),m=Gt();O.useEffect(()=>(b(n.defaultNodes,n.defaultEdges),()=>{w.current=bv,y()}),[]);const w=O.useRef(bv);return O.useEffect(()=>{for(const x of vv){const _=n[x],j=w.current[x];_!==j&&(typeof n[x]>"u"||(x==="nodes"?i(_):x==="edges"?l(_):x==="minZoom"?o(_):x==="maxZoom"?u(_):x==="translateExtent"?f(_):x==="nodeExtent"?h(_):x==="ariaLabelConfig"?m.setState({ariaLabelConfig:WN(_)}):x==="fitView"?m.setState({fitViewQueued:_}):x==="fitViewOptions"?m.setState({fitViewOptions:_}):m.setState({[x]:_})))}w.current=n},vv.map(x=>n[x])),null}function xv(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function gA(n){const[i,l]=O.useState(n==="system"?null:n);return O.useEffect(()=>{if(n!=="system"){l(n);return}const o=xv(),u=()=>l(o?.matches?"dark":"light");return u(),o?.addEventListener("change",u),()=>{o?.removeEventListener("change",u)}},[n]),i!==null?i:xv()?.matches?"dark":"light"}const wv=typeof document<"u"?document:null;function qs(n=null,i={target:wv,actInsideInputWithModifier:!0}){const[l,o]=O.useState(!1),u=O.useRef(!1),f=O.useRef(new Set([])),[h,y]=O.useMemo(()=>{if(n!==null){const m=(Array.isArray(n)?n:[n]).filter(x=>typeof x=="string").map(x=>x.replace("+",`
`).replace(`

`,`
+`).split(`
`)),w=m.reduce((x,_)=>x.concat(..._),[]);return[m,w]}return[[],[]]},[n]);return O.useEffect(()=>{const b=i?.target??wv,m=i?.actInsideInputWithModifier??!0;if(n!==null){const w=j=>{if(u.current=j.ctrlKey||j.metaKey||j.shiftKey||j.altKey,(!u.current||u.current&&!m)&&eb(j))return!1;const D=_v(j.code,y);if(f.current.add(j[D]),Sv(h,f.current,!1)){const T=j.composedPath?.()?.[0]||j.target,k=T?.nodeName==="BUTTON"||T?.nodeName==="A";i.preventDefault!==!1&&(u.current||!k)&&j.preventDefault(),o(!0)}},x=j=>{const C=_v(j.code,y);Sv(h,f.current,!0)?(o(!1),f.current.clear()):f.current.delete(j[C]),j.key==="Meta"&&f.current.clear(),u.current=!1},_=()=>{f.current.clear(),o(!1)};return b?.addEventListener("keydown",w),b?.addEventListener("keyup",x),window.addEventListener("blur",_),window.addEventListener("contextmenu",_),()=>{b?.removeEventListener("keydown",w),b?.removeEventListener("keyup",x),window.removeEventListener("blur",_),window.removeEventListener("contextmenu",_)}}},[n,o]),l}function Sv(n,i,l){return n.filter(o=>l||o.length===i.size).some(o=>o.every(u=>i.has(u)))}function _v(n,i){return i.includes(n)?"code":"key"}const vA=()=>{const n=Gt();return O.useMemo(()=>({zoomIn:i=>{const{panZoom:l}=n.getState();return l?l.scaleBy(1.2,{duration:i?.duration}):Promise.resolve(!1)},zoomOut:i=>{const{panZoom:l}=n.getState();return l?l.scaleBy(1/1.2,{duration:i?.duration}):Promise.resolve(!1)},zoomTo:(i,l)=>{const{panZoom:o}=n.getState();return o?o.scaleTo(i,{duration:l?.duration}):Promise.resolve(!1)},getZoom:()=>n.getState().transform[2],setViewport:async(i,l)=>{const{transform:[o,u,f],panZoom:h}=n.getState();return h?(await h.setViewport({x:i.x??o,y:i.y??u,zoom:i.zoom??f},l),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[i,l,o]=n.getState().transform;return{x:i,y:l,zoom:o}},setCenter:async(i,l,o)=>n.getState().setCenter(i,l,o),fitBounds:async(i,l)=>{const{width:o,height:u,minZoom:f,maxZoom:h,panZoom:y}=n.getState(),b=ip(i,o,u,f,h,l?.padding??.1);return y?(await y.setViewport(b,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(i,l={})=>{const{transform:o,snapGrid:u,snapToGrid:f,domNode:h}=n.getState();if(!h)return i;const{x:y,y:b}=h.getBoundingClientRect(),m={x:i.x-y,y:i.y-b},w=l.snapGrid??u,x=l.snapToGrid??f;return Ps(m,o,x,w)},flowToScreenPosition:i=>{const{transform:l,domNode:o}=n.getState();if(!o)return i;const{x:u,y:f}=o.getBoundingClientRect(),h=Lc(i,l);return{x:h.x+u,y:h.y+f}}}),[])};function Sb(n,i){const l=[],o=new Map,u=[];for(const f of n)if(f.type==="add"){u.push(f);continue}else if(f.type==="remove"||f.type==="replace")o.set(f.id,[f]);else{const h=o.get(f.id);h?h.push(f):o.set(f.id,[f])}for(const f of i){const h=o.get(f.id);if(!h){l.push(f);continue}if(h[0].type==="remove")continue;if(h[0].type==="replace"){l.push({...h[0].item});continue}const y={...f};for(const b of h)bA(b,y);l.push(y)}return u.length&&u.forEach(f=>{f.index!==void 0?l.splice(f.index,0,{...f.item}):l.push({...f.item})}),l}function bA(n,i){switch(n.type){case"select":{i.selected=n.selected;break}case"position":{typeof n.position<"u"&&(i.position=n.position),typeof n.dragging<"u"&&(i.dragging=n.dragging);break}case"dimensions":{typeof n.dimensions<"u"&&(i.measured={...n.dimensions},n.setAttributes&&((n.setAttributes===!0||n.setAttributes==="width")&&(i.width=n.dimensions.width),(n.setAttributes===!0||n.setAttributes==="height")&&(i.height=n.dimensions.height))),typeof n.resizing=="boolean"&&(i.resizing=n.resizing);break}}}function _b(n,i){return Sb(n,i)}function Eb(n,i){return Sb(n,i)}function al(n,i){return{id:n,type:"select",selected:i}}function lo(n,i=new Set,l=!1){const o=[];for(const[u,f]of n){const h=i.has(u);!(f.selected===void 0&&!h)&&f.selected!==h&&(l&&(f.selected=h),o.push(al(f.id,h)))}return o}function Ev({items:n=[],lookup:i}){const l=[],o=new Map(n.map(u=>[u.id,u]));for(const[u,f]of n.entries()){const h=i.get(f.id),y=h?.internals?.userNode??h;y!==void 0&&y!==f&&l.push({id:f.id,item:f,type:"replace"}),y===void 0&&l.push({item:f,type:"add",index:u})}for(const[u]of i)o.get(u)===void 0&&l.push({id:u,type:"remove"});return l}function Nv(n){return{id:n.id,type:"remove"}}const Cv=n=>KN(n),xA=n=>I0(n);function Nb(n){return O.forwardRef(n)}const wA=typeof window<"u"?O.useLayoutEffect:O.useEffect;function Av(n){const[i,l]=O.useState(BigInt(0)),[o]=O.useState(()=>SA(()=>l(u=>u+BigInt(1))));return wA(()=>{const u=o.get();u.length&&(n(u),o.reset())},[i]),o}function SA(n){let i=[];return{get:()=>i,reset:()=>{i=[]},push:l=>{i.push(l),n()}}}const Cb=O.createContext(null);function _A({children:n}){const i=Gt(),l=O.useCallback(y=>{const{nodes:b=[],setNodes:m,hasDefaultNodes:w,onNodesChange:x,nodeLookup:_,fitViewQueued:j,onNodesChangeMiddlewareMap:C}=i.getState();let D=b;for(const k of y)D=typeof k=="function"?k(D):k;let T=Ev({items:D,lookup:_});for(const k of C.values())T=k(T);w&&m(D),T.length>0?x?.(T):j&&window.requestAnimationFrame(()=>{const{fitViewQueued:k,nodes:z,setNodes:A}=i.getState();k&&A(z)})},[]),o=Av(l),u=O.useCallback(y=>{const{edges:b=[],setEdges:m,hasDefaultEdges:w,onEdgesChange:x,edgeLookup:_}=i.getState();let j=b;for(const C of y)j=typeof C=="function"?C(j):C;w?m(j):x&&x(Ev({items:j,lookup:_}))},[]),f=Av(u),h=O.useMemo(()=>({nodeQueue:o,edgeQueue:f}),[]);return g.jsx(Cb.Provider,{value:h,children:n})}function EA(){const n=O.useContext(Cb);if(!n)throw new Error("useBatchContext must be used within a BatchProvider");return n}const NA=n=>!!n.panZoom;function Wc(){const n=vA(),i=Gt(),l=EA(),o=St(NA),u=O.useMemo(()=>{const f=x=>i.getState().nodeLookup.get(x),h=x=>{l.nodeQueue.push(x)},y=x=>{l.edgeQueue.push(x)},b=x=>{const{nodeLookup:_,nodeOrigin:j}=i.getState(),C=Cv(x)?x:_.get(x.id),D=C.parentId?J0(C.position,C.measured,C.parentId,_,j):C.position,T={...C,position:D,width:C.measured?.width??C.width,height:C.measured?.height??C.height};return yo(T)},m=(x,_,j={replace:!1})=>{h(C=>C.map(D=>{if(D.id===x){const T=typeof _=="function"?_(D):_;return j.replace&&Cv(T)?T:{...D,...T}}return D}))},w=(x,_,j={replace:!1})=>{y(C=>C.map(D=>{if(D.id===x){const T=typeof _=="function"?_(D):_;return j.replace&&xA(T)?T:{...D,...T}}return D}))};return{getNodes:()=>i.getState().nodes.map(x=>({...x})),getNode:x=>f(x)?.internals.userNode,getInternalNode:f,getEdges:()=>{const{edges:x=[]}=i.getState();return x.map(_=>({..._}))},getEdge:x=>i.getState().edgeLookup.get(x),setNodes:h,setEdges:y,addNodes:x=>{const _=Array.isArray(x)?x:[x];l.nodeQueue.push(j=>[...j,..._])},addEdges:x=>{const _=Array.isArray(x)?x:[x];l.edgeQueue.push(j=>[...j,..._])},toObject:()=>{const{nodes:x=[],edges:_=[],transform:j}=i.getState(),[C,D,T]=j;return{nodes:x.map(k=>({...k})),edges:_.map(k=>({...k})),viewport:{x:C,y:D,zoom:T}}},deleteElements:async({nodes:x=[],edges:_=[]})=>{const{nodes:j,edges:C,onNodesDelete:D,onEdgesDelete:T,triggerNodeChanges:k,triggerEdgeChanges:z,onDelete:A,onBeforeDelete:B}=i.getState(),{nodes:G,edges:V}=await ZN({nodesToRemove:x,edgesToRemove:_,nodes:j,edges:C,onBeforeDelete:B}),Y=V.length>0,de=G.length>0;if(Y){const he=V.map(Nv);T?.(V),z(he)}if(de){const he=G.map(Nv);D?.(G),k(he)}return(de||Y)&&A?.({nodes:G,edges:V}),{deletedNodes:G,deletedEdges:V}},getIntersectingNodes:(x,_=!0,j)=>{const C=Jg(x),D=C?x:b(x),T=j!==void 0;return D?(j||i.getState().nodes).filter(k=>{const z=i.getState().nodeLookup.get(k.id);if(z&&!C&&(k.id===x.id||!z.internals.positionAbsolute))return!1;const A=yo(T?k:z),B=Ls(A,D);return _&&B>0||B>=A.width*A.height||B>=D.width*D.height}):[]},isNodeIntersecting:(x,_,j=!0)=>{const D=Jg(x)?x:b(x);if(!D)return!1;const T=Ls(D,_);return j&&T>0||T>=_.width*_.height||T>=D.width*D.height},updateNode:m,updateNodeData:(x,_,j={replace:!1})=>{m(x,C=>{const D=typeof _=="function"?_(C):_;return j.replace?{...C,data:D}:{...C,data:{...C.data,...D}}},j)},updateEdge:w,updateEdgeData:(x,_,j={replace:!1})=>{w(x,C=>{const D=typeof _=="function"?_(C):_;return j.replace?{...C,data:D}:{...C,data:{...C.data,...D}}},j)},getNodesBounds:x=>{const{nodeLookup:_,nodeOrigin:j}=i.getState();return $N(x,{nodeLookup:_,nodeOrigin:j})},getHandleConnections:({type:x,id:_,nodeId:j})=>Array.from(i.getState().connectionLookup.get(`${j}-${x}${_?`-${_}`:""}`)?.values()??[]),getNodeConnections:({type:x,handleId:_,nodeId:j})=>Array.from(i.getState().connectionLookup.get(`${j}${x?_?`-${x}-${_}`:`-${x}`:""}`)?.values()??[]),fitView:async x=>{const _=i.getState().fitViewResolver??JN();return i.setState({fitViewQueued:!0,fitViewOptions:x,fitViewResolver:_}),l.nodeQueue.push(j=>[...j]),_.promise}}},[]);return O.useMemo(()=>({...u,...n,viewportInitialized:o}),[o])}const jv=n=>n.selected,CA=typeof window<"u"?window:void 0;function AA({deleteKeyCode:n,multiSelectionKeyCode:i}){const l=Gt(),{deleteElements:o}=Wc(),u=qs(n,{actInsideInputWithModifier:!1}),f=qs(i,{target:CA});O.useEffect(()=>{if(u){const{edges:h,nodes:y}=l.getState();o({nodes:y.filter(jv),edges:h.filter(jv)}),l.setState({nodesSelectionActive:!1})}},[u]),O.useEffect(()=>{l.setState({multiSelectionActive:f})},[f])}function jA(n){const i=Gt();O.useEffect(()=>{const l=()=>{if(!n.current||!(n.current.checkVisibility?.()??!0))return!1;const o=rp(n.current);(o.height===0||o.width===0)&&i.getState().onError?.("004",Fa.error004()),i.setState({width:o.width||500,height:o.height||500})};if(n.current){l(),window.addEventListener("resize",l);const o=new ResizeObserver(()=>l());return o.observe(n.current),()=>{window.removeEventListener("resize",l),o&&n.current&&o.unobserve(n.current)}}},[])}const ef={position:"absolute",width:"100%",height:"100%",top:0,left:0},MA=n=>({userSelectionActive:n.userSelectionActive,lib:n.lib,connectionInProgress:n.connection.inProgress});function TA({onPaneContextMenu:n,zoomOnScroll:i=!0,zoomOnPinch:l=!0,panOnScroll:o=!1,panOnScrollSpeed:u=.5,panOnScrollMode:f=ll.Free,zoomOnDoubleClick:h=!0,panOnDrag:y=!0,defaultViewport:b,translateExtent:m,minZoom:w,maxZoom:x,zoomActivationKeyCode:_,preventScrolling:j=!0,children:C,noWheelClassName:D,noPanClassName:T,onViewportChange:k,isControlledViewport:z,paneClickDistance:A,selectionOnDrag:B}){const G=Gt(),V=O.useRef(null),{userSelectionActive:Y,lib:de,connectionInProgress:he}=St(MA,It),Te=qs(_),le=O.useRef();jA(V);const ae=O.useCallback(Ee=>{k?.({x:Ee[0],y:Ee[1],zoom:Ee[2]}),z||G.setState({transform:Ee})},[k,z]);return O.useEffect(()=>{if(V.current){le.current=RC({domNode:V.current,minZoom:w,maxZoom:x,translateExtent:m,viewport:b,onDraggingChange:U=>G.setState(X=>X.paneDragging===U?X:{paneDragging:U}),onPanZoomStart:(U,X)=>{const{onViewportChangeStart:Z,onMoveStart:se}=G.getState();se?.(U,X),Z?.(X)},onPanZoom:(U,X)=>{const{onViewportChange:Z,onMove:se}=G.getState();se?.(U,X),Z?.(X)},onPanZoomEnd:(U,X)=>{const{onViewportChangeEnd:Z,onMoveEnd:se}=G.getState();se?.(U,X),Z?.(X)}});const{x:Ee,y:K,zoom:oe}=le.current.getViewport();return G.setState({panZoom:le.current,transform:[Ee,K,oe],domNode:V.current.closest(".react-flow")}),()=>{le.current?.destroy()}}},[]),O.useEffect(()=>{le.current?.update({onPaneContextMenu:n,zoomOnScroll:i,zoomOnPinch:l,panOnScroll:o,panOnScrollSpeed:u,panOnScrollMode:f,zoomOnDoubleClick:h,panOnDrag:y,zoomActivationKeyPressed:Te,preventScrolling:j,noPanClassName:T,userSelectionActive:Y,noWheelClassName:D,lib:de,onTransformChange:ae,connectionInProgress:he,selectionOnDrag:B,paneClickDistance:A})},[n,i,l,o,u,f,h,y,Te,j,T,Y,D,de,ae,he,B,A]),g.jsx("div",{className:"react-flow__renderer",ref:V,style:ef,children:C})}const DA=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function zA(){const{userSelectionActive:n,userSelectionRect:i}=St(DA,It);return n&&i?g.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:i.width,height:i.height,transform:`translate(${i.x}px, ${i.y}px)`}}):null}const mh=(n,i)=>l=>{l.target===i.current&&n?.(l)},OA=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,connectionInProgress:n.connection.inProgress,dragging:n.paneDragging});function kA({isSelecting:n,selectionKeyPressed:i,selectionMode:l=Hs.Full,panOnDrag:o,paneClickDistance:u,selectionOnDrag:f,onSelectionStart:h,onSelectionEnd:y,onPaneClick:b,onPaneContextMenu:m,onPaneScroll:w,onPaneMouseEnter:x,onPaneMouseMove:_,onPaneMouseLeave:j,children:C}){const D=Gt(),{userSelectionActive:T,elementsSelectable:k,dragging:z,connectionInProgress:A}=St(OA,It),B=k&&(n||T),G=O.useRef(null),V=O.useRef(),Y=O.useRef(new Set),de=O.useRef(new Set),he=O.useRef(!1),Te=Z=>{if(he.current||A){he.current=!1;return}b?.(Z),D.getState().resetSelectedElements(),D.setState({nodesSelectionActive:!1})},le=Z=>{if(Array.isArray(o)&&o?.includes(2)){Z.preventDefault();return}m?.(Z)},ae=w?Z=>w(Z):void 0,Ee=Z=>{he.current&&(Z.stopPropagation(),he.current=!1)},K=Z=>{const{domNode:se}=D.getState();if(V.current=se?.getBoundingClientRect(),!V.current)return;const xe=Z.target===G.current;if(!xe&&!!Z.target.closest(".nokey")||!n||!(f&&xe||i)||Z.button!==0||!Z.isPrimary)return;Z.target?.setPointerCapture?.(Z.pointerId),he.current=!1;const{x:_e,y:Se}=ka(Z.nativeEvent,V.current);D.setState({userSelectionRect:{width:0,height:0,startX:_e,startY:Se,x:_e,y:Se}}),xe||(Z.stopPropagation(),Z.preventDefault())},oe=Z=>{const{userSelectionRect:se,transform:xe,nodeLookup:L,edgeLookup:I,connectionLookup:_e,triggerNodeChanges:Se,triggerEdgeChanges:Be,defaultEdgeOptions:Le,resetSelectedElements:He}=D.getState();if(!V.current||!se)return;const{x:De,y:qe}=ka(Z.nativeEvent,V.current),{startX:ze,startY:lt}=se;if(!he.current){const ie=i?0:u;if(Math.hypot(De-ze,qe-lt)<=ie)return;He(),h?.(Z)}he.current=!0;const Ue={startX:ze,startY:lt,x:De<ze?De:ze,y:qe<lt?qe:lt,width:Math.abs(De-ze),height:Math.abs(qe-lt)},Ae=Y.current,Ke=de.current;Y.current=new Set(ap(L,Ue,xe,l===Hs.Partial,!0).map(ie=>ie.id)),de.current=new Set;const Ge=Le?.selectable??!0;for(const ie of Y.current){const ye=_e.get(ie);if(ye)for(const{edgeId:Xe}of ye.values()){const et=I.get(Xe);et&&(et.selectable??Ge)&&de.current.add(Xe)}}if(!Wg(Ae,Y.current)){const ie=lo(L,Y.current,!0);Se(ie)}if(!Wg(Ke,de.current)){const ie=lo(I,de.current);Be(ie)}D.setState({userSelectionRect:Ue,userSelectionActive:!0,nodesSelectionActive:!1})},U=Z=>{Z.button===0&&(Z.target?.releasePointerCapture?.(Z.pointerId),!T&&Z.target===G.current&&D.getState().userSelectionRect&&Te?.(Z),D.setState({userSelectionActive:!1,userSelectionRect:null}),he.current&&(y?.(Z),D.setState({nodesSelectionActive:Y.current.size>0})))},X=o===!0||Array.isArray(o)&&o.includes(0);return g.jsxs("div",{className:fn(["react-flow__pane",{draggable:X,dragging:z,selection:n}]),onClick:B?void 0:mh(Te,G),onContextMenu:mh(le,G),onWheel:mh(ae,G),onPointerEnter:B?void 0:x,onPointerMove:B?oe:_,onPointerUp:B?U:void 0,onPointerDownCapture:B?K:void 0,onClickCapture:B?Ee:void 0,onPointerLeave:j,ref:G,style:ef,children:[C,g.jsx(zA,{})]})}function Uh({id:n,store:i,unselect:l=!1,nodeRef:o}){const{addSelectedNodes:u,unselectNodesAndEdges:f,multiSelectionActive:h,nodeLookup:y,onError:b}=i.getState(),m=y.get(n);if(!m){b?.("012",Fa.error012(n));return}i.setState({nodesSelectionActive:!1}),m.selected?(l||m.selected&&h)&&(f({nodes:[m],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):u([n])}function Ab({nodeRef:n,disabled:i=!1,noDragClassName:l,handleSelector:o,nodeId:u,isSelectable:f,nodeClickDistance:h}){const y=Gt(),[b,m]=O.useState(!1),w=O.useRef();return O.useEffect(()=>{w.current=wC({getStoreItems:()=>y.getState(),onNodeMouseDown:x=>{Uh({id:x,store:y,nodeRef:n})},onDragStart:()=>{m(!0)},onDragStop:()=>{m(!1)}})},[]),O.useEffect(()=>{if(!(i||!n.current||!w.current))return w.current.update({noDragClassName:l,handleSelector:o,domNode:n.current,isSelectable:f,nodeId:u,nodeClickDistance:h}),()=>{w.current?.destroy()}},[l,o,i,f,n,u,h]),b}const RA=n=>i=>i.selected&&(i.draggable||n&&typeof i.draggable>"u");function jb(){const n=Gt();return O.useCallback(l=>{const{nodeExtent:o,snapToGrid:u,snapGrid:f,nodesDraggable:h,onError:y,updateNodePositions:b,nodeLookup:m,nodeOrigin:w}=n.getState(),x=new Map,_=RA(h),j=u?f[0]:5,C=u?f[1]:5,D=l.direction.x*j*l.factor,T=l.direction.y*C*l.factor;for(const[,k]of m){if(!_(k))continue;let z={x:k.internals.positionAbsolute.x+D,y:k.internals.positionAbsolute.y+T};u&&(z=Qs(z,f));const{position:A,positionAbsolute:B}=G0({nodeId:k.id,nextPosition:z,nodeLookup:m,nodeExtent:o,nodeOrigin:w,onError:y});k.position=A,k.internals.positionAbsolute=B,x.set(k.id,k)}b(x)},[])}const fp=O.createContext(null),BA=fp.Provider;fp.Consumer;const Mb=()=>O.useContext(fp),HA=n=>({connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName,rfId:n.rfId}),LA=(n,i,l)=>o=>{const{connectionClickStartHandle:u,connectionMode:f,connection:h}=o,{fromHandle:y,toHandle:b,isValid:m}=h,w=b?.nodeId===n&&b?.id===i&&b?.type===l;return{connectingFrom:y?.nodeId===n&&y?.id===i&&y?.type===l,connectingTo:w,clickConnecting:u?.nodeId===n&&u?.id===i&&u?.type===l,isPossibleEndHandle:f===ho.Strict?y?.type!==l:n!==y?.nodeId||i!==y?.id,connectionInProcess:!!y,clickConnectionInProcess:!!u,valid:w&&m}};function UA({type:n="source",position:i=at.Top,isValidConnection:l,isConnectable:o=!0,isConnectableStart:u=!0,isConnectableEnd:f=!0,id:h,onConnect:y,children:b,className:m,onMouseDown:w,onTouchStart:x,..._},j){const C=h||null,D=n==="target",T=Gt(),k=Mb(),{connectOnClick:z,noPanClassName:A,rfId:B}=St(HA,It),{connectingFrom:G,connectingTo:V,clickConnecting:Y,isPossibleEndHandle:de,connectionInProcess:he,clickConnectionInProcess:Te,valid:le}=St(LA(k,C,n),It);k||T.getState().onError?.("010",Fa.error010());const ae=oe=>{const{defaultEdgeOptions:U,onConnect:X,hasDefaultEdges:Z}=T.getState(),se={...U,...oe};if(Z){const{edges:xe,setEdges:L}=T.getState();L(rC(se,xe))}X?.(se),y?.(se)},Ee=oe=>{if(!k)return;const U=tb(oe.nativeEvent);if(u&&(U&&oe.button===0||!U)){const X=T.getState();Lh.onPointerDown(oe.nativeEvent,{handleDomNode:oe.currentTarget,autoPanOnConnect:X.autoPanOnConnect,connectionMode:X.connectionMode,connectionRadius:X.connectionRadius,domNode:X.domNode,nodeLookup:X.nodeLookup,lib:X.lib,isTarget:D,handleId:C,nodeId:k,flowId:X.rfId,panBy:X.panBy,cancelConnection:X.cancelConnection,onConnectStart:X.onConnectStart,onConnectEnd:(...Z)=>T.getState().onConnectEnd?.(...Z),updateConnection:X.updateConnection,onConnect:ae,isValidConnection:l||((...Z)=>T.getState().isValidConnection?.(...Z)??!0),getTransform:()=>T.getState().transform,getFromHandle:()=>T.getState().connection.fromHandle,autoPanSpeed:X.autoPanSpeed,dragThreshold:X.connectionDragThreshold})}U?w?.(oe):x?.(oe)},K=oe=>{const{onClickConnectStart:U,onClickConnectEnd:X,connectionClickStartHandle:Z,connectionMode:se,isValidConnection:xe,lib:L,rfId:I,nodeLookup:_e,connection:Se}=T.getState();if(!k||!Z&&!u)return;if(!Z){U?.(oe.nativeEvent,{nodeId:k,handleId:C,handleType:n}),T.setState({connectionClickStartHandle:{nodeId:k,type:n,id:C}});return}const Be=W0(oe.target),Le=l||xe,{connection:He,isValid:De}=Lh.isValid(oe.nativeEvent,{handle:{nodeId:k,id:C,type:n},connectionMode:se,fromNodeId:Z.nodeId,fromHandleId:Z.id||null,fromType:Z.type,isValidConnection:Le,flowId:I,doc:Be,lib:L,nodeLookup:_e});De&&He&&ae(He);const qe=structuredClone(Se);delete qe.inProgress,qe.toPosition=qe.toHandle?qe.toHandle.position:null,X?.(oe,qe),T.setState({connectionClickStartHandle:null})};return g.jsx("div",{"data-handleid":C,"data-nodeid":k,"data-handlepos":i,"data-id":`${B}-${k}-${C}-${n}`,className:fn(["react-flow__handle",`react-flow__handle-${i}`,"nodrag",A,m,{source:!D,target:D,connectable:o,connectablestart:u,connectableend:f,clickconnecting:Y,connectingfrom:G,connectingto:V,valid:le,connectionindicator:o&&(!he||de)&&(he||Te?f:u)}]),onMouseDown:Ee,onTouchStart:Ee,onClick:z?K:void 0,ref:j,..._,children:b})}const bo=O.memo(Nb(UA));function qA({data:n,isConnectable:i,sourcePosition:l=at.Bottom}){return g.jsxs(g.Fragment,{children:[n?.label,g.jsx(bo,{type:"source",position:l,isConnectable:i})]})}function VA({data:n,isConnectable:i,targetPosition:l=at.Top,sourcePosition:o=at.Bottom}){return g.jsxs(g.Fragment,{children:[g.jsx(bo,{type:"target",position:l,isConnectable:i}),n?.label,g.jsx(bo,{type:"source",position:o,isConnectable:i})]})}function YA(){return null}function KA({data:n,isConnectable:i,targetPosition:l=at.Top}){return g.jsxs(g.Fragment,{children:[g.jsx(bo,{type:"target",position:l,isConnectable:i}),n?.label]})}const Uc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Mv={input:qA,default:VA,output:KA,group:YA};function $A(n){return n.internals.handleBounds===void 0?{width:n.width??n.initialWidth??n.style?.width,height:n.height??n.initialHeight??n.style?.height}:{width:n.width??n.style?.width,height:n.height??n.style?.height}}const XA=n=>{const{width:i,height:l,x:o,y:u}=Zs(n.nodeLookup,{filter:f=>!!f.selected});return{width:Oa(i)?i:null,height:Oa(l)?l:null,userSelectionActive:n.userSelectionActive,transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]}) translate(${o}px,${u}px)`}};function IA({onSelectionContextMenu:n,noPanClassName:i,disableKeyboardA11y:l}){const o=Gt(),{width:u,height:f,transformString:h,userSelectionActive:y}=St(XA,It),b=jb(),m=O.useRef(null);O.useEffect(()=>{l||m.current?.focus({preventScroll:!0})},[l]);const w=!y&&u!==null&&f!==null;if(Ab({nodeRef:m,disabled:!w}),!w)return null;const x=n?j=>{const C=o.getState().nodes.filter(D=>D.selected);n(j,C)}:void 0,_=j=>{Object.prototype.hasOwnProperty.call(Uc,j.key)&&(j.preventDefault(),b({direction:Uc[j.key],factor:j.shiftKey?4:1}))};return g.jsx("div",{className:fn(["react-flow__nodesselection","react-flow__container",i]),style:{transform:h},children:g.jsx("div",{ref:m,className:"react-flow__nodesselection-rect",onContextMenu:x,tabIndex:l?void 0:-1,onKeyDown:l?void 0:_,style:{width:u,height:f}})})}const Tv=typeof window<"u"?window:void 0,GA=n=>({nodesSelectionActive:n.nodesSelectionActive,userSelectionActive:n.userSelectionActive});function Tb({children:n,onPaneClick:i,onPaneMouseEnter:l,onPaneMouseMove:o,onPaneMouseLeave:u,onPaneContextMenu:f,onPaneScroll:h,paneClickDistance:y,deleteKeyCode:b,selectionKeyCode:m,selectionOnDrag:w,selectionMode:x,onSelectionStart:_,onSelectionEnd:j,multiSelectionKeyCode:C,panActivationKeyCode:D,zoomActivationKeyCode:T,elementsSelectable:k,zoomOnScroll:z,zoomOnPinch:A,panOnScroll:B,panOnScrollSpeed:G,panOnScrollMode:V,zoomOnDoubleClick:Y,panOnDrag:de,defaultViewport:he,translateExtent:Te,minZoom:le,maxZoom:ae,preventScrolling:Ee,onSelectionContextMenu:K,noWheelClassName:oe,noPanClassName:U,disableKeyboardA11y:X,onViewportChange:Z,isControlledViewport:se}){const{nodesSelectionActive:xe,userSelectionActive:L}=St(GA,It),I=qs(m,{target:Tv}),_e=qs(D,{target:Tv}),Se=_e||de,Be=_e||B,Le=w&&Se!==!0,He=I||L||Le;return AA({deleteKeyCode:b,multiSelectionKeyCode:C}),g.jsx(TA,{onPaneContextMenu:f,elementsSelectable:k,zoomOnScroll:z,zoomOnPinch:A,panOnScroll:Be,panOnScrollSpeed:G,panOnScrollMode:V,zoomOnDoubleClick:Y,panOnDrag:!I&&Se,defaultViewport:he,translateExtent:Te,minZoom:le,maxZoom:ae,zoomActivationKeyCode:T,preventScrolling:Ee,noWheelClassName:oe,noPanClassName:U,onViewportChange:Z,isControlledViewport:se,paneClickDistance:y,selectionOnDrag:Le,children:g.jsxs(kA,{onSelectionStart:_,onSelectionEnd:j,onPaneClick:i,onPaneMouseEnter:l,onPaneMouseMove:o,onPaneMouseLeave:u,onPaneContextMenu:f,onPaneScroll:h,panOnDrag:Se,isSelecting:!!He,selectionMode:x,selectionKeyPressed:I,paneClickDistance:y,selectionOnDrag:Le,children:[n,xe&&g.jsx(IA,{onSelectionContextMenu:K,noPanClassName:U,disableKeyboardA11y:X})]})})}Tb.displayName="FlowRenderer";const ZA=O.memo(Tb),QA=n=>i=>n?ap(i.nodeLookup,{x:0,y:0,width:i.width,height:i.height},i.transform,!0).map(l=>l.id):Array.from(i.nodeLookup.keys());function PA(n){return St(O.useCallback(QA(n),[n]),It)}const FA=n=>n.updateNodeInternals;function JA(){const n=St(FA),[i]=O.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(l=>{const o=new Map;l.forEach(u=>{const f=u.target.getAttribute("data-id");o.set(f,{id:f,nodeElement:u.target,force:!0})}),n(o)}));return O.useEffect(()=>()=>{i?.disconnect()},[i]),i}function WA({node:n,nodeType:i,hasDimensions:l,resizeObserver:o}){const u=Gt(),f=O.useRef(null),h=O.useRef(null),y=O.useRef(n.sourcePosition),b=O.useRef(n.targetPosition),m=O.useRef(i),w=l&&!!n.internals.handleBounds;return O.useEffect(()=>{f.current&&!n.hidden&&(!w||h.current!==f.current)&&(h.current&&o?.unobserve(h.current),o?.observe(f.current),h.current=f.current)},[w,n.hidden]),O.useEffect(()=>()=>{h.current&&(o?.unobserve(h.current),h.current=null)},[]),O.useEffect(()=>{if(f.current){const x=m.current!==i,_=y.current!==n.sourcePosition,j=b.current!==n.targetPosition;(x||_||j)&&(m.current=i,y.current=n.sourcePosition,b.current=n.targetPosition,u.getState().updateNodeInternals(new Map([[n.id,{id:n.id,nodeElement:f.current,force:!0}]])))}},[n.id,i,n.sourcePosition,n.targetPosition]),f}function ej({id:n,onClick:i,onMouseEnter:l,onMouseMove:o,onMouseLeave:u,onContextMenu:f,onDoubleClick:h,nodesDraggable:y,elementsSelectable:b,nodesConnectable:m,nodesFocusable:w,resizeObserver:x,noDragClassName:_,noPanClassName:j,disableKeyboardA11y:C,rfId:D,nodeTypes:T,nodeClickDistance:k,onError:z}){const{node:A,internals:B,isParent:G}=St(De=>{const qe=De.nodeLookup.get(n),ze=De.parentLookup.has(n);return{node:qe,internals:qe.internals,isParent:ze}},It);let V=A.type||"default",Y=T?.[V]||Mv[V];Y===void 0&&(z?.("003",Fa.error003(V)),V="default",Y=T?.default||Mv.default);const de=!!(A.draggable||y&&typeof A.draggable>"u"),he=!!(A.selectable||b&&typeof A.selectable>"u"),Te=!!(A.connectable||m&&typeof A.connectable>"u"),le=!!(A.focusable||w&&typeof A.focusable>"u"),ae=Gt(),Ee=F0(A),K=WA({node:A,nodeType:V,hasDimensions:Ee,resizeObserver:x}),oe=Ab({nodeRef:K,disabled:A.hidden||!de,noDragClassName:_,handleSelector:A.dragHandle,nodeId:n,isSelectable:he,nodeClickDistance:k}),U=jb();if(A.hidden)return null;const X=Xi(A),Z=$A(A),se=he||de||i||l||o||u,xe=l?De=>l(De,{...B.userNode}):void 0,L=o?De=>o(De,{...B.userNode}):void 0,I=u?De=>u(De,{...B.userNode}):void 0,_e=f?De=>f(De,{...B.userNode}):void 0,Se=h?De=>h(De,{...B.userNode}):void 0,Be=De=>{const{selectNodesOnDrag:qe,nodeDragThreshold:ze}=ae.getState();he&&(!qe||!de||ze>0)&&Uh({id:n,store:ae,nodeRef:K}),i&&i(De,{...B.userNode})},Le=De=>{if(!(eb(De.nativeEvent)||C)){if(Y0.includes(De.key)&&he){const qe=De.key==="Escape";Uh({id:n,store:ae,unselect:qe,nodeRef:K})}else if(de&&A.selected&&Object.prototype.hasOwnProperty.call(Uc,De.key)){De.preventDefault();const{ariaLabelConfig:qe}=ae.getState();ae.setState({ariaLiveMessage:qe["node.a11yDescription.ariaLiveMessage"]({direction:De.key.replace("Arrow","").toLowerCase(),x:~~B.positionAbsolute.x,y:~~B.positionAbsolute.y})}),U({direction:Uc[De.key],factor:De.shiftKey?4:1})}}},He=()=>{if(C||!K.current?.matches(":focus-visible"))return;const{transform:De,width:qe,height:ze,autoPanOnNodeFocus:lt,setCenter:Ue}=ae.getState();if(!lt)return;ap(new Map([[n,A]]),{x:0,y:0,width:qe,height:ze},De,!0).length>0||Ue(A.position.x+X.width/2,A.position.y+X.height/2,{zoom:De[2]})};return g.jsx("div",{className:fn(["react-flow__node",`react-flow__node-${V}`,{[j]:de},A.className,{selected:A.selected,selectable:he,parent:G,draggable:de,dragging:oe}]),ref:K,style:{zIndex:B.z,transform:`translate(${B.positionAbsolute.x}px,${B.positionAbsolute.y}px)`,pointerEvents:se?"all":"none",visibility:Ee?"visible":"hidden",...A.style,...Z},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:xe,onMouseMove:L,onMouseLeave:I,onContextMenu:_e,onClick:Be,onDoubleClick:Se,onKeyDown:le?Le:void 0,tabIndex:le?0:void 0,onFocus:le?He:void 0,role:A.ariaRole??(le?"group":void 0),"aria-roledescription":"node","aria-describedby":C?void 0:`${bb}-${D}`,"aria-label":A.ariaLabel,...A.domAttributes,children:g.jsx(BA,{value:n,children:g.jsx(Y,{id:n,data:A.data,type:V,positionAbsoluteX:B.positionAbsolute.x,positionAbsoluteY:B.positionAbsolute.y,selected:A.selected??!1,selectable:he,draggable:de,deletable:A.deletable??!0,isConnectable:Te,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:oe,dragHandle:A.dragHandle,zIndex:B.z,parentId:A.parentId,...X})})})}var tj=O.memo(ej);const nj=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,onError:n.onError});function Db(n){const{nodesDraggable:i,nodesConnectable:l,nodesFocusable:o,elementsSelectable:u,onError:f}=St(nj,It),h=PA(n.onlyRenderVisibleElements),y=JA();return g.jsx("div",{className:"react-flow__nodes",style:ef,children:h.map(b=>g.jsx(tj,{id:b,nodeTypes:n.nodeTypes,nodeExtent:n.nodeExtent,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,resizeObserver:y,nodesDraggable:i,nodesConnectable:l,nodesFocusable:o,elementsSelectable:u,nodeClickDistance:n.nodeClickDistance,onError:f},b))})}Db.displayName="NodeRenderer";const aj=O.memo(Db);function ij(n){return St(O.useCallback(l=>{if(!n)return l.edges.map(u=>u.id);const o=[];if(l.width&&l.height)for(const u of l.edges){const f=l.nodeLookup.get(u.source),h=l.nodeLookup.get(u.target);f&&h&&nC({sourceNode:f,targetNode:h,width:l.width,height:l.height,transform:l.transform})&&o.push(u.id)}return o},[n]),It)}const rj=({color:n="none",strokeWidth:i=1})=>{const l={strokeWidth:i,...n&&{stroke:n}};return g.jsx("polyline",{className:"arrow",style:l,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},lj=({color:n="none",strokeWidth:i=1})=>{const l={strokeWidth:i,...n&&{stroke:n,fill:n}};return g.jsx("polyline",{className:"arrowclosed",style:l,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Dv={[po.Arrow]:rj,[po.ArrowClosed]:lj};function oj(n){const i=Gt();return O.useMemo(()=>Object.prototype.hasOwnProperty.call(Dv,n)?Dv[n]:(i.getState().onError?.("009",Fa.error009(n)),null),[n])}const sj=({id:n,type:i,color:l,width:o=12.5,height:u=12.5,markerUnits:f="strokeWidth",strokeWidth:h,orient:y="auto-start-reverse"})=>{const b=oj(i);return b?g.jsx("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${o}`,markerHeight:`${u}`,viewBox:"-10 -10 20 20",markerUnits:f,orient:y,refX:"0",refY:"0",children:g.jsx(b,{color:l,strokeWidth:h})}):null},zb=({defaultColor:n,rfId:i})=>{const l=St(f=>f.edges),o=St(f=>f.defaultEdgeOptions),u=O.useMemo(()=>cC(l,{id:i,defaultColor:n,defaultMarkerStart:o?.markerStart,defaultMarkerEnd:o?.markerEnd}),[l,o,i,n]);return u.length?g.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:g.jsx("defs",{children:u.map(f=>g.jsx(sj,{id:f.id,type:f.type,color:f.color,width:f.width,height:f.height,markerUnits:f.markerUnits,strokeWidth:f.strokeWidth,orient:f.orient},f.id))})}):null};zb.displayName="MarkerDefinitions";var uj=O.memo(zb);function Ob({x:n,y:i,label:l,labelStyle:o,labelShowBg:u=!0,labelBgStyle:f,labelBgPadding:h=[2,4],labelBgBorderRadius:y=2,children:b,className:m,...w}){const[x,_]=O.useState({x:1,y:0,width:0,height:0}),j=fn(["react-flow__edge-textwrapper",m]),C=O.useRef(null);return O.useEffect(()=>{if(C.current){const D=C.current.getBBox();_({x:D.x,y:D.y,width:D.width,height:D.height})}},[l]),l?g.jsxs("g",{transform:`translate(${n-x.width/2} ${i-x.height/2})`,className:j,visibility:x.width?"visible":"hidden",...w,children:[u&&g.jsx("rect",{width:x.width+2*h[0],x:-h[0],y:-h[1],height:x.height+2*h[1],className:"react-flow__edge-textbg",style:f,rx:y,ry:y}),g.jsx("text",{className:"react-flow__edge-text",y:x.height/2,dy:"0.3em",ref:C,style:o,children:l}),b]}):null}Ob.displayName="EdgeText";const cj=O.memo(Ob);function tf({path:n,labelX:i,labelY:l,label:o,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:y,labelBgBorderRadius:b,interactionWidth:m=20,...w}){return g.jsxs(g.Fragment,{children:[g.jsx("path",{...w,d:n,fill:"none",className:fn(["react-flow__edge-path",w.className])}),m?g.jsx("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}):null,o&&Oa(i)&&Oa(l)?g.jsx(cj,{x:i,y:l,label:o,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:y,labelBgBorderRadius:b}):null]})}function zv({pos:n,x1:i,y1:l,x2:o,y2:u}){return n===at.Left||n===at.Right?[.5*(i+o),l]:[i,.5*(l+u)]}function kb({sourceX:n,sourceY:i,sourcePosition:l=at.Bottom,targetX:o,targetY:u,targetPosition:f=at.Top}){const[h,y]=zv({pos:l,x1:n,y1:i,x2:o,y2:u}),[b,m]=zv({pos:f,x1:o,y1:u,x2:n,y2:i}),[w,x,_,j]=nb({sourceX:n,sourceY:i,targetX:o,targetY:u,sourceControlX:h,sourceControlY:y,targetControlX:b,targetControlY:m});return[`M${n},${i} C${h},${y} ${b},${m} ${o},${u}`,w,x,_,j]}function Rb(n){return O.memo(({id:i,sourceX:l,sourceY:o,targetX:u,targetY:f,sourcePosition:h,targetPosition:y,label:b,labelStyle:m,labelShowBg:w,labelBgStyle:x,labelBgPadding:_,labelBgBorderRadius:j,style:C,markerEnd:D,markerStart:T,interactionWidth:k})=>{const[z,A,B]=kb({sourceX:l,sourceY:o,sourcePosition:h,targetX:u,targetY:f,targetPosition:y}),G=n.isInternal?void 0:i;return g.jsx(tf,{id:G,path:z,labelX:A,labelY:B,label:b,labelStyle:m,labelShowBg:w,labelBgStyle:x,labelBgPadding:_,labelBgBorderRadius:j,style:C,markerEnd:D,markerStart:T,interactionWidth:k})})}const fj=Rb({isInternal:!1}),Bb=Rb({isInternal:!0});fj.displayName="SimpleBezierEdge";Bb.displayName="SimpleBezierEdgeInternal";function Hb(n){return O.memo(({id:i,sourceX:l,sourceY:o,targetX:u,targetY:f,label:h,labelStyle:y,labelShowBg:b,labelBgStyle:m,labelBgPadding:w,labelBgBorderRadius:x,style:_,sourcePosition:j=at.Bottom,targetPosition:C=at.Top,markerEnd:D,markerStart:T,pathOptions:k,interactionWidth:z})=>{const[A,B,G]=Rh({sourceX:l,sourceY:o,sourcePosition:j,targetX:u,targetY:f,targetPosition:C,borderRadius:k?.borderRadius,offset:k?.offset,stepPosition:k?.stepPosition}),V=n.isInternal?void 0:i;return g.jsx(tf,{id:V,path:A,labelX:B,labelY:G,label:h,labelStyle:y,labelShowBg:b,labelBgStyle:m,labelBgPadding:w,labelBgBorderRadius:x,style:_,markerEnd:D,markerStart:T,interactionWidth:z})})}const Lb=Hb({isInternal:!1}),Ub=Hb({isInternal:!0});Lb.displayName="SmoothStepEdge";Ub.displayName="SmoothStepEdgeInternal";function qb(n){return O.memo(({id:i,...l})=>{const o=n.isInternal?void 0:i;return g.jsx(Lb,{...l,id:o,pathOptions:O.useMemo(()=>({borderRadius:0,offset:l.pathOptions?.offset}),[l.pathOptions?.offset])})})}const dj=qb({isInternal:!1}),Vb=qb({isInternal:!0});dj.displayName="StepEdge";Vb.displayName="StepEdgeInternal";function Yb(n){return O.memo(({id:i,sourceX:l,sourceY:o,targetX:u,targetY:f,label:h,labelStyle:y,labelShowBg:b,labelBgStyle:m,labelBgPadding:w,labelBgBorderRadius:x,style:_,markerEnd:j,markerStart:C,interactionWidth:D})=>{const[T,k,z]=rb({sourceX:l,sourceY:o,targetX:u,targetY:f}),A=n.isInternal?void 0:i;return g.jsx(tf,{id:A,path:T,labelX:k,labelY:z,label:h,labelStyle:y,labelShowBg:b,labelBgStyle:m,labelBgPadding:w,labelBgBorderRadius:x,style:_,markerEnd:j,markerStart:C,interactionWidth:D})})}const hj=Yb({isInternal:!1}),Kb=Yb({isInternal:!0});hj.displayName="StraightEdge";Kb.displayName="StraightEdgeInternal";function $b(n){return O.memo(({id:i,sourceX:l,sourceY:o,targetX:u,targetY:f,sourcePosition:h=at.Bottom,targetPosition:y=at.Top,label:b,labelStyle:m,labelShowBg:w,labelBgStyle:x,labelBgPadding:_,labelBgBorderRadius:j,style:C,markerEnd:D,markerStart:T,pathOptions:k,interactionWidth:z})=>{const[A,B,G]=ab({sourceX:l,sourceY:o,sourcePosition:h,targetX:u,targetY:f,targetPosition:y,curvature:k?.curvature}),V=n.isInternal?void 0:i;return g.jsx(tf,{id:V,path:A,labelX:B,labelY:G,label:b,labelStyle:m,labelShowBg:w,labelBgStyle:x,labelBgPadding:_,labelBgBorderRadius:j,style:C,markerEnd:D,markerStart:T,interactionWidth:z})})}const pj=$b({isInternal:!1}),Xb=$b({isInternal:!0});pj.displayName="BezierEdge";Xb.displayName="BezierEdgeInternal";const Ov={default:Xb,straight:Kb,step:Vb,smoothstep:Ub,simplebezier:Bb},kv={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},mj=(n,i,l)=>l===at.Left?n-i:l===at.Right?n+i:n,yj=(n,i,l)=>l===at.Top?n-i:l===at.Bottom?n+i:n,Rv="react-flow__edgeupdater";function Bv({position:n,centerX:i,centerY:l,radius:o=10,onMouseDown:u,onMouseEnter:f,onMouseOut:h,type:y}){return g.jsx("circle",{onMouseDown:u,onMouseEnter:f,onMouseOut:h,className:fn([Rv,`${Rv}-${y}`]),cx:mj(i,o,n),cy:yj(l,o,n),r:o,stroke:"transparent",fill:"transparent"})}function gj({isReconnectable:n,reconnectRadius:i,edge:l,sourceX:o,sourceY:u,targetX:f,targetY:h,sourcePosition:y,targetPosition:b,onReconnect:m,onReconnectStart:w,onReconnectEnd:x,setReconnecting:_,setUpdateHover:j}){const C=Gt(),D=(B,G)=>{if(B.button!==0)return;const{autoPanOnConnect:V,domNode:Y,connectionMode:de,connectionRadius:he,lib:Te,onConnectStart:le,cancelConnection:ae,nodeLookup:Ee,rfId:K,panBy:oe,updateConnection:U}=C.getState(),X=G.type==="target",Z=(L,I)=>{_(!1),x?.(L,l,G.type,I)},se=L=>m?.(l,L),xe=(L,I)=>{_(!0),w?.(B,l,G.type),le?.(L,I)};Lh.onPointerDown(B.nativeEvent,{autoPanOnConnect:V,connectionMode:de,connectionRadius:he,domNode:Y,handleId:G.id,nodeId:G.nodeId,nodeLookup:Ee,isTarget:X,edgeUpdaterType:G.type,lib:Te,flowId:K,cancelConnection:ae,panBy:oe,isValidConnection:(...L)=>C.getState().isValidConnection?.(...L)??!0,onConnect:se,onConnectStart:xe,onConnectEnd:(...L)=>C.getState().onConnectEnd?.(...L),onReconnectEnd:Z,updateConnection:U,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,dragThreshold:C.getState().connectionDragThreshold,handleDomNode:B.currentTarget})},T=B=>D(B,{nodeId:l.target,id:l.targetHandle??null,type:"target"}),k=B=>D(B,{nodeId:l.source,id:l.sourceHandle??null,type:"source"}),z=()=>j(!0),A=()=>j(!1);return g.jsxs(g.Fragment,{children:[(n===!0||n==="source")&&g.jsx(Bv,{position:y,centerX:o,centerY:u,radius:i,onMouseDown:T,onMouseEnter:z,onMouseOut:A,type:"source"}),(n===!0||n==="target")&&g.jsx(Bv,{position:b,centerX:f,centerY:h,radius:i,onMouseDown:k,onMouseEnter:z,onMouseOut:A,type:"target"})]})}function vj({id:n,edgesFocusable:i,edgesReconnectable:l,elementsSelectable:o,onClick:u,onDoubleClick:f,onContextMenu:h,onMouseEnter:y,onMouseMove:b,onMouseLeave:m,reconnectRadius:w,onReconnect:x,onReconnectStart:_,onReconnectEnd:j,rfId:C,edgeTypes:D,noPanClassName:T,onError:k,disableKeyboardA11y:z}){let A=St(Ue=>Ue.edgeLookup.get(n));const B=St(Ue=>Ue.defaultEdgeOptions);A=B?{...B,...A}:A;let G=A.type||"default",V=D?.[G]||Ov[G];V===void 0&&(k?.("011",Fa.error011(G)),G="default",V=D?.default||Ov.default);const Y=!!(A.focusable||i&&typeof A.focusable>"u"),de=typeof x<"u"&&(A.reconnectable||l&&typeof A.reconnectable>"u"),he=!!(A.selectable||o&&typeof A.selectable>"u"),Te=O.useRef(null),[le,ae]=O.useState(!1),[Ee,K]=O.useState(!1),oe=Gt(),{zIndex:U,sourceX:X,sourceY:Z,targetX:se,targetY:xe,sourcePosition:L,targetPosition:I}=St(O.useCallback(Ue=>{const Ae=Ue.nodeLookup.get(A.source),Ke=Ue.nodeLookup.get(A.target);if(!Ae||!Ke)return{zIndex:A.zIndex,...kv};const Ge=uC({id:n,sourceNode:Ae,targetNode:Ke,sourceHandle:A.sourceHandle||null,targetHandle:A.targetHandle||null,connectionMode:Ue.connectionMode,onError:k});return{zIndex:tC({selected:A.selected,zIndex:A.zIndex,sourceNode:Ae,targetNode:Ke,elevateOnSelect:Ue.elevateEdgesOnSelect,zIndexMode:Ue.zIndexMode}),...Ge||kv}},[A.source,A.target,A.sourceHandle,A.targetHandle,A.selected,A.zIndex]),It),_e=O.useMemo(()=>A.markerStart?`url('#${Bh(A.markerStart,C)}')`:void 0,[A.markerStart,C]),Se=O.useMemo(()=>A.markerEnd?`url('#${Bh(A.markerEnd,C)}')`:void 0,[A.markerEnd,C]);if(A.hidden||X===null||Z===null||se===null||xe===null)return null;const Be=Ue=>{const{addSelectedEdges:Ae,unselectNodesAndEdges:Ke,multiSelectionActive:Ge}=oe.getState();he&&(oe.setState({nodesSelectionActive:!1}),A.selected&&Ge?(Ke({nodes:[],edges:[A]}),Te.current?.blur()):Ae([n])),u&&u(Ue,A)},Le=f?Ue=>{f(Ue,{...A})}:void 0,He=h?Ue=>{h(Ue,{...A})}:void 0,De=y?Ue=>{y(Ue,{...A})}:void 0,qe=b?Ue=>{b(Ue,{...A})}:void 0,ze=m?Ue=>{m(Ue,{...A})}:void 0,lt=Ue=>{if(!z&&Y0.includes(Ue.key)&&he){const{unselectNodesAndEdges:Ae,addSelectedEdges:Ke}=oe.getState();Ue.key==="Escape"?(Te.current?.blur(),Ae({edges:[A]})):Ke([n])}};return g.jsx("svg",{style:{zIndex:U},children:g.jsxs("g",{className:fn(["react-flow__edge",`react-flow__edge-${G}`,A.className,T,{selected:A.selected,animated:A.animated,inactive:!he&&!u,updating:le,selectable:he}]),onClick:Be,onDoubleClick:Le,onContextMenu:He,onMouseEnter:De,onMouseMove:qe,onMouseLeave:ze,onKeyDown:Y?lt:void 0,tabIndex:Y?0:void 0,role:A.ariaRole??(Y?"group":"img"),"aria-roledescription":"edge","data-id":n,"data-testid":`rf__edge-${n}`,"aria-label":A.ariaLabel===null?void 0:A.ariaLabel||`Edge from ${A.source} to ${A.target}`,"aria-describedby":Y?`${xb}-${C}`:void 0,ref:Te,...A.domAttributes,children:[!Ee&&g.jsx(V,{id:n,source:A.source,target:A.target,type:A.type,selected:A.selected,animated:A.animated,selectable:he,deletable:A.deletable??!0,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,sourceX:X,sourceY:Z,targetX:se,targetY:xe,sourcePosition:L,targetPosition:I,data:A.data,style:A.style,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerStart:_e,markerEnd:Se,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth}),de&&g.jsx(gj,{edge:A,isReconnectable:de,reconnectRadius:w,onReconnect:x,onReconnectStart:_,onReconnectEnd:j,sourceX:X,sourceY:Z,targetX:se,targetY:xe,sourcePosition:L,targetPosition:I,setUpdateHover:ae,setReconnecting:K})]})})}var bj=O.memo(vj);const xj=n=>({edgesFocusable:n.edgesFocusable,edgesReconnectable:n.edgesReconnectable,elementsSelectable:n.elementsSelectable,connectionMode:n.connectionMode,onError:n.onError});function Ib({defaultMarkerColor:n,onlyRenderVisibleElements:i,rfId:l,edgeTypes:o,noPanClassName:u,onReconnect:f,onEdgeContextMenu:h,onEdgeMouseEnter:y,onEdgeMouseMove:b,onEdgeMouseLeave:m,onEdgeClick:w,reconnectRadius:x,onEdgeDoubleClick:_,onReconnectStart:j,onReconnectEnd:C,disableKeyboardA11y:D}){const{edgesFocusable:T,edgesReconnectable:k,elementsSelectable:z,onError:A}=St(xj,It),B=ij(i);return g.jsxs("div",{className:"react-flow__edges",children:[g.jsx(uj,{defaultColor:n,rfId:l}),B.map(G=>g.jsx(bj,{id:G,edgesFocusable:T,edgesReconnectable:k,elementsSelectable:z,noPanClassName:u,onReconnect:f,onContextMenu:h,onMouseEnter:y,onMouseMove:b,onMouseLeave:m,onClick:w,reconnectRadius:x,onDoubleClick:_,onReconnectStart:j,onReconnectEnd:C,rfId:l,onError:A,edgeTypes:o,disableKeyboardA11y:D},G))]})}Ib.displayName="EdgeRenderer";const wj=O.memo(Ib),Sj=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function _j({children:n}){const i=St(Sj);return g.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:i},children:n})}function Ej(n){const i=Wc(),l=O.useRef(!1);O.useEffect(()=>{!l.current&&i.viewportInitialized&&n&&(setTimeout(()=>n(i),1),l.current=!0)},[n,i.viewportInitialized])}const Nj=n=>n.panZoom?.syncViewport;function Cj(n){const i=St(Nj),l=Gt();return O.useEffect(()=>{n&&(i?.(n),l.setState({transform:[n.x,n.y,n.zoom]}))},[n,i]),null}function Aj(n){return n.connection.inProgress?{...n.connection,to:Ps(n.connection.to,n.transform)}:{...n.connection}}function jj(n){return Aj}function Mj(n){const i=jj();return St(i,It)}const Tj=n=>({nodesConnectable:n.nodesConnectable,isValid:n.connection.isValid,inProgress:n.connection.inProgress,width:n.width,height:n.height});function Dj({containerStyle:n,style:i,type:l,component:o}){const{nodesConnectable:u,width:f,height:h,isValid:y,inProgress:b}=St(Tj,It);return!(f&&u&&b)?null:g.jsx("svg",{style:n,width:f,height:h,className:"react-flow__connectionline react-flow__container",children:g.jsx("g",{className:fn(["react-flow__connection",X0(y)]),children:g.jsx(Gb,{style:i,type:l,CustomComponent:o,isValid:y})})})}const Gb=({style:n,type:i=Dr.Bezier,CustomComponent:l,isValid:o})=>{const{inProgress:u,from:f,fromNode:h,fromHandle:y,fromPosition:b,to:m,toNode:w,toHandle:x,toPosition:_,pointer:j}=Mj();if(!u)return;if(l)return g.jsx(l,{connectionLineType:i,connectionLineStyle:n,fromNode:h,fromHandle:y,fromX:f.x,fromY:f.y,toX:m.x,toY:m.y,fromPosition:b,toPosition:_,connectionStatus:X0(o),toNode:w,toHandle:x,pointer:j});let C="";const D={sourceX:f.x,sourceY:f.y,sourcePosition:b,targetX:m.x,targetY:m.y,targetPosition:_};switch(i){case Dr.Bezier:[C]=ab(D);break;case Dr.SimpleBezier:[C]=kb(D);break;case Dr.Step:[C]=Rh({...D,borderRadius:0});break;case Dr.SmoothStep:[C]=Rh(D);break;default:[C]=rb(D)}return g.jsx("path",{d:C,fill:"none",className:"react-flow__connection-path",style:n})};Gb.displayName="ConnectionLine";const zj={};function Hv(n=zj){O.useRef(n),Gt(),O.useEffect(()=>{},[n])}function Oj(){Gt(),O.useRef(!1),O.useEffect(()=>{},[])}function Zb({nodeTypes:n,edgeTypes:i,onInit:l,onNodeClick:o,onEdgeClick:u,onNodeDoubleClick:f,onEdgeDoubleClick:h,onNodeMouseEnter:y,onNodeMouseMove:b,onNodeMouseLeave:m,onNodeContextMenu:w,onSelectionContextMenu:x,onSelectionStart:_,onSelectionEnd:j,connectionLineType:C,connectionLineStyle:D,connectionLineComponent:T,connectionLineContainerStyle:k,selectionKeyCode:z,selectionOnDrag:A,selectionMode:B,multiSelectionKeyCode:G,panActivationKeyCode:V,zoomActivationKeyCode:Y,deleteKeyCode:de,onlyRenderVisibleElements:he,elementsSelectable:Te,defaultViewport:le,translateExtent:ae,minZoom:Ee,maxZoom:K,preventScrolling:oe,defaultMarkerColor:U,zoomOnScroll:X,zoomOnPinch:Z,panOnScroll:se,panOnScrollSpeed:xe,panOnScrollMode:L,zoomOnDoubleClick:I,panOnDrag:_e,onPaneClick:Se,onPaneMouseEnter:Be,onPaneMouseMove:Le,onPaneMouseLeave:He,onPaneScroll:De,onPaneContextMenu:qe,paneClickDistance:ze,nodeClickDistance:lt,onEdgeContextMenu:Ue,onEdgeMouseEnter:Ae,onEdgeMouseMove:Ke,onEdgeMouseLeave:Ge,reconnectRadius:ie,onReconnect:ye,onReconnectStart:Xe,onReconnectEnd:et,noDragClassName:Fe,noWheelClassName:Je,noPanClassName:ct,disableKeyboardA11y:Ut,nodeExtent:Wt,rfId:kn,viewport:qt,onViewportChange:zt}){return Hv(n),Hv(i),Oj(),Ej(l),Cj(qt),g.jsx(ZA,{onPaneClick:Se,onPaneMouseEnter:Be,onPaneMouseMove:Le,onPaneMouseLeave:He,onPaneContextMenu:qe,onPaneScroll:De,paneClickDistance:ze,deleteKeyCode:de,selectionKeyCode:z,selectionOnDrag:A,selectionMode:B,onSelectionStart:_,onSelectionEnd:j,multiSelectionKeyCode:G,panActivationKeyCode:V,zoomActivationKeyCode:Y,elementsSelectable:Te,zoomOnScroll:X,zoomOnPinch:Z,zoomOnDoubleClick:I,panOnScroll:se,panOnScrollSpeed:xe,panOnScrollMode:L,panOnDrag:_e,defaultViewport:le,translateExtent:ae,minZoom:Ee,maxZoom:K,onSelectionContextMenu:x,preventScrolling:oe,noDragClassName:Fe,noWheelClassName:Je,noPanClassName:ct,disableKeyboardA11y:Ut,onViewportChange:zt,isControlledViewport:!!qt,children:g.jsxs(_j,{children:[g.jsx(wj,{edgeTypes:i,onEdgeClick:u,onEdgeDoubleClick:h,onReconnect:ye,onReconnectStart:Xe,onReconnectEnd:et,onlyRenderVisibleElements:he,onEdgeContextMenu:Ue,onEdgeMouseEnter:Ae,onEdgeMouseMove:Ke,onEdgeMouseLeave:Ge,reconnectRadius:ie,defaultMarkerColor:U,noPanClassName:ct,disableKeyboardA11y:Ut,rfId:kn}),g.jsx(Dj,{style:D,type:C,component:T,containerStyle:k}),g.jsx("div",{className:"react-flow__edgelabel-renderer"}),g.jsx(aj,{nodeTypes:n,onNodeClick:o,onNodeDoubleClick:f,onNodeMouseEnter:y,onNodeMouseMove:b,onNodeMouseLeave:m,onNodeContextMenu:w,nodeClickDistance:lt,onlyRenderVisibleElements:he,noPanClassName:ct,noDragClassName:Fe,disableKeyboardA11y:Ut,nodeExtent:Wt,rfId:kn}),g.jsx("div",{className:"react-flow__viewport-portal"})]})})}Zb.displayName="GraphView";const kj=O.memo(Zb),Lv=({nodes:n,edges:i,defaultNodes:l,defaultEdges:o,width:u,height:f,fitView:h,fitViewOptions:y,minZoom:b=.5,maxZoom:m=2,nodeOrigin:w,nodeExtent:x,zIndexMode:_="basic"}={})=>{const j=new Map,C=new Map,D=new Map,T=new Map,k=o??i??[],z=l??n??[],A=w??[0,0],B=x??Bs;sb(D,T,k);const G=Hh(z,j,C,{nodeOrigin:A,nodeExtent:B,zIndexMode:_});let V=[0,0,1];if(h&&u&&f){const Y=Zs(j,{filter:le=>!!((le.width||le.initialWidth)&&(le.height||le.initialHeight))}),{x:de,y:he,zoom:Te}=ip(Y,u,f,b,m,y?.padding??.1);V=[de,he,Te]}return{rfId:"1",width:u??0,height:f??0,transform:V,nodes:z,nodesInitialized:G,nodeLookup:j,parentLookup:C,edges:k,edgeLookup:T,connectionLookup:D,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:l!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:b,maxZoom:m,translateExtent:Bs,nodeExtent:B,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ho.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:A,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:h??!1,fitViewOptions:y,fitViewResolver:null,connection:{...$0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:QN,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:K0,zIndexMode:_,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},Rj=({nodes:n,edges:i,defaultNodes:l,defaultEdges:o,width:u,height:f,fitView:h,fitViewOptions:y,minZoom:b,maxZoom:m,nodeOrigin:w,nodeExtent:x,zIndexMode:_})=>WC((j,C)=>{async function D(){const{nodeLookup:T,panZoom:k,fitViewOptions:z,fitViewResolver:A,width:B,height:G,minZoom:V,maxZoom:Y}=C();k&&(await GN({nodes:T,width:B,height:G,panZoom:k,minZoom:V,maxZoom:Y},z),A?.resolve(!0),j({fitViewResolver:null}))}return{...Lv({nodes:n,edges:i,width:u,height:f,fitView:h,fitViewOptions:y,minZoom:b,maxZoom:m,nodeOrigin:w,nodeExtent:x,defaultNodes:l,defaultEdges:o,zIndexMode:_}),setNodes:T=>{const{nodeLookup:k,parentLookup:z,nodeOrigin:A,elevateNodesOnSelect:B,fitViewQueued:G,zIndexMode:V}=C(),Y=Hh(T,k,z,{nodeOrigin:A,nodeExtent:x,elevateNodesOnSelect:B,checkEquality:!0,zIndexMode:V});G&&Y?(D(),j({nodes:T,nodesInitialized:Y,fitViewQueued:!1,fitViewOptions:void 0})):j({nodes:T,nodesInitialized:Y})},setEdges:T=>{const{connectionLookup:k,edgeLookup:z}=C();sb(k,z,T),j({edges:T})},setDefaultNodesAndEdges:(T,k)=>{if(T){const{setNodes:z}=C();z(T),j({hasDefaultNodes:!0})}if(k){const{setEdges:z}=C();z(k),j({hasDefaultEdges:!0})}},updateNodeInternals:T=>{const{triggerNodeChanges:k,nodeLookup:z,parentLookup:A,domNode:B,nodeOrigin:G,nodeExtent:V,debug:Y,fitViewQueued:de,zIndexMode:he}=C(),{changes:Te,updatedInternals:le}=gC(T,z,A,B,G,V,he);le&&(hC(z,A,{nodeOrigin:G,nodeExtent:V,zIndexMode:he}),de?(D(),j({fitViewQueued:!1,fitViewOptions:void 0})):j({}),Te?.length>0&&(Y&&console.log("React Flow: trigger node changes",Te),k?.(Te)))},updateNodePositions:(T,k=!1)=>{const z=[];let A=[];const{nodeLookup:B,triggerNodeChanges:G,connection:V,updateConnection:Y,onNodesChangeMiddlewareMap:de}=C();for(const[he,Te]of T){const le=B.get(he),ae=!!(le?.expandParent&&le?.parentId&&Te?.position),Ee={id:he,type:"position",position:ae?{x:Math.max(0,Te.position.x),y:Math.max(0,Te.position.y)}:Te.position,dragging:k};if(le&&V.inProgress&&V.fromNode.id===le.id){const K=fl(le,V.fromHandle,at.Left,!0);Y({...V,from:K})}ae&&le.parentId&&z.push({id:he,parentId:le.parentId,rect:{...Te.internals.positionAbsolute,width:Te.measured.width??0,height:Te.measured.height??0}}),A.push(Ee)}if(z.length>0){const{parentLookup:he,nodeOrigin:Te}=C(),le=cp(z,B,he,Te);A.push(...le)}for(const he of de.values())A=he(A);G(A)},triggerNodeChanges:T=>{const{onNodesChange:k,setNodes:z,nodes:A,hasDefaultNodes:B,debug:G}=C();if(T?.length){if(B){const V=_b(T,A);z(V)}G&&console.log("React Flow: trigger node changes",T),k?.(T)}},triggerEdgeChanges:T=>{const{onEdgesChange:k,setEdges:z,edges:A,hasDefaultEdges:B,debug:G}=C();if(T?.length){if(B){const V=Eb(T,A);z(V)}G&&console.log("React Flow: trigger edge changes",T),k?.(T)}},addSelectedNodes:T=>{const{multiSelectionActive:k,edgeLookup:z,nodeLookup:A,triggerNodeChanges:B,triggerEdgeChanges:G}=C();if(k){const V=T.map(Y=>al(Y,!0));B(V);return}B(lo(A,new Set([...T]),!0)),G(lo(z))},addSelectedEdges:T=>{const{multiSelectionActive:k,edgeLookup:z,nodeLookup:A,triggerNodeChanges:B,triggerEdgeChanges:G}=C();if(k){const V=T.map(Y=>al(Y,!0));G(V);return}G(lo(z,new Set([...T]))),B(lo(A,new Set,!0))},unselectNodesAndEdges:({nodes:T,edges:k}={})=>{const{edges:z,nodes:A,nodeLookup:B,triggerNodeChanges:G,triggerEdgeChanges:V}=C(),Y=T||A,de=k||z,he=[];for(const le of Y){if(!le.selected)continue;const ae=B.get(le.id);ae&&(ae.selected=!1),he.push(al(le.id,!1))}const Te=[];for(const le of de)le.selected&&Te.push(al(le.id,!1));G(he),V(Te)},setMinZoom:T=>{const{panZoom:k,maxZoom:z}=C();k?.setScaleExtent([T,z]),j({minZoom:T})},setMaxZoom:T=>{const{panZoom:k,minZoom:z}=C();k?.setScaleExtent([z,T]),j({maxZoom:T})},setTranslateExtent:T=>{C().panZoom?.setTranslateExtent(T),j({translateExtent:T})},resetSelectedElements:()=>{const{edges:T,nodes:k,triggerNodeChanges:z,triggerEdgeChanges:A,elementsSelectable:B}=C();if(!B)return;const G=k.reduce((Y,de)=>de.selected?[...Y,al(de.id,!1)]:Y,[]),V=T.reduce((Y,de)=>de.selected?[...Y,al(de.id,!1)]:Y,[]);z(G),A(V)},setNodeExtent:T=>{const{nodes:k,nodeLookup:z,parentLookup:A,nodeOrigin:B,elevateNodesOnSelect:G,nodeExtent:V,zIndexMode:Y}=C();T[0][0]===V[0][0]&&T[0][1]===V[0][1]&&T[1][0]===V[1][0]&&T[1][1]===V[1][1]||(Hh(k,z,A,{nodeOrigin:B,nodeExtent:T,elevateNodesOnSelect:G,checkEquality:!1,zIndexMode:Y}),j({nodeExtent:T}))},panBy:T=>{const{transform:k,width:z,height:A,panZoom:B,translateExtent:G}=C();return vC({delta:T,panZoom:B,transform:k,translateExtent:G,width:z,height:A})},setCenter:async(T,k,z)=>{const{width:A,height:B,maxZoom:G,panZoom:V}=C();if(!V)return Promise.resolve(!1);const Y=typeof z?.zoom<"u"?z.zoom:G;return await V.setViewport({x:A/2-T*Y,y:B/2-k*Y,zoom:Y},{duration:z?.duration,ease:z?.ease,interpolate:z?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{j({connection:{...$0}})},updateConnection:T=>{j({connection:T})},reset:()=>j({...Lv()})}},Object.is);function Qb({initialNodes:n,initialEdges:i,defaultNodes:l,defaultEdges:o,initialWidth:u,initialHeight:f,initialMinZoom:h,initialMaxZoom:y,initialFitViewOptions:b,fitView:m,nodeOrigin:w,nodeExtent:x,zIndexMode:_,children:j}){const[C]=O.useState(()=>Rj({nodes:n,edges:i,defaultNodes:l,defaultEdges:o,width:u,height:f,fitView:m,minZoom:h,maxZoom:y,fitViewOptions:b,nodeOrigin:w,nodeExtent:x,zIndexMode:_}));return g.jsx(eA,{value:C,children:g.jsx(_A,{children:j})})}function Bj({children:n,nodes:i,edges:l,defaultNodes:o,defaultEdges:u,width:f,height:h,fitView:y,fitViewOptions:b,minZoom:m,maxZoom:w,nodeOrigin:x,nodeExtent:_,zIndexMode:j}){return O.useContext(Jc)?g.jsx(g.Fragment,{children:n}):g.jsx(Qb,{initialNodes:i,initialEdges:l,defaultNodes:o,defaultEdges:u,initialWidth:f,initialHeight:h,fitView:y,initialFitViewOptions:b,initialMinZoom:m,initialMaxZoom:w,nodeOrigin:x,nodeExtent:_,zIndexMode:j,children:n})}const Hj={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Lj({nodes:n,edges:i,defaultNodes:l,defaultEdges:o,className:u,nodeTypes:f,edgeTypes:h,onNodeClick:y,onEdgeClick:b,onInit:m,onMove:w,onMoveStart:x,onMoveEnd:_,onConnect:j,onConnectStart:C,onConnectEnd:D,onClickConnectStart:T,onClickConnectEnd:k,onNodeMouseEnter:z,onNodeMouseMove:A,onNodeMouseLeave:B,onNodeContextMenu:G,onNodeDoubleClick:V,onNodeDragStart:Y,onNodeDrag:de,onNodeDragStop:he,onNodesDelete:Te,onEdgesDelete:le,onDelete:ae,onSelectionChange:Ee,onSelectionDragStart:K,onSelectionDrag:oe,onSelectionDragStop:U,onSelectionContextMenu:X,onSelectionStart:Z,onSelectionEnd:se,onBeforeDelete:xe,connectionMode:L,connectionLineType:I=Dr.Bezier,connectionLineStyle:_e,connectionLineComponent:Se,connectionLineContainerStyle:Be,deleteKeyCode:Le="Backspace",selectionKeyCode:He="Shift",selectionOnDrag:De=!1,selectionMode:qe=Hs.Full,panActivationKeyCode:ze="Space",multiSelectionKeyCode:lt=Us()?"Meta":"Control",zoomActivationKeyCode:Ue=Us()?"Meta":"Control",snapToGrid:Ae,snapGrid:Ke,onlyRenderVisibleElements:Ge=!1,selectNodesOnDrag:ie,nodesDraggable:ye,autoPanOnNodeFocus:Xe,nodesConnectable:et,nodesFocusable:Fe,nodeOrigin:Je=wb,edgesFocusable:ct,edgesReconnectable:Ut,elementsSelectable:Wt=!0,defaultViewport:kn=hA,minZoom:qt=.5,maxZoom:zt=2,translateExtent:wa=Bs,preventScrolling:ei=!0,nodeExtent:Ha,defaultMarkerColor:Ii="#b1b1b7",zoomOnScroll:Sa=!0,zoomOnPinch:ia=!0,panOnScroll:dn=!1,panOnScrollSpeed:hn=.5,panOnScrollMode:Ze=ll.Free,zoomOnDoubleClick:ti=!0,panOnDrag:_a=!0,onPaneClick:Gi,onPaneMouseEnter:$e,onPaneMouseMove:La,onPaneMouseLeave:ni,onPaneScroll:In,onPaneContextMenu:ai,paneClickDistance:Ea=1,nodeClickDistance:_o=0,children:dl,onReconnect:ra,onReconnectStart:Rn,onReconnectEnd:Or,onEdgeContextMenu:ii,onEdgeDoubleClick:Mt,onEdgeMouseEnter:Zt,onEdgeMouseMove:kr,onEdgeMouseLeave:Ua,reconnectRadius:ri=10,onNodesChange:li,onEdgesChange:la,noDragClassName:Ot="nodrag",noWheelClassName:Qt="nowheel",noPanClassName:yn="nopan",fitView:Na,fitViewOptions:hl,connectOnClick:oa,attributionPosition:Rr,proOptions:Dn,defaultEdgeOptions:Zi,elevateNodesOnSelect:sa=!0,elevateEdgesOnSelect:At=!1,disableKeyboardA11y:Cn=!1,autoPanOnConnect:gn,autoPanOnNodeDrag:Pt,autoPanSpeed:Ca,connectionRadius:oi,isValidConnection:Gn,onError:ua,style:Aa,id:Qi,nodeDragThreshold:si,connectionDragThreshold:pl,viewport:ft,onViewportChange:ui,width:Bn,height:pn,colorMode:qa="light",debug:ml,onScroll:ci,ariaLabelConfig:Br,zIndexMode:wt="basic",...fi},rn){const Hn=Qi||"1",Pi=gA(qa),di=O.useCallback(Ln=>{Ln.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ci?.(Ln)},[ci]);return g.jsx("div",{"data-testid":"rf__wrapper",...fi,onScroll:di,style:{...Aa,...Hj},ref:rn,className:fn(["react-flow",u,Pi]),id:Qi,role:"application",children:g.jsxs(Bj,{nodes:n,edges:i,width:Bn,height:pn,fitView:Na,fitViewOptions:hl,minZoom:qt,maxZoom:zt,nodeOrigin:Je,nodeExtent:Ha,zIndexMode:wt,children:[g.jsx(kj,{onInit:m,onNodeClick:y,onEdgeClick:b,onNodeMouseEnter:z,onNodeMouseMove:A,onNodeMouseLeave:B,onNodeContextMenu:G,onNodeDoubleClick:V,nodeTypes:f,edgeTypes:h,connectionLineType:I,connectionLineStyle:_e,connectionLineComponent:Se,connectionLineContainerStyle:Be,selectionKeyCode:He,selectionOnDrag:De,selectionMode:qe,deleteKeyCode:Le,multiSelectionKeyCode:lt,panActivationKeyCode:ze,zoomActivationKeyCode:Ue,onlyRenderVisibleElements:Ge,defaultViewport:kn,translateExtent:wa,minZoom:qt,maxZoom:zt,preventScrolling:ei,zoomOnScroll:Sa,zoomOnPinch:ia,zoomOnDoubleClick:ti,panOnScroll:dn,panOnScrollSpeed:hn,panOnScrollMode:Ze,panOnDrag:_a,onPaneClick:Gi,onPaneMouseEnter:$e,onPaneMouseMove:La,onPaneMouseLeave:ni,onPaneScroll:In,onPaneContextMenu:ai,paneClickDistance:Ea,nodeClickDistance:_o,onSelectionContextMenu:X,onSelectionStart:Z,onSelectionEnd:se,onReconnect:ra,onReconnectStart:Rn,onReconnectEnd:Or,onEdgeContextMenu:ii,onEdgeDoubleClick:Mt,onEdgeMouseEnter:Zt,onEdgeMouseMove:kr,onEdgeMouseLeave:Ua,reconnectRadius:ri,defaultMarkerColor:Ii,noDragClassName:Ot,noWheelClassName:Qt,noPanClassName:yn,rfId:Hn,disableKeyboardA11y:Cn,nodeExtent:Ha,viewport:ft,onViewportChange:ui}),g.jsx(yA,{nodes:n,edges:i,defaultNodes:l,defaultEdges:o,onConnect:j,onConnectStart:C,onConnectEnd:D,onClickConnectStart:T,onClickConnectEnd:k,nodesDraggable:ye,autoPanOnNodeFocus:Xe,nodesConnectable:et,nodesFocusable:Fe,edgesFocusable:ct,edgesReconnectable:Ut,elementsSelectable:Wt,elevateNodesOnSelect:sa,elevateEdgesOnSelect:At,minZoom:qt,maxZoom:zt,nodeExtent:Ha,onNodesChange:li,onEdgesChange:la,snapToGrid:Ae,snapGrid:Ke,connectionMode:L,translateExtent:wa,connectOnClick:oa,defaultEdgeOptions:Zi,fitView:Na,fitViewOptions:hl,onNodesDelete:Te,onEdgesDelete:le,onDelete:ae,onNodeDragStart:Y,onNodeDrag:de,onNodeDragStop:he,onSelectionDrag:oe,onSelectionDragStart:K,onSelectionDragStop:U,onMove:w,onMoveStart:x,onMoveEnd:_,noPanClassName:yn,nodeOrigin:Je,rfId:Hn,autoPanOnConnect:gn,autoPanOnNodeDrag:Pt,autoPanSpeed:Ca,onError:ua,connectionRadius:oi,isValidConnection:Gn,selectNodesOnDrag:ie,nodeDragThreshold:si,connectionDragThreshold:pl,onBeforeDelete:xe,debug:ml,ariaLabelConfig:Br,zIndexMode:wt}),g.jsx(dA,{onSelectionChange:Ee}),dl,g.jsx(oA,{proOptions:Dn,position:Rr}),g.jsx(lA,{rfId:Hn,disableKeyboardA11y:Cn})]})})}var Uj=Nb(Lj);function qj({dimensions:n,lineWidth:i,variant:l,className:o}){return g.jsx("path",{strokeWidth:i,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`,className:fn(["react-flow__background-pattern",l,o])})}function Vj({radius:n,className:i}){return g.jsx("circle",{cx:n,cy:n,r:n,className:fn(["react-flow__background-pattern","dots",i])})}var Yi;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(Yi||(Yi={}));const Yj={[Yi.Dots]:1,[Yi.Lines]:1,[Yi.Cross]:6},Kj=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function Pb({id:n,variant:i=Yi.Dots,gap:l=20,size:o,lineWidth:u=1,offset:f=0,color:h,bgColor:y,style:b,className:m,patternClassName:w}){const x=O.useRef(null),{transform:_,patternId:j}=St(Kj,It),C=o||Yj[i],D=i===Yi.Dots,T=i===Yi.Cross,k=Array.isArray(l)?l:[l,l],z=[k[0]*_[2]||1,k[1]*_[2]||1],A=C*_[2],B=Array.isArray(f)?f:[f,f],G=T?[A,A]:z,V=[B[0]*_[2]||1+G[0]/2,B[1]*_[2]||1+G[1]/2],Y=`${j}${n||""}`;return g.jsxs("svg",{className:fn(["react-flow__background",m]),style:{...b,...ef,"--xy-background-color-props":y,"--xy-background-pattern-color-props":h},ref:x,"data-testid":"rf__background",children:[g.jsx("pattern",{id:Y,x:_[0]%z[0],y:_[1]%z[1],width:z[0],height:z[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${V[0]},-${V[1]})`,children:D?g.jsx(Vj,{radius:A/2,className:w}):g.jsx(qj,{dimensions:G,lineWidth:u,variant:i,className:w})}),g.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${Y})`})]})}Pb.displayName="Background";const $j=O.memo(Pb);function Xj(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:g.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Ij(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:g.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Gj(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:g.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Zj(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Qj(){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:g.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function gc({children:n,className:i,...l}){return g.jsx("button",{type:"button",className:fn(["react-flow__controls-button",i]),...l,children:n})}const Pj=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom,ariaLabelConfig:n.ariaLabelConfig});function Fb({style:n,showZoom:i=!0,showFitView:l=!0,showInteractive:o=!0,fitViewOptions:u,onZoomIn:f,onZoomOut:h,onFitView:y,onInteractiveChange:b,className:m,children:w,position:x="bottom-left",orientation:_="vertical","aria-label":j}){const C=Gt(),{isInteractive:D,minZoomReached:T,maxZoomReached:k,ariaLabelConfig:z}=St(Pj,It),{zoomIn:A,zoomOut:B,fitView:G}=Wc(),V=()=>{A(),f?.()},Y=()=>{B(),h?.()},de=()=>{G(u),y?.()},he=()=>{C.setState({nodesDraggable:!D,nodesConnectable:!D,elementsSelectable:!D}),b?.(!D)},Te=_==="horizontal"?"horizontal":"vertical";return g.jsxs(Fs,{className:fn(["react-flow__controls",Te,m]),position:x,style:n,"data-testid":"rf__controls","aria-label":j??z["controls.ariaLabel"],children:[i&&g.jsxs(g.Fragment,{children:[g.jsx(gc,{onClick:V,className:"react-flow__controls-zoomin",title:z["controls.zoomIn.ariaLabel"],"aria-label":z["controls.zoomIn.ariaLabel"],disabled:k,children:g.jsx(Xj,{})}),g.jsx(gc,{onClick:Y,className:"react-flow__controls-zoomout",title:z["controls.zoomOut.ariaLabel"],"aria-label":z["controls.zoomOut.ariaLabel"],disabled:T,children:g.jsx(Ij,{})})]}),l&&g.jsx(gc,{className:"react-flow__controls-fitview",onClick:de,title:z["controls.fitView.ariaLabel"],"aria-label":z["controls.fitView.ariaLabel"],children:g.jsx(Gj,{})}),o&&g.jsx(gc,{className:"react-flow__controls-interactive",onClick:he,title:z["controls.interactive.ariaLabel"],"aria-label":z["controls.interactive.ariaLabel"],children:D?g.jsx(Qj,{}):g.jsx(Zj,{})}),w]})}Fb.displayName="Controls";const Fj=O.memo(Fb);function Jj({id:n,x:i,y:l,width:o,height:u,style:f,color:h,strokeColor:y,strokeWidth:b,className:m,borderRadius:w,shapeRendering:x,selected:_,onClick:j}){const{background:C,backgroundColor:D}=f||{},T=h||C||D;return g.jsx("rect",{className:fn(["react-flow__minimap-node",{selected:_},m]),x:i,y:l,rx:w,ry:w,width:o,height:u,style:{fill:T,stroke:y,strokeWidth:b},shapeRendering:x,onClick:j?k=>j(k,n):void 0})}const Wj=O.memo(Jj),eM=n=>n.nodes.map(i=>i.id),yh=n=>n instanceof Function?n:()=>n;function tM({nodeStrokeColor:n,nodeColor:i,nodeClassName:l="",nodeBorderRadius:o=5,nodeStrokeWidth:u,nodeComponent:f=Wj,onClick:h}){const y=St(eM,It),b=yh(i),m=yh(n),w=yh(l),x=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return g.jsx(g.Fragment,{children:y.map(_=>g.jsx(aM,{id:_,nodeColorFunc:b,nodeStrokeColorFunc:m,nodeClassNameFunc:w,nodeBorderRadius:o,nodeStrokeWidth:u,NodeComponent:f,onClick:h,shapeRendering:x},_))})}function nM({id:n,nodeColorFunc:i,nodeStrokeColorFunc:l,nodeClassNameFunc:o,nodeBorderRadius:u,nodeStrokeWidth:f,shapeRendering:h,NodeComponent:y,onClick:b}){const{node:m,x:w,y:x,width:_,height:j}=St(C=>{const D=C.nodeLookup.get(n);if(!D)return{node:void 0,x:0,y:0,width:0,height:0};const T=D.internals.userNode,{x:k,y:z}=D.internals.positionAbsolute,{width:A,height:B}=Xi(T);return{node:T,x:k,y:z,width:A,height:B}},It);return!m||m.hidden||!F0(m)?null:g.jsx(y,{x:w,y:x,width:_,height:j,style:m.style,selected:!!m.selected,className:o(m),color:i(m),borderRadius:u,strokeColor:l(m),strokeWidth:f,shapeRendering:h,onClick:b,id:m.id})}const aM=O.memo(nM);var iM=O.memo(tM);const rM=200,lM=150,oM=n=>!n.hidden,sM=n=>{const i={x:-n.transform[0]/n.transform[2],y:-n.transform[1]/n.transform[2],width:n.width/n.transform[2],height:n.height/n.transform[2]};return{viewBB:i,boundingRect:n.nodeLookup.size>0?P0(Zs(n.nodeLookup,{filter:oM}),i):i,rfId:n.rfId,panZoom:n.panZoom,translateExtent:n.translateExtent,flowWidth:n.width,flowHeight:n.height,ariaLabelConfig:n.ariaLabelConfig}},uM="react-flow__minimap-desc";function Jb({style:n,className:i,nodeStrokeColor:l,nodeColor:o,nodeClassName:u="",nodeBorderRadius:f=5,nodeStrokeWidth:h,nodeComponent:y,bgColor:b,maskColor:m,maskStrokeColor:w,maskStrokeWidth:x,position:_="bottom-right",onClick:j,onNodeClick:C,pannable:D=!1,zoomable:T=!1,ariaLabel:k,inversePan:z,zoomStep:A=1,offsetScale:B=5}){const G=Gt(),V=O.useRef(null),{boundingRect:Y,viewBB:de,rfId:he,panZoom:Te,translateExtent:le,flowWidth:ae,flowHeight:Ee,ariaLabelConfig:K}=St(sM,It),oe=n?.width??rM,U=n?.height??lM,X=Y.width/oe,Z=Y.height/U,se=Math.max(X,Z),xe=se*oe,L=se*U,I=B*se,_e=Y.x-(xe-Y.width)/2-I,Se=Y.y-(L-Y.height)/2-I,Be=xe+I*2,Le=L+I*2,He=`${uM}-${he}`,De=O.useRef(0),qe=O.useRef();De.current=se,O.useEffect(()=>{if(V.current&&Te)return qe.current=AC({domNode:V.current,panZoom:Te,getTransform:()=>G.getState().transform,getViewScale:()=>De.current}),()=>{qe.current?.destroy()}},[Te]),O.useEffect(()=>{qe.current?.update({translateExtent:le,width:ae,height:Ee,inversePan:z,pannable:D,zoomStep:A,zoomable:T})},[D,T,z,A,le,ae,Ee]);const ze=j?Ae=>{const[Ke,Ge]=qe.current?.pointer(Ae)||[0,0];j(Ae,{x:Ke,y:Ge})}:void 0,lt=C?O.useCallback((Ae,Ke)=>{const Ge=G.getState().nodeLookup.get(Ke).internals.userNode;C(Ae,Ge)},[]):void 0,Ue=k??K["minimap.ariaLabel"];return g.jsx(Fs,{position:_,style:{...n,"--xy-minimap-background-color-props":typeof b=="string"?b:void 0,"--xy-minimap-mask-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-color-props":typeof w=="string"?w:void 0,"--xy-minimap-mask-stroke-width-props":typeof x=="number"?x*se:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof l=="string"?l:void 0,"--xy-minimap-node-stroke-width-props":typeof h=="number"?h:void 0},className:fn(["react-flow__minimap",i]),"data-testid":"rf__minimap",children:g.jsxs("svg",{width:oe,height:U,viewBox:`${_e} ${Se} ${Be} ${Le}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":He,ref:V,onClick:ze,children:[Ue&&g.jsx("title",{id:He,children:Ue}),g.jsx(iM,{onClick:lt,nodeColor:o,nodeStrokeColor:l,nodeBorderRadius:f,nodeClassName:u,nodeStrokeWidth:h,nodeComponent:y}),g.jsx("path",{className:"react-flow__minimap-mask",d:`M${_e-I},${Se-I}h${Be+I*2}v${Le+I*2}h${-Be-I*2}z
        M${de.x},${de.y}h${de.width}v${de.height}h${-de.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Jb.displayName="MiniMap";const cM=O.memo(Jb),fM=n=>i=>n?`${Math.max(1/i.transform[2],1)}`:void 0,dM={[vo.Line]:"right",[vo.Handle]:"bottom-right"};function hM({nodeId:n,position:i,variant:l=vo.Handle,className:o,style:u=void 0,children:f,color:h,minWidth:y=10,minHeight:b=10,maxWidth:m=Number.MAX_VALUE,maxHeight:w=Number.MAX_VALUE,keepAspectRatio:x=!1,resizeDirection:_,autoScale:j=!0,shouldResize:C,onResizeStart:D,onResize:T,onResizeEnd:k}){const z=Mb(),A=typeof n=="string"?n:z,B=Gt(),G=O.useRef(null),V=l===vo.Handle,Y=St(O.useCallback(fM(V&&j),[V,j]),It),de=O.useRef(null),he=i??dM[l];O.useEffect(()=>{if(!(!G.current||!A))return de.current||(de.current=VC({domNode:G.current,nodeId:A,getStoreItems:()=>{const{nodeLookup:le,transform:ae,snapGrid:Ee,snapToGrid:K,nodeOrigin:oe,domNode:U}=B.getState();return{nodeLookup:le,transform:ae,snapGrid:Ee,snapToGrid:K,nodeOrigin:oe,paneDomNode:U}},onChange:(le,ae)=>{const{triggerNodeChanges:Ee,nodeLookup:K,parentLookup:oe,nodeOrigin:U}=B.getState(),X=[],Z={x:le.x,y:le.y},se=K.get(A);if(se&&se.expandParent&&se.parentId){const xe=se.origin??U,L=le.width??se.measured.width??0,I=le.height??se.measured.height??0,_e={id:se.id,parentId:se.parentId,rect:{width:L,height:I,...J0({x:le.x??se.position.x,y:le.y??se.position.y},{width:L,height:I},se.parentId,K,xe)}},Se=cp([_e],K,oe,U);X.push(...Se),Z.x=le.x?Math.max(xe[0]*L,le.x):void 0,Z.y=le.y?Math.max(xe[1]*I,le.y):void 0}if(Z.x!==void 0&&Z.y!==void 0){const xe={id:A,type:"position",position:{...Z}};X.push(xe)}if(le.width!==void 0&&le.height!==void 0){const L={id:A,type:"dimensions",resizing:!0,setAttributes:_?_==="horizontal"?"width":"height":!0,dimensions:{width:le.width,height:le.height}};X.push(L)}for(const xe of ae){const L={...xe,type:"position"};X.push(L)}Ee(X)},onEnd:({width:le,height:ae})=>{const Ee={id:A,type:"dimensions",resizing:!1,dimensions:{width:le,height:ae}};B.getState().triggerNodeChanges([Ee])}})),de.current.update({controlPosition:he,boundaries:{minWidth:y,minHeight:b,maxWidth:m,maxHeight:w},keepAspectRatio:x,resizeDirection:_,onResizeStart:D,onResize:T,onResizeEnd:k,shouldResize:C}),()=>{de.current?.destroy()}},[he,y,b,m,w,x,D,T,k,C]);const Te=he.split("-");return g.jsx("div",{className:fn(["react-flow__resize-control","nodrag",...Te,l,o]),ref:G,style:{...u,scale:Y,...h&&{[V?"backgroundColor":"borderColor"]:h}},children:f})}O.memo(hM);function pM({id:n,data:i,selected:l}){const o=na[i.nodeType]||na.machine;return g.jsxs("div",{className:`machine-node type-${i.nodeType} ${l?"selected":""}`,style:{"--node-accent":i.statusColor,"--type-color":o.color},onClick:()=>i.onSelect(n),children:[g.jsx(bo,{type:"target",position:at.Left}),g.jsxs("div",{className:"machine-node-header",children:[g.jsxs("div",{className:"machine-node-type-badge",style:{background:`${o.color}20`,color:o.color},children:[o.icon," ",o.label]}),g.jsxs("div",{className:"machine-node-header-right",children:[i.problemCount>0&&g.jsxs("span",{className:"machine-node-problems",children:[g.jsx(uo,{size:11})," ",i.problemCount]}),i.nodeType==="machine"&&g.jsx("span",{className:"machine-node-status",style:{color:i.statusColor},children:i.statusIcon})]})]}),g.jsx("div",{className:"machine-node-label",children:i.label}),i.nodeType==="machine"&&g.jsxs(g.Fragment,{children:[i.goal?g.jsx("div",{className:"machine-node-goal",children:i.goal}):g.jsxs("div",{className:"machine-node-prompt",children:[g.jsx(uo,{size:11})," No goal set"]}),i.bottleneck&&g.jsxs("div",{className:"machine-node-bottleneck",children:[" ",i.bottleneck]})]}),i.nodeType==="sop"&&g.jsxs("div",{className:"machine-node-sop-progress",children:[g.jsx(qS,{size:13}),g.jsxs("span",{children:[i.stepsDone,"/",i.stepsTotal," steps"]}),i.stepsTotal>0&&g.jsx("div",{className:"sop-progress-bar",children:g.jsx("div",{className:"sop-progress-fill",style:{width:`${Math.round(i.stepsDone/i.stepsTotal*100)}%`}})})]}),i.nodeType==="tool"&&g.jsxs(g.Fragment,{children:[i.toolUrl&&(()=>{try{return g.jsxs("div",{className:"machine-node-tool-link",children:[g.jsx(Sh,{size:11}),g.jsx("span",{children:new URL(i.toolUrl).hostname})]})}catch{return null}})(),g.jsxs("div",{className:"machine-node-tool-status",style:{color:i.statusColor},children:[i.statusIcon," ",i.statusLabel]})]}),i.nodeType==="skill"&&g.jsx("div",{className:"machine-node-skill-level",children:i.proficiency?Nh.find(u=>u.value===i.proficiency)?.icon+" "+Nh.find(u=>u.value===i.proficiency)?.label:" Not assessed"}),i.nodeType==="note"&&i.notes&&g.jsxs("div",{className:"machine-node-note-preview",children:[i.notes.slice(0,80),i.notes.length>80?"...":""]}),i.nodeType==="machine"&&g.jsxs("button",{className:"machine-node-enter",onClick:u=>{u.stopPropagation(),i.onDrillDown(n)},children:["Enter ",g.jsx(hS,{size:13})]}),g.jsx(bo,{type:"source",position:at.Right})]})}const mM={machine:pM};function js({title:n,badge:i,badgeColor:l,defaultOpen:o=!1,children:u,className:f=""}){const[h,y]=O.useState(o);return g.jsxs("div",{className:`collapsible ${h?"open":""} ${f}`,children:[g.jsxs("button",{className:"collapsible-header",onClick:()=>y(!h),children:[g.jsx(xS,{size:14,className:"collapsible-chevron"}),g.jsx("span",{className:"collapsible-title",children:n}),i!==void 0&&i!==0&&g.jsx("span",{className:"collapsible-badge",style:l?{background:`${l}20`,color:l}:{},children:i})]}),g.jsx("div",{className:"collapsible-body",children:g.jsx("div",{className:"collapsible-inner",children:u})})]})}function gh(n,i,l,o){const u=i.find(h=>h.id===n.statusId)??i[0],f=(n.steps??[]).filter(h=>h.done).length;return{id:n.id,type:"machine",position:n.position,data:{label:n.label,nodeType:n.type||"machine",statusLabel:u?.label??"Unknown",statusColor:u?.color??"#6b7280",statusIcon:u?.icon??"",goal:n.goal,bottleneck:n.bottleneck||"",notes:n.notes||"",hasChildren:n.hasChildren,problemCount:l[n.id]??0,missingGoal:n.type==="machine"&&!n.goal,stepsTotal:(n.steps??[]).length,stepsDone:f,toolUrl:n.toolUrl||"",proficiency:n.proficiency??null,...o}}}function vh(n){const i=c0.find(u=>u.value===n.relationship),l=i?.color??"#64748b",o=n.label||i?.label||"";return{id:n.id,source:n.source,target:n.target,label:o||void 0,type:"smoothstep",animated:!0,style:{strokeWidth:2.5,stroke:l},markerEnd:{type:po.ArrowClosed,width:18,height:18,color:l},labelStyle:{fill:l,fontWeight:600,fontSize:11},labelBgStyle:{fill:"#1a1a2e",fillOpacity:.9},labelBgPadding:[6,4],labelBgBorderRadius:4}}function yM(n){return{type:n,description:"",statusId:"not-built",goal:"",bottleneck:"",notes:"",steps:[],toolUrl:"",proficiency:null,hasChildren:!1}}function gM({statuses:n,onSelect:i,onClose:l}){return O.useEffect(()=>{const o=u=>{const f=parseInt(u.key);f>=1&&f<=n.length?i(n[f-1].id):l()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[n,i,l]),g.jsx("div",{className:"shortcut-overlay",onClick:l,children:g.jsxs("div",{className:"shortcut-palette",onClick:o=>o.stopPropagation(),children:[g.jsx("div",{className:"shortcut-palette-title",children:"Set Status"}),n.map((o,u)=>g.jsxs("button",{className:"shortcut-option",onClick:()=>i(o.id),children:[g.jsx("span",{className:"shortcut-key",children:u+1}),g.jsx("span",{className:"shortcut-icon",children:o.icon}),g.jsx("span",{className:"shortcut-label",children:o.label})]},o.id)),g.jsx("div",{className:"shortcut-hint",children:"Press number or Esc"})]})})}function vM({onAdd:n,onClose:i}){const l=Object.entries(na);return g.jsx("div",{className:"shortcut-overlay",onClick:i,children:g.jsxs("div",{className:"shortcut-palette",onClick:o=>o.stopPropagation(),children:[g.jsx("div",{className:"shortcut-palette-title",children:"Add to Canvas"}),l.map(([o,u])=>g.jsxs("button",{className:"shortcut-option",onClick:()=>n(o),children:[g.jsx("span",{className:"shortcut-icon",children:u.icon}),g.jsx("span",{className:"shortcut-label",children:u.label})]},o)),g.jsx("div",{className:"shortcut-hint",children:"Esc to cancel"})]})})}function bM({parentId:n,dbNodes:i,problems:l,statuses:o,victoryConditions:u,onUpdateProblem:f}){const[h,y]=O.useState(null);O.useEffect(()=>{be.nodes.get(n).then(z=>y(z??null))},[n]);const b=new Set(i.map(z=>z.id));b.add(n);const m=l.filter(z=>b.has(z.machineNodeId)&&z.status!=="resolved"),w=l.filter(z=>b.has(z.machineNodeId)),x={};for(const z of i){const A=z.statusId||"not-built";x[A]=(x[A]??0)+1}const _=i.filter(z=>z.bottleneck&&z.bottleneck.trim()),j=i.filter(z=>z.statusId==="blocked"),C=u.filter(z=>b.has(z.machineNodeId)),D=C.filter(z=>z.met),T=w.filter(z=>z.status==="resolved").length,k=h?.label||"Machine";return g.jsxs("div",{className:"side-panel overview-panel",children:[g.jsx("div",{className:"sp-header",children:g.jsxs("div",{className:"sp-title-row",children:[g.jsx("span",{className:"sp-type-badge",style:{background:"#4262FF20",color:"#4262FF"},children:""}),g.jsxs("h2",{className:"sp-title",children:[k," Overview"]})]})}),g.jsxs("div",{className:"sp-content",children:[g.jsxs("div",{className:"sp-section",children:[g.jsxs("label",{className:"sp-label",children:[" Node Status (",i.length," nodes)"]}),g.jsx("div",{className:"overview-status-grid",children:o.map(z=>{const A=x[z.id]??0;return A===0?null:g.jsxs("div",{className:"overview-status-row",children:[g.jsxs("span",{style:{color:z.color},children:[z.icon," ",z.label]}),g.jsx("span",{className:"overview-count",children:A})]},z.id)})})]}),j.length>0&&g.jsx(js,{title:`Blocked (${j.length})`,badge:j.length,badgeColor:"#ef4444",defaultOpen:!0,children:j.map(z=>g.jsxs("div",{className:"overview-blocked-node",children:[g.jsxs("span",{className:"overview-node-name",children:[na[z.type]?.icon," ",z.label]}),z.bottleneck&&g.jsxs("span",{className:"overview-bottleneck-text",children:[" ",z.bottleneck]})]},z.id))}),_.length>0&&g.jsx(js,{title:`Bottlenecks (${_.length})`,badge:_.length,badgeColor:"#fbbf24",defaultOpen:!0,children:_.map(z=>g.jsxs("div",{className:"overview-bottleneck-card",children:[g.jsxs("span",{className:"overview-node-name",children:[na[z.type]?.icon," ",z.label]}),g.jsx("span",{className:"overview-bottleneck-text",children:z.bottleneck})]},z.id))}),g.jsxs(js,{title:`All Problems (${m.length} open${T>0?`, ${T} resolved`:""})`,badge:m.length||void 0,badgeColor:"#ef4444",defaultOpen:m.length>0,children:[m.length===0&&g.jsx("p",{className:"sp-text placeholder",children:"No open problems across any node "}),m.sort((z,A)=>(Mc[z.severity]??9)-(Mc[A.severity]??9)).map(z=>{const A=i.find(B=>B.id===z.machineNodeId);return g.jsxs("div",{className:`problem-card severity-${z.severity}`,children:[g.jsxs("div",{className:"problem-card-top",children:[g.jsx("span",{className:"problem-title",children:z.title}),g.jsx("select",{className:"problem-status-select",value:z.status,onChange:B=>f(z.id,{status:B.target.value,resolvedAt:B.target.value==="resolved"?new Date:null}),children:["open","diagnosing","planned","fixing","resolved"].map(B=>g.jsx("option",{value:B,children:B},B))})]}),g.jsxs("div",{className:"problem-meta",children:[g.jsxs("span",{className:"problem-age",children:[" ",Zh(z.createdAt)]}),A&&g.jsxs("span",{className:"overview-problem-source",children:["on ",A.label]})]})]},z.id)})]}),C.length>0&&g.jsx(js,{title:`Victory Conditions (${D.length}/${C.length} met)`,badge:C.length-D.length||void 0,badgeColor:"#f59e0b",defaultOpen:!0,children:C.map(z=>{const A=i.find(B=>B.id===z.machineNodeId);return g.jsxs("div",{className:`overview-vc-row ${z.met?"met":"unmet"}`,children:[g.jsx("span",{className:"overview-vc-status",children:z.met?"":""}),g.jsxs("div",{className:"overview-vc-info",children:[g.jsx("span",{className:"overview-vc-label",children:z.label||"(unnamed)"}),z.target&&g.jsxs("span",{className:"overview-vc-target",children:[z.current||"?"," / ",z.target]}),A&&g.jsxs("span",{className:"overview-vc-source",children:["on ",A.label]})]})]},z.id)})})]})]})}function xM({selectedNode:n,problems:i,statuses:l,victoryConditions:o,dbNodes:u,parentId:f,onClose:h,onUpdateNode:y,onAddProblem:b,onUpdateProblem:m,onAddVC:w,onUpdateVC:x,onDeleteVC:_}){const[j,C]=O.useState("design"),[D,T]=O.useState(null),[k,z]=O.useState("");if(O.useEffect(()=>{T(null)},[n?.id]),O.useEffect(()=>{n&&(n.type==="note"?C("notes"):(n.type,C("design")))},[n?.id,n?.type]),!n)return g.jsx(bM,{parentId:f,dbNodes:u,problems:i,statuses:l,victoryConditions:o,onUpdateProblem:m});const A=n.type||"machine",B=na[A],G=i.filter(ae=>ae.machineNodeId===n.id&&ae.status!=="resolved"),V=o.filter(ae=>ae.machineNodeId===n.id),Y=l.find(ae=>ae.id===n.statusId),de=(ae,Ee)=>{T(ae),z(Ee)},he=async ae=>{const Ee={};ae==="label"?Ee.label=k:ae==="description"?Ee.description=k:ae==="goal"?Ee.goal=k:ae==="bottleneck"?Ee.bottleneck=k:ae==="notes"?Ee.notes=k:ae==="toolUrl"&&(Ee.toolUrl=k),Object.keys(Ee).length&&await y(n.id,Ee),T(null)},Te=(ae,Ee)=>{ae.key==="Enter"&&!ae.shiftKey&&he(Ee),ae.key==="Escape"&&T(null)},le=[];return A==="machine"?(le.push({key:"design",label:"Design"}),le.push({key:"operations",label:"Ops",badge:G.length||void 0}),le.push({key:"metrics",label:"Metrics"}),le.push({key:"notes",label:"Notes"})):A==="sop"?(le.push({key:"design",label:"Steps"}),le.push({key:"notes",label:"Notes"})):A==="tool"?(le.push({key:"design",label:"Details"}),le.push({key:"notes",label:"Notes"})):A==="skill"?(le.push({key:"design",label:"Details"}),le.push({key:"notes",label:"Notes"})):A==="note"&&le.push({key:"notes",label:"Content"}),g.jsxs("div",{className:"side-panel",children:[g.jsxs("div",{className:"sp-header",children:[g.jsxs("div",{className:"sp-title-row",children:[g.jsx("span",{className:"sp-type-badge",style:{background:`${B.color}20`,color:B.color},children:B.icon}),D==="label"?g.jsx("input",{className:"sp-title-input",value:k,onChange:ae=>z(ae.target.value),onKeyDown:ae=>Te(ae,"label"),onBlur:()=>he("label"),autoFocus:!0}):g.jsx("h2",{className:"sp-title",onClick:()=>de("label",n.label),children:n.label}),A==="machine"&&g.jsx("span",{className:"sp-status-dot",style:{background:Y?.color},title:Y?.label})]}),g.jsx("button",{className:"sp-close",onClick:h,children:g.jsx(Kc,{size:18})})]}),le.length>1&&g.jsx("div",{className:"sp-tabs",children:le.map(ae=>g.jsxs("button",{className:`sp-tab ${j===ae.key?"active":""}`,onClick:()=>C(ae.key),children:[ae.label,ae.badge?g.jsx("span",{className:"sp-tab-badge",children:ae.badge}):null]},ae.key))}),g.jsxs("div",{className:"sp-content",children:[A==="machine"&&j==="design"&&g.jsx(wM,{node:n,ef:D,ev:k,startEdit:de,setEV:z,saveEdit:he}),A==="machine"&&j==="operations"&&g.jsx(SM,{node:n,statuses:l,problems:G,ef:D,ev:k,startEdit:de,setEV:z,handleKD:Te,saveEdit:he,onUpdateNode:y,onAddProblem:b,onUpdateProblem:m}),A==="machine"&&j==="metrics"&&g.jsx(EM,{node:n,conditions:V,onAdd:w,onUpdate:x,onDelete:_}),A==="sop"&&j==="design"&&g.jsx(CM,{node:n,onUpdateNode:y,siblingNodes:u}),A==="tool"&&j==="design"&&g.jsx(jM,{node:n,statuses:l,ef:D,ev:k,startEdit:de,setEV:z,handleKD:Te,saveEdit:he,onUpdateNode:y}),A==="skill"&&j==="design"&&g.jsx(MM,{node:n,onUpdateNode:y}),j==="notes"&&g.jsx(TM,{node:n,ef:D,ev:k,startEdit:de,setEV:z,saveEdit:he})]})]})}function wM({node:n,ef:i,ev:l,startEdit:o,setEV:u,saveEdit:f}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"sp-section",children:[g.jsx("label",{className:"sp-label",children:"Goal"}),i==="goal"?g.jsx("textarea",{className:"sp-textarea",value:l,onChange:h=>u(h.target.value),onBlur:()=>f("goal"),onKeyDown:h=>{h.key==="Escape"&&f("goal")},placeholder:"What should this machine produce?",autoFocus:!0}):g.jsx("p",{className:`sp-text editable ${n.goal?"":"placeholder"}`,onClick:()=>o("goal",n.goal),children:n.goal||"What should this machine produce?"})]}),g.jsxs("div",{className:"sp-section",children:[g.jsx("label",{className:"sp-label",children:"Description"}),i==="description"?g.jsx("textarea",{className:"sp-textarea",value:l,onChange:h=>u(h.target.value),onBlur:()=>f("description"),onKeyDown:h=>{h.key==="Escape"&&f("description")},placeholder:"How does this machine work?",autoFocus:!0}):g.jsx("p",{className:`sp-text editable ${n.description?"":"placeholder"}`,onClick:()=>o("description",n.description),children:n.description||"How does this machine work?"})]})]})}function SM({node:n,statuses:i,problems:l,ef:o,ev:u,startEdit:f,setEV:h,handleKD:y,saveEdit:b,onUpdateNode:m,onAddProblem:w,onUpdateProblem:x}){const[_,j]=O.useState(""),[C,D]=O.useState(!1),[T,k]=O.useState([]);O.useEffect(()=>{be.statusChanges.where("machineNodeId").equals(n.id).toArray().then(A=>{k(A.sort((B,G)=>new Date(G.changedAt).getTime()-new Date(B.changedAt).getTime()))})},[n.id,n.statusId]);const z=[...l].filter(A=>!_||A.severity===_).sort((A,B)=>{const G=(Mc[A.severity]??9)-(Mc[B.severity]??9);return G!==0?G:new Date(A.createdAt).getTime()-new Date(B.createdAt).getTime()});return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"sp-section",children:[g.jsxs("label",{className:"sp-label",children:["Status ",g.jsx("span",{className:"sp-shortcut",children:"J"})]}),g.jsx("div",{className:"sp-status-grid",children:i.map((A,B)=>g.jsxs("button",{className:`sp-status-btn ${A.id===n.statusId?"active":""}`,style:{"--sc":A.color},onClick:()=>m(n.id,{statusId:A.id}),children:[g.jsx("span",{children:A.icon}),g.jsx("span",{children:A.label}),g.jsx("span",{className:"sp-status-key",children:B+1})]},A.id))}),T.length>0&&g.jsxs("button",{className:"status-history-toggle",onClick:()=>D(!C),children:[" ",T.length," status change",T.length!==1?"s":""]}),C&&T.length>0&&g.jsx("div",{className:"status-history-list",children:T.slice(0,10).map((A,B)=>{const G=i.find(Y=>Y.id===A.fromStatusId),V=i.find(Y=>Y.id===A.toStatusId);return g.jsxs("div",{className:"status-history-item",children:[g.jsx("span",{className:"status-history-date",children:new Date(A.changedAt).toLocaleDateString()}),g.jsxs("span",{style:{color:G?.color},children:[G?.icon," ",G?.label]}),g.jsx("span",{className:"status-history-arrow",children:""}),g.jsxs("span",{style:{color:V?.color},children:[V?.icon," ",V?.label]})]},B)})})]}),g.jsxs("div",{className:"sp-section",children:[g.jsx("label",{className:"sp-label",children:" Bottleneck"}),o==="bottleneck"?g.jsx("input",{className:"sp-input",value:u,onChange:A=>h(A.target.value),onKeyDown:A=>y(A,"bottleneck"),onBlur:()=>b("bottleneck"),placeholder:"What's blocking this machine?",autoFocus:!0}):g.jsx("p",{className:`sp-text editable ${n.bottleneck?"":"placeholder"}`,onClick:()=>f("bottleneck",n.bottleneck||""),children:n.bottleneck||"What's blocking this machine?"})]}),g.jsxs(js,{title:`Problems (${l.length})`,badge:l.length||void 0,badgeColor:"#ef4444",defaultOpen:l.length>0,children:[g.jsx("div",{className:"sp-section-header",style:{marginBottom:"8px"},children:g.jsxs("button",{className:"sp-add-btn",onClick:()=>w(n.id),children:[g.jsx(ol,{size:13})," Log"]})}),l.length>1&&g.jsxs("div",{className:"problem-severity-filters",children:[g.jsx("button",{className:`sev-filter-btn ${_===""?"active":""}`,onClick:()=>j(""),children:"All"}),["critical","high","medium","low"].map(A=>g.jsx("button",{className:`sev-filter-btn sev-${A} ${_===A?"active":""}`,onClick:()=>j(_===A?"":A),children:A},A))]}),z.length===0&&g.jsx("p",{className:"sp-text placeholder",children:"No open problems"}),z.map(A=>g.jsx(_M,{problem:A,onUpdate:x},A.id))]})]})}function _M({problem:n,onUpdate:i}){const[l,o]=O.useState(null),[u,f]=O.useState(""),h=(w,x)=>{o(w),f(x)},y=async w=>{w==="title"?await i(n.id,{title:u}):w==="diagnosis"?await i(n.id,{diagnosis:u,status:u?"diagnosing":"open"}):w==="plan"&&await i(n.id,{plan:u,status:u?"planned":"diagnosing"}),o(null)},b=["open","diagnosing","planned","fixing","resolved"],m=Zh(n.createdAt);return g.jsxs("div",{className:`problem-card severity-${n.severity}`,children:[g.jsxs("div",{className:"problem-card-top",children:[l==="title"?g.jsx("input",{className:"problem-title-input",value:u,onChange:w=>f(w.target.value),onKeyDown:w=>{w.key==="Enter"&&y("title"),w.key==="Escape"&&o(null)},onBlur:()=>y("title"),autoFocus:!0}):g.jsx("span",{className:"problem-title",onClick:()=>h("title",n.title),children:n.title}),g.jsx("select",{className:"problem-status-select",value:n.status,onChange:w=>i(n.id,{status:w.target.value,resolvedAt:w.target.value==="resolved"?new Date:null}),children:b.map(w=>g.jsx("option",{value:w,children:w},w))})]}),g.jsxs("div",{className:"problem-meta",children:[g.jsxs("span",{className:"problem-age",children:[" Logged ",m]}),g.jsx("select",{className:"problem-severity-select",value:n.severity,onChange:w=>i(n.id,{severity:w.target.value}),children:["critical","high","medium","low"].map(w=>g.jsx("option",{value:w,children:w},w))})]}),l==="diagnosis"?g.jsx("input",{className:"problem-field-input",value:u,onChange:w=>f(w.target.value),onKeyDown:w=>{w.key==="Enter"&&y("diagnosis"),w.key==="Escape"&&o(null)},onBlur:()=>y("diagnosis"),placeholder:"Root cause?",autoFocus:!0}):n.diagnosis?g.jsxs("div",{className:"problem-field",onClick:()=>h("diagnosis",n.diagnosis),children:[g.jsx("span",{className:"problem-field-label",children:"Root cause:"})," ",n.diagnosis]}):g.jsx("div",{className:"problem-prompt",onClick:()=>h("diagnosis",""),children:" Diagnose root cause"}),n.diagnosis&&(l==="plan"?g.jsx("input",{className:"problem-field-input",value:u,onChange:w=>f(w.target.value),onKeyDown:w=>{w.key==="Enter"&&y("plan"),w.key==="Escape"&&o(null)},onBlur:()=>y("plan"),placeholder:"What's the fix?",autoFocus:!0}):n.plan?g.jsxs("div",{className:"problem-field",onClick:()=>h("plan",n.plan),children:[g.jsx("span",{className:"problem-field-label",children:"Plan:"})," ",n.plan]}):g.jsx("div",{className:"problem-prompt",onClick:()=>h("plan",""),children:" Design plan"}))]})}function EM({node:n,conditions:i,onAdd:l,onUpdate:o,onDelete:u}){const[f,h]=O.useState([]);O.useEffect(()=>{be.vcSnapshots.where("machineNodeId").equals(n.id).toArray().then(h)},[n.id]);const y=async()=>{const b=i.map(m=>({id:Nt(),victoryConditionId:m.id,machineNodeId:n.id,value:m.current,met:m.met,recordedAt:new Date}));await be.vcSnapshots.bulkAdd(b),await be.events.add({id:Nt(),nodeId:n.id,eventType:"metric-snapshot",timestamp:new Date,metadata:`${i.length} conditions`}),h(m=>[...m,...b])};return g.jsxs("div",{className:"sp-section",children:[g.jsxs("div",{className:"sp-section-header",children:[g.jsx("label",{className:"sp-label",children:"Victory Conditions"}),g.jsxs("div",{style:{display:"flex",gap:"6px"},children:[i.length>0&&g.jsx("button",{className:"sp-add-btn",onClick:y,title:"Save current values as a data point",children:" Snapshot"}),g.jsxs("button",{className:"sp-add-btn",onClick:()=>l(n.id),children:[g.jsx(ol,{size:13})," Add"]})]})]}),i.length===0&&g.jsx("p",{className:"sp-text placeholder",children:'No victory conditions yet. Click "Add" to define success.'}),i.map(b=>{const m=f.filter(w=>w.victoryConditionId===b.id).sort((w,x)=>new Date(w.recordedAt).getTime()-new Date(x.recordedAt).getTime());return g.jsx(NM,{vc:b,snapshots:m,onUpdate:o,onDelete:u},b.id)})]})}function NM({vc:n,snapshots:i,onUpdate:l,onDelete:o}){const[u,f]=O.useState(null),[h,y]=O.useState(""),[b,m]=O.useState(!1),w=(_,j)=>{f(_),y(j)},x=async _=>{_==="label"?await l(n.id,{label:h}):_==="target"?await l(n.id,{target:h}):_==="current"&&await l(n.id,{current:h}),f(null)};return g.jsxs("div",{className:`vc-row ${n.met?"met":"unmet"}`,children:[g.jsx("button",{className:"vc-toggle",onClick:()=>l(n.id,{met:!n.met}),children:n.met?g.jsx(Ih,{size:14}):g.jsx(SS,{size:14})}),g.jsxs("div",{className:"vc-content",children:[u==="label"?g.jsx("input",{className:"vc-input",value:h,onChange:_=>y(_.target.value),onKeyDown:_=>{_.key==="Enter"&&x("label"),_.key==="Escape"&&f(null)},onBlur:()=>x("label"),autoFocus:!0,placeholder:"Condition name"}):g.jsx("span",{className:"vc-label",onClick:()=>w("label",n.label),children:n.label||"Click to name..."}),g.jsxs("div",{className:"vc-values",children:[u==="target"?g.jsx("input",{className:"vc-input small",value:h,onChange:_=>y(_.target.value),onKeyDown:_=>{_.key==="Enter"&&x("target"),_.key==="Escape"&&f(null)},onBlur:()=>x("target"),autoFocus:!0,placeholder:"Target"}):g.jsx("span",{className:"vc-value target",onClick:()=>w("target",n.target),children:n.target||"Set target"}),g.jsx("span",{className:"vc-arrow",children:""}),u==="current"?g.jsx("input",{className:"vc-input small",value:h,onChange:_=>y(_.target.value),onKeyDown:_=>{_.key==="Enter"&&x("current"),_.key==="Escape"&&f(null)},onBlur:()=>x("current"),autoFocus:!0,placeholder:"Current"}):g.jsx("span",{className:"vc-value current",onClick:()=>w("current",n.current),children:n.current||"Set current"})]}),i.length>0&&g.jsxs("div",{className:"vc-history",children:[g.jsxs("button",{className:"vc-history-toggle",onClick:()=>m(!b),children:[" ",i.length," snapshot",i.length!==1?"s":""]}),b&&g.jsx("div",{className:"vc-history-list",children:i.map(_=>g.jsxs("div",{className:`vc-history-item ${_.met?"met":"unmet"}`,children:[g.jsx("span",{className:"vc-history-date",children:new Date(_.recordedAt).toLocaleDateString()}),g.jsx("span",{className:"vc-history-value",children:_.value||""}),g.jsx("span",{children:_.met?"":""})]},_.id))})]})]}),g.jsx("button",{className:"vc-delete",onClick:()=>o(n.id),children:g.jsx(Yc,{size:12})})]})}function CM({node:n,onUpdateNode:i,siblingNodes:l}){const o=n.steps??[],[u,f]=O.useState(""),[h,y]=O.useState(null),b=async()=>{if(!u.trim())return;const T=[...o,{id:Nt(),text:u.trim(),done:!1,order:o.length}];await i(n.id,{steps:T}),f("")},m=async T=>{const k=o.find(B=>B.id===T),z=o.map(B=>B.id===T?{...B,done:!B.done}:B);await i(n.id,{steps:z});const A=k&&!k.done?"step-completed":"step-uncompleted";await be.events.add({id:Nt(),nodeId:n.id,eventType:A,timestamp:new Date,metadata:T})},w=async T=>{const k=o.filter(z=>z.id!==T);await i(n.id,{steps:k})},x=async(T,k)=>{const z=o.map(A=>A.id===T?{...A,text:k}:A);await i(n.id,{steps:z})},_=async(T,k)=>{if(T===k)return;const z=[...o],[A]=z.splice(T,1);z.splice(k,0,A),await i(n.id,{steps:z.map((B,G)=>({...B,order:G}))})},j=async(T,k)=>{const z=o.map(A=>A.id===T?{...A,linkedNodeId:k||void 0}:A);await i(n.id,{steps:z})},C=o.filter(T=>T.done).length,D=(l??[]).filter(T=>T.type==="tool"||T.type==="skill");return g.jsxs("div",{className:"sp-section",children:[g.jsx("div",{className:"sp-section-header",children:g.jsxs("label",{className:"sp-label",children:[" Steps (",C,"/",o.length,")"]})}),o.length>0&&g.jsx("div",{className:"sop-progress-track",children:g.jsx("div",{className:"sop-progress-fill",style:{width:`${o.length?Math.round(C/o.length*100):0}%`}})}),g.jsx("div",{className:"sop-list",children:o.map((T,k)=>g.jsx(AM,{step:T,index:k,onToggle:()=>m(T.id),onDelete:()=>w(T.id),onUpdate:z=>x(T.id,z),onMoveUp:k>0?()=>_(k,k-1):void 0,onMoveDown:k<o.length-1?()=>_(k,k+1):void 0,linkableNodes:D,onLink:z=>j(T.id,z),isDragging:h===k,onDragStart:()=>y(k),onDragOver:z=>{z.preventDefault()},onDrop:()=>{h!==null&&_(h,k),y(null)}},T.id))}),g.jsxs("div",{className:"sop-add-row",children:[g.jsx("input",{className:"sp-input",value:u,onChange:T=>f(T.target.value),onKeyDown:T=>{T.key==="Enter"&&b()},placeholder:"Add a step..."}),g.jsx("button",{className:"sp-add-btn",onClick:b,children:g.jsx(ol,{size:13})})]})]})}function AM({step:n,index:i,onToggle:l,onDelete:o,onUpdate:u,onMoveUp:f,onMoveDown:h,linkableNodes:y,onLink:b,isDragging:m,onDragStart:w,onDragOver:x,onDrop:_}){const[j,C]=O.useState(!1),[D,T]=O.useState(n.text),[k,z]=O.useState(!1),A=y?.find(B=>B.id===n.linkedNodeId);return g.jsxs("div",{className:`sop-step ${n.done?"done":""} ${m?"dragging":""}`,draggable:!0,onDragStart:w,onDragOver:x,onDrop:_,children:[g.jsx("span",{className:"sop-step-grip",title:"Drag to reorder",children:g.jsx(OS,{size:12})}),g.jsx("span",{className:"sop-step-num",children:i+1}),g.jsx("button",{className:"sop-step-check",onClick:l,children:n.done?g.jsx(Ih,{size:14}):g.jsx("div",{className:"sop-check-empty"})}),g.jsxs("div",{className:"sop-step-main",children:[j?g.jsx("input",{className:"sop-step-input",value:D,onChange:B=>T(B.target.value),onKeyDown:B=>{B.key==="Enter"&&(u(D),C(!1)),B.key==="Escape"&&C(!1)},onBlur:()=>{u(D),C(!1)},autoFocus:!0}):g.jsx("span",{className:"sop-step-text",onClick:()=>C(!0),children:n.text}),A&&g.jsxs("span",{className:"sop-step-link",style:{color:na[A.type]?.color},children:[na[A.type]?.icon," ",A.label]})]}),g.jsxs("div",{className:"sop-step-actions",children:[y&&y.length>0&&g.jsxs("div",{className:"sop-link-wrapper",children:[g.jsx("button",{className:"sop-step-link-btn",onClick:()=>z(!k),title:"Link to tool/skill",children:""}),k&&g.jsxs("div",{className:"sop-link-menu",children:[g.jsx("button",{className:"sop-link-option",onClick:()=>{b?.(""),z(!1)},children:" None "}),y.map(B=>g.jsxs("button",{className:`sop-link-option ${n.linkedNodeId===B.id?"active":""}`,onClick:()=>{b?.(B.id),z(!1)},children:[na[B.type]?.icon," ",B.label]},B.id))]})]}),f&&g.jsx("button",{className:"sop-step-move",onClick:f,title:"Move up",children:""}),h&&g.jsx("button",{className:"sop-step-move",onClick:h,title:"Move down",children:""}),g.jsx("button",{className:"sop-step-delete",onClick:o,children:g.jsx(Yc,{size:12})})]})]})}function jM({node:n,statuses:i,ef:l,ev:o,startEdit:u,setEV:f,handleKD:h,saveEdit:y,onUpdateNode:b}){return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"sp-section",children:[g.jsxs("label",{className:"sp-label",children:[g.jsx(Sh,{size:13})," URL / Link"]}),l==="toolUrl"?g.jsx("input",{className:"sp-input",value:o,onChange:m=>f(m.target.value),onKeyDown:m=>h(m,"toolUrl"),onBlur:()=>y("toolUrl"),placeholder:"https://...",autoFocus:!0}):g.jsx("p",{className:`sp-text editable ${n.toolUrl?"":"placeholder"}`,onClick:()=>u("toolUrl",n.toolUrl||""),children:n.toolUrl||"Add link to tool..."}),n.toolUrl&&g.jsxs("a",{href:n.toolUrl,target:"_blank",rel:"noreferrer",className:"sp-link",children:["Open in browser ",g.jsx(Sh,{size:12})]})]}),g.jsxs("div",{className:"sp-section",children:[g.jsx("label",{className:"sp-label",children:"Status"}),g.jsx("div",{className:"sp-status-grid",children:i.map(m=>g.jsxs("button",{className:`sp-status-btn ${m.id===n.statusId?"active":""}`,style:{"--sc":m.color},onClick:()=>b(n.id,{statusId:m.id}),children:[g.jsx("span",{children:m.icon}),g.jsx("span",{children:m.label})]},m.id))})]}),g.jsxs("div",{className:"sp-section",children:[g.jsx("label",{className:"sp-label",children:"Description"}),l==="description"?g.jsx("textarea",{className:"sp-textarea",value:o,onChange:m=>f(m.target.value),onBlur:()=>y("description"),placeholder:"What is this tool for?",autoFocus:!0}):g.jsx("p",{className:`sp-text editable ${n.description?"":"placeholder"}`,onClick:()=>u("description",n.description),children:n.description||"What is this tool for?"})]})]})}function MM({node:n,onUpdateNode:i}){return g.jsxs("div",{className:"sp-section",children:[g.jsx("label",{className:"sp-label",children:" Proficiency Level"}),g.jsx("div",{className:"skill-levels",children:Nh.map(l=>g.jsxs("button",{className:`skill-level-btn ${n.proficiency===l.value?"active":""}`,onClick:()=>i(n.id,{proficiency:l.value}),children:[g.jsx("span",{children:l.icon}),g.jsx("span",{children:l.label})]},l.value))})]})}function TM({node:n,ef:i,ev:l,startEdit:o,setEV:u,saveEdit:f}){return g.jsx("div",{className:"sp-section notes-section",children:i==="notes"?g.jsx("textarea",{className:"sp-textarea notes-textarea",value:l,onChange:h=>u(h.target.value),onBlur:()=>f("notes"),placeholder:"Write anything here  SOPs, links, ideas, context...",autoFocus:!0}):g.jsx("div",{className:`sp-text editable notes-display ${n.notes?"":"placeholder"}`,onClick:()=>o("notes",n.notes||""),children:n.notes?n.notes.split(`
`).map((h,y)=>g.jsx("p",{children:h||""},y)):"Click to add notes..."})})}function DM(){const{machineId:n}=sw(),[i,l]=Ww(),o=i.get("parent")??n??"",u=So(),f=Wc(),[h,y]=O.useState([]),[b,m]=O.useState([]),[w,x]=O.useState([]),[_,j]=O.useState([]),[C,D]=O.useState([]),[T,k]=O.useState([]),[z,A]=O.useState([]),[B,G]=O.useState(null),[V,Y]=O.useState(null),[de,he]=O.useState(!1),[Te,le]=O.useState(!1),[ae,Ee]=O.useState(null),K=O.useRef(l);K.current=l;const oe=O.useRef({onDrillDown:ie=>{K.current({parent:ie})},onSelect:ie=>{}});O.useEffect(()=>{be.statuses.orderBy("order").toArray().then(j)},[]),O.useEffect(()=>{o&&(localStorage.setItem("lastViewedMachineId",o),Promise.all([be.nodes.where("parentId").equals(o).toArray(),be.edges.where("parentId").equals(o).toArray(),be.problems.toArray(),be.victoryConditions.toArray()]).then(([ie,ye,Xe,et])=>{x(ie),D(Xe),k(et);const Fe={};Xe.filter(Je=>Je.status!=="resolved").forEach(Je=>{Fe[Je.machineNodeId]=(Fe[Je.machineNodeId]??0)+1}),y(ie.map(Je=>gh(Je,_,Fe,oe.current))),m(ye.map(Je=>vh(Je)))}))},[o,_]),O.useEffect(()=>{async function ie(){const ye=[];let Xe=o;const et=new Set;for(;Xe&&!et.has(Xe);){et.add(Xe);const Fe=await be.nodes.get(Xe);if(Fe)ye.unshift({id:Fe.id,label:Fe.label}),Xe=Fe.parentId||null;else break}ye.length>0&&ye.unshift({id:null,label:"Machines"}),A(ye)}ie()},[o]),O.useEffect(()=>{const ie=ye=>{(ye.metaKey||ye.ctrlKey)&&ye.key==="j"&&(ye.preventDefault(),B&&he(!0))};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[B]);const U=O.useCallback(ie=>y(ye=>_b(ie,ye)),[]),X=O.useCallback(ie=>m(ye=>Eb(ie,ye)),[]),Z=O.useCallback(async(ie,ye)=>{await be.nodes.update(ye.id,{position:ye.position})},[]),se=O.useCallback((ie,ye)=>{G(ye.id)},[]),xe=O.useCallback(()=>{G(null),Y(null),Ee(null)},[]),L=O.useCallback(async(ie,ye)=>{const Xe=await be.edges.get(ye.id);Xe&&Ee({id:Xe.id,label:Xe.label||"",relationship:Xe.relationship||"feeds"})},[]),I=O.useCallback(async()=>{if(!ae)return;await be.edges.update(ae.id,{label:ae.label,relationship:ae.relationship});const ie=await be.edges.where("parentId").equals(o).toArray();m(ie.map(ye=>vh(ye))),Ee(null)},[ae,o]),_e=O.useCallback((ie,ye)=>{ie.preventDefault(),Y({x:ie.clientX,y:ie.clientY,nodeId:ye.id})},[]),Se=O.useCallback(async ie=>{if(!o)return;le(!1);const ye=f.screenToFlowPosition({x:window.innerWidth/2-150,y:window.innerHeight/2}),Xe=na[ie],et=yM(ie),Fe={id:Nt(),parentId:o,type:et.type,label:`New ${Xe.label}`,description:et.description,statusId:et.statusId,position:{x:ye.x+Math.random()*100,y:ye.y+Math.random()*100},goal:et.goal,bottleneck:et.bottleneck,notes:et.notes,steps:et.steps,toolUrl:et.toolUrl,proficiency:et.proficiency,hasChildren:et.hasChildren,createdAt:new Date,updatedAt:new Date};await be.nodes.add(Fe),await be.events.add({id:Nt(),nodeId:Fe.id,eventType:"node-created",timestamp:new Date}),x(ct=>[...ct,Fe]);const Je={};C.filter(ct=>ct.status!=="resolved").forEach(ct=>{Je[ct.machineNodeId]=(Je[ct.machineNodeId]??0)+1}),y(ct=>[...ct,gh(Fe,_,Je,oe.current)]),G(Fe.id)},[o,f,_,C]),Be=O.useCallback(async ie=>{if(!ie.source||!ie.target||!o)return;const ye={id:Nt(),parentId:o,source:ie.source,target:ie.target,relationship:"feeds"};await be.edges.add(ye),m(Xe=>[...Xe,vh(ye)])},[o]),Le=O.useCallback(async(ie,ye)=>{if(ye.statusId){const et=w.find(Fe=>Fe.id===ie);et&&et.statusId!==ye.statusId&&(await be.statusChanges.add({id:Nt(),machineNodeId:ie,fromStatusId:et.statusId,toStatusId:ye.statusId,changedAt:new Date}),await be.events.add({id:Nt(),nodeId:ie,eventType:"status-change",timestamp:new Date,previousValue:et.statusId,newValue:ye.statusId}))}ye.notes!==void 0&&await be.events.add({id:Nt(),nodeId:ie,eventType:"note-updated",timestamp:new Date}),await be.nodes.update(ie,{...ye,updatedAt:new Date}),x(et=>et.map(Fe=>Fe.id===ie?{...Fe,...ye}:Fe));const Xe={};C.filter(et=>et.status!=="resolved").forEach(et=>{Xe[et.machineNodeId]=(Xe[et.machineNodeId]??0)+1}),y(et=>et.map(Fe=>{if(Fe.id!==ie)return Fe;const Je=w.find(ct=>ct.id===ie);return Je?gh({...Je,...ye},_,Xe,oe.current):Fe}))},[w,_,C]),He=O.useCallback(async ie=>{B&&await Le(B,{statusId:ie}),he(!1)},[B,Le]),De=O.useCallback(async ie=>{const ye={id:Nt(),machineNodeId:ie,title:"New Problem",description:"",severity:"medium",status:"open",diagnosis:"",plan:"",createdAt:new Date,resolvedAt:null};await be.problems.add(ye),await be.events.add({id:Nt(),nodeId:ie,eventType:"problem-logged",timestamp:new Date,newValue:ye.id}),D(Xe=>[...Xe,ye])},[]),qe=O.useCallback(async(ie,ye)=>{const Xe=await be.problems.get(ie);await be.problems.update(ie,ye),ye.status==="resolved"&&Xe?await be.events.add({id:Nt(),nodeId:Xe.machineNodeId,eventType:"problem-resolved",timestamp:new Date,metadata:ie}):Xe&&await be.events.add({id:Nt(),nodeId:Xe.machineNodeId,eventType:"problem-updated",timestamp:new Date,metadata:ie}),D(et=>et.map(Fe=>Fe.id===ie?{...Fe,...ye}:Fe))},[]),ze=O.useCallback(async ie=>{const ye={id:Nt(),machineNodeId:ie,label:"",target:"",current:"",met:!1,order:T.filter(Xe=>Xe.machineNodeId===ie).length};await be.victoryConditions.add(ye),k(Xe=>[...Xe,ye])},[T]),lt=O.useCallback(async(ie,ye)=>{const Xe=await be.victoryConditions.get(ie);await be.victoryConditions.update(ie,ye),Xe&&await be.events.add({id:Nt(),nodeId:Xe.machineNodeId,eventType:"metric-updated",timestamp:new Date,previousValue:Xe.current,newValue:ye.current??Xe.current}),k(et=>et.map(Fe=>Fe.id===ie?{...Fe,...ye}:Fe))},[]),Ue=O.useCallback(async ie=>{await be.victoryConditions.delete(ie),k(ye=>ye.filter(Xe=>Xe.id!==ie))},[]),Ae=O.useCallback(async ie=>{await be.transaction("rw",[be.nodes,be.edges,be.problems,be.levers,be.principles,be.victoryConditions],async()=>{const ye=await be.nodes.where("parentId").equals(ie).toArray();for(const Xe of ye)await be.nodes.delete(Xe.id);await be.edges.filter(Xe=>Xe.source===ie||Xe.target===ie).delete(),await be.problems.where("machineNodeId").equals(ie).delete(),await be.victoryConditions.where("machineNodeId").equals(ie).delete(),await be.nodes.delete(ie)}),await be.events.add({id:Nt(),nodeId:ie,eventType:"node-deleted",timestamp:new Date}),x(ye=>ye.filter(Xe=>Xe.id!==ie)),y(ye=>ye.filter(Xe=>Xe.id!==ie)),m(ye=>ye.filter(Xe=>Xe.source!==ie&&Xe.target!==ie)),B===ie&&G(null),Y(null)},[B]);O.useEffect(()=>{const ie=()=>Y(null);return document.addEventListener("click",ie),()=>document.removeEventListener("click",ie)},[]);const Ke=O.useCallback(ie=>{ie.id===null?u("/"):l({parent:ie.id})},[u,l]),Ge=w.find(ie=>ie.id===B)??null;return g.jsxs("div",{className:"whiteboard-page",children:[g.jsx("div",{className:"whiteboard-header",children:g.jsxs("div",{className:"whiteboard-header-left",children:[g.jsx("button",{className:"wb-back",onClick:()=>{if(z.length>2){const ie=z[z.length-2];ie&&Ke(ie)}else u("/")},children:g.jsx(s0,{size:18})}),g.jsx("div",{className:"breadcrumb",children:z.map((ie,ye)=>g.jsxs("span",{children:[ye>0&&g.jsx("span",{className:"bc-sep",children:""}),g.jsx("span",{className:`bc-item ${ye===z.length-1?"active":""}`,onClick:()=>ye<z.length-1&&Ke(ie),children:ie.label})]},`${ie.id??"root"}-${ye}`))})]})}),g.jsxs("div",{className:"whiteboard-content",children:[g.jsxs("div",{className:"whiteboard-canvas",children:[h.length===0&&g.jsxs("div",{className:"canvas-empty",children:[g.jsx("h3",{children:"Empty canvas"}),g.jsx("p",{children:"Add machines, SOPs, tools, skills or notes"}),g.jsxs("button",{className:"btn btn-primary",onClick:()=>le(!0),children:[g.jsx(ol,{size:16})," Add First Node"]})]}),g.jsxs(Uj,{nodes:h,edges:b,onNodesChange:U,onEdgesChange:X,onConnect:Be,onNodeDragStop:Z,onNodeClick:se,onNodeContextMenu:_e,onEdgeClick:L,onPaneClick:xe,nodeTypes:mM,fitView:!0,snapToGrid:!0,snapGrid:[20,20],minZoom:.1,maxZoom:2,defaultEdgeOptions:{type:"smoothstep",animated:!0,style:{strokeWidth:2.5,stroke:"#64748b"},markerEnd:{type:po.ArrowClosed,width:18,height:18,color:"#64748b"}},proOptions:{hideAttribution:!0},children:[g.jsx($j,{variant:Yi.Dots,gap:24,size:1.5,color:"#334155"}),g.jsx(Fj,{showInteractive:!1,position:"bottom-left"}),g.jsx(cM,{nodeColor:ie=>ie.data?.statusColor??"#6b7280",maskColor:"rgba(0,0,0,0.4)",style:{background:"#1e293b",border:"1px solid #334155",borderRadius:"8px"}}),g.jsx(Fs,{position:"top-left",style:{marginTop:"60px"},children:g.jsx("div",{className:"toolbar",children:g.jsx("button",{className:"toolbar-btn",onClick:()=>le(!0),title:"Add node",children:g.jsx(ol,{size:18})})})})]}),V&&g.jsxs("div",{className:"context-menu",style:{left:V.x,top:V.y},onClick:ie=>ie.stopPropagation(),children:[g.jsxs("button",{className:"ctx-item",onClick:()=>{G(V.nodeId),Y(null)},children:[g.jsx(BS,{size:14})," Edit"]}),g.jsx("div",{className:"ctx-divider"}),g.jsxs("button",{className:"ctx-item danger",onClick:()=>Ae(V.nodeId),children:[g.jsx(Yc,{size:14})," Delete"]})]}),ae&&g.jsxs("div",{className:"edge-edit-panel",onClick:ie=>ie.stopPropagation(),children:[g.jsxs("div",{className:"edge-edit-header",children:[g.jsx("label",{className:"sp-label",children:"Edge Relationship"}),g.jsx("button",{className:"sp-close",onClick:()=>Ee(null),children:g.jsx(Kc,{size:14})})]}),g.jsx("div",{className:"edge-edit-types",children:c0.map(ie=>g.jsx("button",{className:`edge-type-btn ${ae.relationship===ie.value?"active":""}`,style:{"--ec":ie.color},onClick:()=>Ee({...ae,relationship:ie.value}),children:ie.label},ie.value))}),g.jsx("input",{className:"sp-input",value:ae.label,onChange:ie=>Ee({...ae,label:ie.target.value}),onKeyDown:ie=>{ie.key==="Enter"&&I()},placeholder:"Custom label (optional)"}),g.jsx("button",{className:"btn btn-primary btn-sm",style:{marginTop:"8px",width:"100%"},onClick:I,children:"Save"})]})]}),g.jsx(xM,{selectedNode:Ge,problems:C,statuses:_,victoryConditions:T,dbNodes:w,parentId:o,onClose:()=>G(null),onUpdateNode:Le,onAddProblem:De,onUpdateProblem:qe,onAddVC:ze,onUpdateVC:lt,onDeleteVC:Ue})]}),de&&g.jsx(gM,{statuses:_,onSelect:He,onClose:()=>he(!1)}),Te&&g.jsx(vM,{onAdd:Se,onClose:()=>le(!1)})]})}function zM(){return g.jsx(Qb,{children:g.jsx(DM,{})})}function OM(){const n=So(),[i,l]=O.useState([]),[o,u]=O.useState([]),[f,h]=O.useState([]),[y,b]=O.useState(!0);O.useEffect(()=>{Promise.all([be.captures.filter(j=>!j.processed).sortBy("createdAt").then(j=>j.reverse()),be.nodes.where("parentId").equals("").toArray(),be.nodes.toArray()]).then(([j,C,D])=>{l(j),u(C.sort((T,k)=>new Date(k.updatedAt).getTime()-new Date(T.updatedAt).getTime())),h(D),b(!1)})},[]);const m=O.useCallback(async j=>{await be.captures.update(j,{processed:!0}),await be.events.add({id:Nt(),nodeId:"",eventType:"capture-processed",timestamp:new Date,metadata:JSON.stringify({action:"dismissed"})}),l(C=>C.filter(D=>D.id!==j))},[]),w=O.useCallback(async(j,C,D)=>{const T=await be.nodes.get(C);if(!T)return;const k=T.notes||"",z=k?`${k}

 ${D}`:` ${D}`;await be.nodes.update(C,{notes:z,updatedAt:new Date}),await be.captures.update(j,{processed:!0}),await be.events.add({id:Nt(),nodeId:C,eventType:"note-updated",timestamp:new Date,newValue:D}),await be.events.add({id:Nt(),nodeId:"",eventType:"capture-processed",timestamp:new Date,metadata:JSON.stringify({action:"note",targetNodeId:C})}),l(A=>A.filter(B=>B.id!==j))},[]),x=O.useCallback(async(j,C,D)=>{await be.problems.add({id:Nt(),machineNodeId:C,title:D,description:"",severity:"medium",status:"open",diagnosis:"",plan:"",createdAt:new Date,resolvedAt:null}),await be.captures.update(j,{processed:!0}),await be.events.add({id:Nt(),nodeId:C,eventType:"problem-logged",timestamp:new Date,newValue:D}),await be.events.add({id:Nt(),nodeId:"",eventType:"capture-processed",timestamp:new Date,metadata:JSON.stringify({action:"problem",targetNodeId:C})}),l(T=>T.filter(k=>k.id!==j))},[]),_=O.useCallback(async(j,C,D,T)=>{await be.victoryConditions.update(C,{current:T}),await be.vcSnapshots.add({id:Nt(),victoryConditionId:C,machineNodeId:D,value:T,met:!1,recordedAt:new Date}),await be.captures.update(j,{processed:!0}),await be.events.add({id:Nt(),nodeId:D,eventType:"metric-updated",timestamp:new Date,newValue:T}),await be.events.add({id:Nt(),nodeId:"",eventType:"capture-processed",timestamp:new Date,metadata:JSON.stringify({action:"metric",targetNodeId:D})}),l(k=>k.filter(z=>z.id!==j))},[]);return y?g.jsx("div",{className:"inbox-page",children:g.jsx("div",{className:"inbox-loading",children:"Loading inbox..."})}):g.jsxs("div",{className:"inbox-page",children:[g.jsxs("div",{className:"inbox-header",children:[g.jsxs("div",{className:"inbox-header-left",children:[g.jsx("button",{className:"wb-back",onClick:()=>n("/"),children:g.jsx(s0,{size:18})}),g.jsxs("div",{children:[g.jsx("h1",{className:"inbox-title",children:" Inbox"}),g.jsxs("p",{className:"inbox-subtitle",children:[i.length," unprocessed capture",i.length!==1?"s":""]})]})]}),i.length>0&&g.jsx("button",{className:"btn btn-ghost btn-sm",onClick:async()=>{for(const j of i)await m(j.id)},children:"Dismiss All"})]}),g.jsx("div",{className:"inbox-content",children:i.length===0?g.jsxs("div",{className:"inbox-empty",children:[g.jsx(Gh,{size:48}),g.jsx("h3",{children:"Inbox Zero "}),g.jsxs("p",{children:["All captures have been processed. Use ",g.jsx("kbd",{children:"."})," to capture thoughts anytime."]}),g.jsx("button",{className:"btn btn-primary",onClick:()=>n("/"),children:"Back to Dashboard"})]}):g.jsx("div",{className:"inbox-list",children:i.map(j=>g.jsx(kM,{capture:j,machines:o,allNodes:f,onDismiss:m,onMakeNote:w,onMakeProblem:x,onMakeMetric:_},j.id))})})]})}function kM({capture:n,machines:i,allNodes:l,onDismiss:o,onMakeNote:u,onMakeProblem:f,onMakeMetric:h}){const[y,b]=O.useState(n.machineId||i[0]?.id||""),[m,w]=O.useState(""),[x,_]=O.useState(!1),[j,C]=O.useState([]),[D,T]=O.useState(""),[k,z]=O.useState(n.text),A=l.filter(V=>V.parentId===y),B=m||y,G=l.find(V=>V.id===n.machineId)?.label;return O.useEffect(()=>{x&&B&&be.victoryConditions.where("machineNodeId").equals(B).toArray().then(V=>{C(V),V.length>0&&T(V[0].id)})},[x,B]),g.jsxs("div",{className:"capture-card",children:[g.jsx("div",{className:"capture-card-text",children:n.text}),g.jsxs("div",{className:"capture-card-meta",children:[g.jsxs("span",{children:[" ",Zh(n.createdAt)]}),G&&g.jsxs("span",{children:["from ",g.jsx("strong",{children:G})]})]}),g.jsxs("div",{className:"capture-card-target",children:[g.jsxs("select",{className:"capture-select",value:y,onChange:V=>{b(V.target.value),w("")},children:[g.jsx("option",{value:"",children:" Select Machine "}),i.map(V=>g.jsx("option",{value:V.id,children:V.label},V.id))]}),A.length>0&&g.jsxs("select",{className:"capture-select",value:m,onChange:V=>w(V.target.value),children:[g.jsx("option",{value:"",children:" Root (machine itself) "}),A.map(V=>{const Y=na[V.type];return g.jsxs("option",{value:V.id,children:[Y.icon," ",V.label]},V.id)})]})]}),x&&g.jsxs("div",{className:"capture-metric-form",children:[g.jsxs("select",{className:"capture-select",value:D,onChange:V=>T(V.target.value),children:[g.jsx("option",{value:"",children:" Select Victory Condition "}),j.map(V=>g.jsx("option",{value:V.id,children:V.label||"(unnamed)"},V.id))]}),g.jsx("input",{className:"capture-metric-input",value:k,onChange:V=>z(V.target.value),placeholder:"Current value"}),g.jsx("button",{className:"btn btn-primary btn-sm",disabled:!D,onClick:()=>h(n.id,D,B,k),children:"Save Metric"})]}),g.jsxs("div",{className:"capture-card-actions",children:[g.jsxs("button",{className:"capture-action-btn action-problem",disabled:!B,onClick:()=>f(n.id,B,n.text),children:[g.jsx(uo,{size:14})," Problem"]}),g.jsxs("button",{className:"capture-action-btn action-note",disabled:!B,onClick:()=>u(n.id,B,n.text),children:[g.jsx(DS,{size:14})," Note"]}),g.jsxs("button",{className:"capture-action-btn action-metric",onClick:()=>_(!x),children:[g.jsx(mS,{size:14})," Metric"]}),g.jsxs("button",{className:"capture-action-btn action-dismiss",onClick:()=>o(n.id),children:[g.jsx(Yc,{size:14})," Dismiss"]})]})]})}function RM(){return g.jsx(Zw,{children:g.jsxs(rS,{children:[g.jsxs(_w,{children:[g.jsx(vc,{path:"/",element:g.jsx(u_,{})}),g.jsx(vc,{path:"/machine/:machineId",element:g.jsx(zM,{})}),g.jsx(vc,{path:"/inbox",element:g.jsx(OM,{})})]}),g.jsx(t_,{})]})})}N1.createRoot(document.getElementById("root")).render(g.jsx(O.StrictMode,{children:g.jsx(RM,{})}));
